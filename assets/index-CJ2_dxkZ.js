(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function a(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(f){if(f.ep)return;f.ep=!0;const d=a(f);fetch(f.href,d)}})();function To(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var po={exports:{}},Wl={},vo={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd;function Ch(){if(Sd)return Te;Sd=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function j(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function F(C,L,ae){this.props=C,this.context=L,this.refs=M,this.updater=ae||b}F.prototype.isReactComponent={},F.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},F.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function G(){}G.prototype=F.prototype;function D(C,L,ae){this.props=C,this.context=L,this.refs=M,this.updater=ae||b}var k=D.prototype=new G;k.constructor=D,P(k,F.prototype),k.isPureReactComponent=!0;var K=Array.isArray,Y=Object.prototype.hasOwnProperty,N={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function X(C,L,ae){var ie,he={},Ce=null,_e=null;if(L!=null)for(ie in L.ref!==void 0&&(_e=L.ref),L.key!==void 0&&(Ce=""+L.key),L)Y.call(L,ie)&&!$.hasOwnProperty(ie)&&(he[ie]=L[ie]);var Ie=arguments.length-2;if(Ie===1)he.children=ae;else if(1<Ie){for(var q=Array(Ie),ue=0;ue<Ie;ue++)q[ue]=arguments[ue+2];he.children=q}if(C&&C.defaultProps)for(ie in Ie=C.defaultProps,Ie)he[ie]===void 0&&(he[ie]=Ie[ie]);return{$$typeof:r,type:C,key:Ce,ref:_e,props:he,_owner:N.current}}function U(C,L){return{$$typeof:r,type:C.type,key:L,ref:C.ref,props:C.props,_owner:C._owner}}function T(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function B(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ae){return L[ae]})}var ce=/\/+/g;function me(C,L){return typeof C=="object"&&C!==null&&C.key!=null?B(""+C.key):L.toString(36)}function le(C,L,ae,ie,he){var Ce=typeof C;(Ce==="undefined"||Ce==="boolean")&&(C=null);var _e=!1;if(C===null)_e=!0;else switch(Ce){case"string":case"number":_e=!0;break;case"object":switch(C.$$typeof){case r:case i:_e=!0}}if(_e)return _e=C,he=he(_e),C=ie===""?"."+me(_e,0):ie,K(he)?(ae="",C!=null&&(ae=C.replace(ce,"$&/")+"/"),le(he,L,ae,"",function(ue){return ue})):he!=null&&(T(he)&&(he=U(he,ae+(!he.key||_e&&_e.key===he.key?"":(""+he.key).replace(ce,"$&/")+"/")+C)),L.push(he)),1;if(_e=0,ie=ie===""?".":ie+":",K(C))for(var Ie=0;Ie<C.length;Ie++){Ce=C[Ie];var q=ie+me(Ce,Ie);_e+=le(Ce,L,ae,q,he)}else if(q=j(C),typeof q=="function")for(C=q.call(C),Ie=0;!(Ce=C.next()).done;)Ce=Ce.value,q=ie+me(Ce,Ie++),_e+=le(Ce,L,ae,q,he);else if(Ce==="object")throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return _e}function Z(C,L,ae){if(C==null)return C;var ie=[],he=0;return le(C,ie,"","",function(Ce){return L.call(ae,Ce,he++)}),ie}function Q(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(ae){(C._status===0||C._status===-1)&&(C._status=1,C._result=ae)},function(ae){(C._status===0||C._status===-1)&&(C._status=2,C._result=ae)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var ne={current:null},O={transition:null},J={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function W(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Z,forEach:function(C,L,ae){Z(C,function(){L.apply(this,arguments)},ae)},count:function(C){var L=0;return Z(C,function(){L++}),L},toArray:function(C){return Z(C,function(L){return L})||[]},only:function(C){if(!T(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Te.Component=F,Te.Fragment=a,Te.Profiler=f,Te.PureComponent=D,Te.StrictMode=c,Te.Suspense=g,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Te.act=W,Te.cloneElement=function(C,L,ae){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ie=P({},C.props),he=C.key,Ce=C.ref,_e=C._owner;if(L!=null){if(L.ref!==void 0&&(Ce=L.ref,_e=N.current),L.key!==void 0&&(he=""+L.key),C.type&&C.type.defaultProps)var Ie=C.type.defaultProps;for(q in L)Y.call(L,q)&&!$.hasOwnProperty(q)&&(ie[q]=L[q]===void 0&&Ie!==void 0?Ie[q]:L[q])}var q=arguments.length-2;if(q===1)ie.children=ae;else if(1<q){Ie=Array(q);for(var ue=0;ue<q;ue++)Ie[ue]=arguments[ue+2];ie.children=Ie}return{$$typeof:r,type:C.type,key:he,ref:Ce,props:ie,_owner:_e}},Te.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:d,_context:C},C.Consumer=C},Te.createElement=X,Te.createFactory=function(C){var L=X.bind(null,C);return L.type=C,L},Te.createRef=function(){return{current:null}},Te.forwardRef=function(C){return{$$typeof:p,render:C}},Te.isValidElement=T,Te.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:Q}},Te.memo=function(C,L){return{$$typeof:v,type:C,compare:L===void 0?null:L}},Te.startTransition=function(C){var L=O.transition;O.transition={};try{C()}finally{O.transition=L}},Te.unstable_act=W,Te.useCallback=function(C,L){return ne.current.useCallback(C,L)},Te.useContext=function(C){return ne.current.useContext(C)},Te.useDebugValue=function(){},Te.useDeferredValue=function(C){return ne.current.useDeferredValue(C)},Te.useEffect=function(C,L){return ne.current.useEffect(C,L)},Te.useId=function(){return ne.current.useId()},Te.useImperativeHandle=function(C,L,ae){return ne.current.useImperativeHandle(C,L,ae)},Te.useInsertionEffect=function(C,L){return ne.current.useInsertionEffect(C,L)},Te.useLayoutEffect=function(C,L){return ne.current.useLayoutEffect(C,L)},Te.useMemo=function(C,L){return ne.current.useMemo(C,L)},Te.useReducer=function(C,L,ae){return ne.current.useReducer(C,L,ae)},Te.useRef=function(C){return ne.current.useRef(C)},Te.useState=function(C){return ne.current.useState(C)},Te.useSyncExternalStore=function(C,L,ae){return ne.current.useSyncExternalStore(C,L,ae)},Te.useTransition=function(){return ne.current.useTransition()},Te.version="18.3.1",Te}var kd;function Oo(){return kd||(kd=1,vo.exports=Ch()),vo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function bh(){if(Cd)return Wl;Cd=1;var r=Oo(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,f=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,v){var y,w={},j=null,b=null;v!==void 0&&(j=""+v),g.key!==void 0&&(j=""+g.key),g.ref!==void 0&&(b=g.ref);for(y in g)c.call(g,y)&&!d.hasOwnProperty(y)&&(w[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)w[y]===void 0&&(w[y]=g[y]);return{$$typeof:i,type:p,key:j,ref:b,props:w,_owner:f.current}}return Wl.Fragment=a,Wl.jsx=h,Wl.jsxs=h,Wl}var bd;function Eh(){return bd||(bd=1,po.exports=bh()),po.exports}var l=Eh(),x=Oo();const va=To(x);var ga={},go={exports:{}},Lt={},yo={exports:{}},xo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function Ph(){return Ed||(Ed=1,(function(r){function i(O,J){var W=O.length;O.push(J);e:for(;0<W;){var C=W-1>>>1,L=O[C];if(0<f(L,J))O[C]=J,O[W]=L,W=C;else break e}}function a(O){return O.length===0?null:O[0]}function c(O){if(O.length===0)return null;var J=O[0],W=O.pop();if(W!==J){O[0]=W;e:for(var C=0,L=O.length,ae=L>>>1;C<ae;){var ie=2*(C+1)-1,he=O[ie],Ce=ie+1,_e=O[Ce];if(0>f(he,W))Ce<L&&0>f(_e,he)?(O[C]=_e,O[Ce]=W,C=Ce):(O[C]=he,O[ie]=W,C=ie);else if(Ce<L&&0>f(_e,W))O[C]=_e,O[Ce]=W,C=Ce;else break e}}return J}function f(O,J){var W=O.sortIndex-J.sortIndex;return W!==0?W:O.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],v=[],y=1,w=null,j=3,b=!1,P=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(O){for(var J=a(v);J!==null;){if(J.callback===null)c(v);else if(J.startTime<=O)c(v),J.sortIndex=J.expirationTime,i(g,J);else break;J=a(v)}}function K(O){if(M=!1,k(O),!P)if(a(g)!==null)P=!0,Q(Y);else{var J=a(v);J!==null&&ne(K,J.startTime-O)}}function Y(O,J){P=!1,M&&(M=!1,G(X),X=-1),b=!0;var W=j;try{for(k(J),w=a(g);w!==null&&(!(w.expirationTime>J)||O&&!B());){var C=w.callback;if(typeof C=="function"){w.callback=null,j=w.priorityLevel;var L=C(w.expirationTime<=J);J=r.unstable_now(),typeof L=="function"?w.callback=L:w===a(g)&&c(g),k(J)}else c(g);w=a(g)}if(w!==null)var ae=!0;else{var ie=a(v);ie!==null&&ne(K,ie.startTime-J),ae=!1}return ae}finally{w=null,j=W,b=!1}}var N=!1,$=null,X=-1,U=5,T=-1;function B(){return!(r.unstable_now()-T<U)}function ce(){if($!==null){var O=r.unstable_now();T=O;var J=!0;try{J=$(!0,O)}finally{J?me():(N=!1,$=null)}}else N=!1}var me;if(typeof D=="function")me=function(){D(ce)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Z=le.port2;le.port1.onmessage=ce,me=function(){Z.postMessage(null)}}else me=function(){F(ce,0)};function Q(O){$=O,N||(N=!0,me())}function ne(O,J){X=F(function(){O(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_continueExecution=function(){P||b||(P=!0,Q(Y))},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return j},r.unstable_getFirstCallbackNode=function(){return a(g)},r.unstable_next=function(O){switch(j){case 1:case 2:case 3:var J=3;break;default:J=j}var W=j;j=J;try{return O()}finally{j=W}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(O,J){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=j;j=O;try{return J()}finally{j=W}},r.unstable_scheduleCallback=function(O,J,W){var C=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?C+W:C):W=C,O){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,O={id:y++,callback:J,priorityLevel:O,startTime:W,expirationTime:L,sortIndex:-1},W>C?(O.sortIndex=W,i(v,O),a(g)===null&&O===a(v)&&(M?(G(X),X=-1):M=!0,ne(K,W-C))):(O.sortIndex=L,i(g,O),P||b||(P=!0,Q(Y))),O},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(O){var J=j;return function(){var W=j;j=J;try{return O.apply(this,arguments)}finally{j=W}}}})(xo)),xo}var Pd;function Rh(){return Pd||(Pd=1,yo.exports=Ph()),yo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function Lh(){if(Rd)return Lt;Rd=1;var r=Oo(),i=Rh();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,f={};function d(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(f[e]=t,e=0;e<t.length;e++)c.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function j(e){return g.call(w,e)?!0:g.call(y,e)?!1:v.test(e)?w[e]=!0:(y[e]=!0,!1)}function b(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,t,n,s){if(t===null||typeof t>"u"||b(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function M(e,t,n,s,o,u,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=m}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];F[t]=new M(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G,D);F[t]=new M(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G,D);F[t]=new M(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G,D);F[t]=new M(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function k(e,t,n,s){var o=F.hasOwnProperty(t)?F[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P(t,n,o,s)&&(n=null),s||o===null?j(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),N=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),B=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),O=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,C;function L(e){if(C===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var ae=!1;function ie(e,t){if(!e||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(H){var s=H}Reflect.construct(e,[],t)}else{try{t.call()}catch(H){s=H}e.call(t.prototype)}else{try{throw Error()}catch(H){s=H}e()}}catch(H){if(H&&s&&typeof H.stack=="string"){for(var o=H.stack.split(`
`),u=s.stack.split(`
`),m=o.length-1,S=u.length-1;1<=m&&0<=S&&o[m]!==u[S];)S--;for(;1<=m&&0<=S;m--,S--)if(o[m]!==u[S]){if(m!==1||S!==1)do if(m--,S--,0>S||o[m]!==u[S]){var R=`
`+o[m].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=m&&0<=S);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function he(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function Ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case N:return"Portal";case U:return"Profiler";case X:return"StrictMode";case me:return"Suspense";case le:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case ce:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:Ce(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return Ce(e(t))}catch{}}return null}function _e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(t);case 8:return t===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ue(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){s=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pe(e){e._valueTracker||(e._valueTracker=ue(e))}function Fe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=q(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function mt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qt(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ss(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ie(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function as(e,t){t=t.checked,t!=null&&k(e,"checked",t,!1)}function Rr(e,t){as(e,t);var n=Ie(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&sl(e,t.type,Ie(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function is(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sl(e,t,n){(t!=="number"||mt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ir=Array.isArray;function Dn(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ie(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Gt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _n(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(ir(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ie(n)}}function al(e,t){var n=Ie(t.value),s=Ie(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Lr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ft(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ft(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var or,os=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=or.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xt=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(e){Xt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]})});function il(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function ol(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=il(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var us=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(e,t){if(t){if(us[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Dr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mn=null;function _r(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,In=null,gn=null;function cs(e){if(e=Ll(e)){if(typeof cr!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Ds(t),cr(e.stateNode,e.type,t))}}function cl(e){In?gn?gn.push(e):gn=[e]:In=e}function dr(){if(In){var e=In,t=gn;if(gn=In=null,cs(e),t)for(e=0;e<t.length;e++)cs(t[e])}}function fr(e,t){return e(t)}function ds(){}var dl=!1;function E(e,t,n){if(dl)return e(t,n);dl=!0;try{return fr(e,t,n)}finally{dl=!1,(In!==null||gn!==null)&&(ds(),dr())}}function I(e,t){var n=e.stateNode;if(n===null)return null;var s=Ds(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var V=!1;if(p)try{var re={};Object.defineProperty(re,"passive",{get:function(){V=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{V=!1}function de(e,t,n,s,o,u,m,S,R){var H=Array.prototype.slice.call(arguments,3);try{t.apply(n,H)}catch(te){this.onError(te)}}var ye=!1,Ne=null,ve=!1,we=null,Re={onError:function(e){ye=!0,Ne=e}};function ke(e,t,n,s,o,u,m,S,R){ye=!1,Ne=null,de.apply(Re,arguments)}function Se(e,t,n,s,o,u,m,S,R){if(ke.apply(this,arguments),ye){if(ye){var H=Ne;ye=!1,Ne=null}else throw Error(a(198));ve||(ve=!0,we=H)}}function Me(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function He(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tt(e){if(Me(e)!==e)throw Error(a(188))}function ht(e){var t=e.alternate;if(!t){if(t=Me(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return tt(o),e;if(u===s)return tt(o),t;u=u.sibling}throw Error(a(188))}if(n.return!==s.return)n=o,s=u;else{for(var m=!1,S=o.child;S;){if(S===n){m=!0,n=o,s=u;break}if(S===s){m=!0,s=o,n=u;break}S=S.sibling}if(!m){for(S=u.child;S;){if(S===n){m=!0,n=u,s=o;break}if(S===s){m=!0,s=u,n=o;break}S=S.sibling}if(!m)throw Error(a(189))}}if(n.alternate!==s)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function Ve(e){return e=ht(e),e!==null?Be(e):null}function Be(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Be(e);if(t!==null)return t;e=e.sibling}return null}var on=i.unstable_scheduleCallback,Tn=i.unstable_cancelCallback,un=i.unstable_shouldYield,$t=i.unstable_requestPaint,Ye=i.unstable_now,mr=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,hr=i.unstable_UserBlockingPriority,yn=i.unstable_NormalPriority,ze=i.unstable_LowPriority,at=i.unstable_IdlePriority,Zt=null,ut=null;function nt(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Zt,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Hf,fs=Math.log,Ia=Math.LN2;function Hf(e){return e>>>=0,e===0?32:31-(fs(e)/Ia|0)|0}var ms=64,hs=4194304;function fl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ps(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,u=e.pingedLanes,m=n&268435455;if(m!==0){var S=m&~o;S!==0?s=fl(S):(u&=m,u!==0&&(s=fl(u)))}else m=n&~o,m!==0?s=fl(m):u!==0&&(s=fl(u));if(s===0)return 0;if(t!==0&&t!==s&&(t&o)===0&&(o=s&-s,u=t&-t,o>=u||o===16&&(u&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-gt(t),o=1<<n,s|=e[n],t&=~o;return s}function Vf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var m=31-gt(u),S=1<<m,R=o[m];R===-1?((S&n)===0||(S&s)!==0)&&(o[m]=Vf(S,t)):R<=t&&(e.expiredLanes|=S),u&=~S}}function Ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eu(){var e=ms;return ms<<=1,(ms&4194240)===0&&(ms=64),e}function Oa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ml(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function Yf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-gt(n),u=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~u}}function za(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-gt(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var Ue=0;function tu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var nu,Fa,ru,lu,su,$a=!1,vs=[],On=null,zn=null,Fn=null,hl=new Map,pl=new Map,$n=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(t.pointerId)}}function vl(e,t,n,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ll(t),t!==null&&Fa(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Kf(e,t,n,s,o){switch(t){case"focusin":return On=vl(On,e,t,n,s,o),!0;case"dragenter":return zn=vl(zn,e,t,n,s,o),!0;case"mouseover":return Fn=vl(Fn,e,t,n,s,o),!0;case"pointerover":var u=o.pointerId;return hl.set(u,vl(hl.get(u)||null,e,t,n,s,o)),!0;case"gotpointercapture":return u=o.pointerId,pl.set(u,vl(pl.get(u)||null,e,t,n,s,o)),!0}return!1}function iu(e){var t=pr(e.target);if(t!==null){var n=Me(t);if(n!==null){if(t=n.tag,t===13){if(t=He(n),t!==null){e.blockedOn=t,su(e.priority,function(){ru(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ua(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Mn=s,n.target.dispatchEvent(s),Mn=null}else return t=Ll(n),t!==null&&Fa(t),e.blockedOn=n,!1;t.shift()}return!0}function ou(e,t,n){gs(e)&&n.delete(t)}function qf(){$a=!1,On!==null&&gs(On)&&(On=null),zn!==null&&gs(zn)&&(zn=null),Fn!==null&&gs(Fn)&&(Fn=null),hl.forEach(ou),pl.forEach(ou)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,$a||($a=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qf)))}function yl(e){function t(o){return gl(o,e)}if(0<vs.length){gl(vs[0],e);for(var n=1;n<vs.length;n++){var s=vs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(On!==null&&gl(On,e),zn!==null&&gl(zn,e),Fn!==null&&gl(Fn,e),hl.forEach(t),pl.forEach(t),n=0;n<$n.length;n++)s=$n[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)iu(n),n.blockedOn===null&&$n.shift()}var Mr=K.ReactCurrentBatchConfig,ys=!0;function Gf(e,t,n,s){var o=Ue,u=Mr.transition;Mr.transition=null;try{Ue=1,Aa(e,t,n,s)}finally{Ue=o,Mr.transition=u}}function Xf(e,t,n,s){var o=Ue,u=Mr.transition;Mr.transition=null;try{Ue=4,Aa(e,t,n,s)}finally{Ue=o,Mr.transition=u}}function Aa(e,t,n,s){if(ys){var o=Ua(e,t,n,s);if(o===null)li(e,t,s,xs,n),au(e,s);else if(Kf(o,e,t,n,s))s.stopPropagation();else if(au(e,s),t&4&&-1<Qf.indexOf(e)){for(;o!==null;){var u=Ll(o);if(u!==null&&nu(u),u=Ua(e,t,n,s),u===null&&li(e,t,s,xs,n),u===o)break;o=u}o!==null&&s.stopPropagation()}else li(e,t,s,null,n)}}var xs=null;function Ua(e,t,n,s){if(xs=null,e=_r(s),e=pr(e),e!==null)if(t=Me(e),t===null)e=null;else if(n=t.tag,n===13){if(e=He(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mr()){case Jt:return 1;case hr:return 4;case yn:case ze:return 16;case at:return 536870912;default:return 16}default:return 16}}var An=null,Ba=null,Ns=null;function cu(){if(Ns)return Ns;var e,t=Ba,n=t.length,s,o="value"in An?An.value:An.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var m=n-e;for(s=1;s<=m&&t[n-s]===o[u-s];s++);return Ns=o.slice(e,1<s?1-s:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function du(){return!1}function Mt(e){function t(n,s,o,u,m){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(u):u[S]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ws:du,this.isPropagationStopped=du,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Mt(Ir),xl=W({},Ir,{view:0,detail:0}),Jf=Mt(xl),Va,Wa,Nl,Ss=W({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nl&&(Nl&&e.type==="mousemove"?(Va=e.screenX-Nl.screenX,Wa=e.screenY-Nl.screenY):Wa=Va=0,Nl=e),Va)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),fu=Mt(Ss),Zf=W({},Ss,{dataTransfer:0}),em=Mt(Zf),tm=W({},xl,{relatedTarget:0}),Ya=Mt(tm),nm=W({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),rm=Mt(nm),lm=W({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sm=Mt(lm),am=W({},Ir,{data:0}),mu=Mt(am),im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=um[e])?!!t[e]:!1}function Qa(){return cm}var dm=W({},xl,{key:function(e){if(e.key){var t=im[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?om[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fm=Mt(dm),mm=W({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=Mt(mm),hm=W({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),pm=Mt(hm),vm=W({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=Mt(vm),ym=W({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xm=Mt(ym),Nm=[9,13,27,32],Ka=p&&"CompositionEvent"in window,jl=null;p&&"documentMode"in document&&(jl=document.documentMode);var jm=p&&"TextEvent"in window&&!jl,pu=p&&(!Ka||jl&&8<jl&&11>=jl),vu=" ",gu=!1;function yu(e,t){switch(e){case"keyup":return Nm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function wm(e,t){switch(e){case"compositionend":return xu(t);case"keypress":return t.which!==32?null:(gu=!0,vu);case"textInput":return e=t.data,e===vu&&gu?null:e;default:return null}}function Sm(e,t){if(Tr)return e==="compositionend"||!Ka&&yu(e,t)?(e=cu(),Ns=Ba=An=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pu&&t.locale!=="ko"?null:t.data;default:return null}}var km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!km[e.type]:t==="textarea"}function ju(e,t,n,s){cl(s),t=Ps(t,"onChange"),0<t.length&&(n=new Ha("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var wl=null,Sl=null;function Cm(e){$u(e,0)}function ks(e){var t=Ar(e);if(Fe(t))return e}function bm(e,t){if(e==="change")return t}var wu=!1;if(p){var qa;if(p){var Ga="oninput"in document;if(!Ga){var Su=document.createElement("div");Su.setAttribute("oninput","return;"),Ga=typeof Su.oninput=="function"}qa=Ga}else qa=!1;wu=qa&&(!document.documentMode||9<document.documentMode)}function ku(){wl&&(wl.detachEvent("onpropertychange",Cu),Sl=wl=null)}function Cu(e){if(e.propertyName==="value"&&ks(Sl)){var t=[];ju(t,Sl,e,_r(e)),E(Cm,t)}}function Em(e,t,n){e==="focusin"?(ku(),wl=t,Sl=n,wl.attachEvent("onpropertychange",Cu)):e==="focusout"&&ku()}function Pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ks(Sl)}function Rm(e,t){if(e==="click")return ks(t)}function Lm(e,t){if(e==="input"||e==="change")return ks(t)}function Dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:Dm;function kl(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!g.call(t,o)||!en(e[o],t[o]))return!1}return!0}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eu(e,t){var n=bu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bu(n)}}function Pu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ru(){for(var e=window,t=mt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mt(e.document)}return t}function Xa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _m(e){var t=Ru(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pu(n.ownerDocument.documentElement,n)){if(s!==null&&Xa(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,u=Math.min(s.start,o);s=s.end===void 0?u:Math.min(s.end,o),!e.extend&&u>s&&(o=s,s=u,u=o),o=Eu(n,u);var m=Eu(n,s);o&&m&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mm=p&&"documentMode"in document&&11>=document.documentMode,Or=null,Ja=null,Cl=null,Za=!1;function Lu(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Za||Or==null||Or!==mt(s)||(s=Or,"selectionStart"in s&&Xa(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Cl&&kl(Cl,s)||(Cl=s,s=Ps(Ja,"onSelect"),0<s.length&&(t=new Ha("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Or)))}function Cs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zr={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},ei={},Du={};p&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function bs(e){if(ei[e])return ei[e];if(!zr[e])return e;var t=zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Du)return ei[e]=t[n];return e}var _u=bs("animationend"),Mu=bs("animationiteration"),Iu=bs("animationstart"),Tu=bs("transitionend"),Ou=new Map,zu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){Ou.set(e,t),d(t,[e])}for(var ti=0;ti<zu.length;ti++){var ni=zu[ti],Im=ni.toLowerCase(),Tm=ni[0].toUpperCase()+ni.slice(1);Un(Im,"on"+Tm)}Un(_u,"onAnimationEnd"),Un(Mu,"onAnimationIteration"),Un(Iu,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Tu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Om=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Fu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Se(s,t,void 0,e),e.currentTarget=null}function $u(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var S=s[m],R=S.instance,H=S.currentTarget;if(S=S.listener,R!==u&&o.isPropagationStopped())break e;Fu(o,S,H),u=R}else for(m=0;m<s.length;m++){if(S=s[m],R=S.instance,H=S.currentTarget,S=S.listener,R!==u&&o.isPropagationStopped())break e;Fu(o,S,H),u=R}}}if(ve)throw e=we,ve=!1,we=null,e}function Qe(e,t){var n=t[ci];n===void 0&&(n=t[ci]=new Set);var s=e+"__bubble";n.has(s)||(Au(t,e,2,!1),n.add(s))}function ri(e,t,n){var s=0;t&&(s|=4),Au(n,e,s,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function El(e){if(!e[Es]){e[Es]=!0,c.forEach(function(n){n!=="selectionchange"&&(Om.has(n)||ri(n,!1,e),ri(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,ri("selectionchange",!1,t))}}function Au(e,t,n,s){switch(uu(t)){case 1:var o=Gf;break;case 4:o=Xf;break;default:o=Aa}n=o.bind(null,t,n,e),o=void 0,!V||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function li(e,t,n,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var S=s.stateNode.containerInfo;if(S===o||S.nodeType===8&&S.parentNode===o)break;if(m===4)for(m=s.return;m!==null;){var R=m.tag;if((R===3||R===4)&&(R=m.stateNode.containerInfo,R===o||R.nodeType===8&&R.parentNode===o))return;m=m.return}for(;S!==null;){if(m=pr(S),m===null)return;if(R=m.tag,R===5||R===6){s=u=m;continue e}S=S.parentNode}}s=s.return}E(function(){var H=u,te=_r(n),se=[];e:{var ee=Ou.get(e);if(ee!==void 0){var fe=Ha,ge=e;switch(e){case"keypress":if(js(n)===0)break e;case"keydown":case"keyup":fe=fm;break;case"focusin":ge="focus",fe=Ya;break;case"focusout":ge="blur",fe=Ya;break;case"beforeblur":case"afterblur":fe=Ya;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=pm;break;case _u:case Mu:case Iu:fe=rm;break;case Tu:fe=gm;break;case"scroll":fe=Jf;break;case"wheel":fe=xm;break;case"copy":case"cut":case"paste":fe=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=hu}var xe=(t&4)!==0,rt=!xe&&e==="scroll",z=xe?ee!==null?ee+"Capture":null:ee;xe=[];for(var _=H,A;_!==null;){A=_;var oe=A.stateNode;if(A.tag===5&&oe!==null&&(A=oe,z!==null&&(oe=I(_,z),oe!=null&&xe.push(Pl(_,oe,A)))),rt)break;_=_.return}0<xe.length&&(ee=new fe(ee,ge,null,n,te),se.push({event:ee,listeners:xe}))}}if((t&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",ee&&n!==Mn&&(ge=n.relatedTarget||n.fromElement)&&(pr(ge)||ge[xn]))break e;if((fe||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,fe?(ge=n.relatedTarget||n.toElement,fe=H,ge=ge?pr(ge):null,ge!==null&&(rt=Me(ge),ge!==rt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(fe=null,ge=H),fe!==ge)){if(xe=fu,oe="onMouseLeave",z="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(xe=hu,oe="onPointerLeave",z="onPointerEnter",_="pointer"),rt=fe==null?ee:Ar(fe),A=ge==null?ee:Ar(ge),ee=new xe(oe,_+"leave",fe,n,te),ee.target=rt,ee.relatedTarget=A,oe=null,pr(te)===H&&(xe=new xe(z,_+"enter",ge,n,te),xe.target=A,xe.relatedTarget=rt,oe=xe),rt=oe,fe&&ge)t:{for(xe=fe,z=ge,_=0,A=xe;A;A=Fr(A))_++;for(A=0,oe=z;oe;oe=Fr(oe))A++;for(;0<_-A;)xe=Fr(xe),_--;for(;0<A-_;)z=Fr(z),A--;for(;_--;){if(xe===z||z!==null&&xe===z.alternate)break t;xe=Fr(xe),z=Fr(z)}xe=null}else xe=null;fe!==null&&Uu(se,ee,fe,xe,!1),ge!==null&&rt!==null&&Uu(se,rt,ge,xe,!0)}}e:{if(ee=H?Ar(H):window,fe=ee.nodeName&&ee.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ee.type==="file")var je=bm;else if(Nu(ee))if(wu)je=Lm;else{je=Pm;var be=Em}else(fe=ee.nodeName)&&fe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(je=Rm);if(je&&(je=je(e,H))){ju(se,je,n,te);break e}be&&be(e,ee,H),e==="focusout"&&(be=ee._wrapperState)&&be.controlled&&ee.type==="number"&&sl(ee,"number",ee.value)}switch(be=H?Ar(H):window,e){case"focusin":(Nu(be)||be.contentEditable==="true")&&(Or=be,Ja=H,Cl=null);break;case"focusout":Cl=Ja=Or=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,Lu(se,n,te);break;case"selectionchange":if(Mm)break;case"keydown":case"keyup":Lu(se,n,te)}var Ee;if(Ka)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Tr?yu(e,n)&&(De="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(De="onCompositionStart");De&&(pu&&n.locale!=="ko"&&(Tr||De!=="onCompositionStart"?De==="onCompositionEnd"&&Tr&&(Ee=cu()):(An=te,Ba="value"in An?An.value:An.textContent,Tr=!0)),be=Ps(H,De),0<be.length&&(De=new mu(De,e,null,n,te),se.push({event:De,listeners:be}),Ee?De.data=Ee:(Ee=xu(n),Ee!==null&&(De.data=Ee)))),(Ee=jm?wm(e,n):Sm(e,n))&&(H=Ps(H,"onBeforeInput"),0<H.length&&(te=new mu("onBeforeInput","beforeinput",null,n,te),se.push({event:te,listeners:H}),te.data=Ee))}$u(se,t)})}function Pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ps(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;o.tag===5&&u!==null&&(o=u,u=I(e,n),u!=null&&s.unshift(Pl(e,u,o)),u=I(e,t),u!=null&&s.push(Pl(e,u,o))),e=e.return}return s}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uu(e,t,n,s,o){for(var u=t._reactName,m=[];n!==null&&n!==s;){var S=n,R=S.alternate,H=S.stateNode;if(R!==null&&R===s)break;S.tag===5&&H!==null&&(S=H,o?(R=I(n,u),R!=null&&m.unshift(Pl(n,R,S))):o||(R=I(n,u),R!=null&&m.push(Pl(n,R,S)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var zm=/\r\n?/g,Fm=/\u0000|\uFFFD/g;function Bu(e){return(typeof e=="string"?e:""+e).replace(zm,`
`).replace(Fm,"")}function Rs(e,t,n){if(t=Bu(t),Bu(e)!==t&&n)throw Error(a(425))}function Ls(){}var si=null,ai=null;function ii(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oi=typeof setTimeout=="function"?setTimeout:void 0,$m=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,Am=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(e){return Hu.resolve(null).then(e).catch(Um)}:oi;function Um(e){setTimeout(function(){throw e})}function ui(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),yl(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);yl(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),cn="__reactFiber$"+$r,Rl="__reactProps$"+$r,xn="__reactContainer$"+$r,ci="__reactEvents$"+$r,Bm="__reactListeners$"+$r,Hm="__reactHandles$"+$r;function pr(e){var t=e[cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vu(e);e!==null;){if(n=e[cn])return n;e=Vu(e)}return t}e=n,n=e.parentNode}return null}function Ll(e){return e=e[cn]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Ds(e){return e[Rl]||null}var di=[],Ur=-1;function Hn(e){return{current:e}}function Ke(e){0>Ur||(e.current=di[Ur],di[Ur]=null,Ur--)}function We(e,t){Ur++,di[Ur]=e.current,e.current=t}var Vn={},yt=Hn(Vn),Ct=Hn(!1),vr=Vn;function Br(e,t){var n=e.type.contextTypes;if(!n)return Vn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in n)o[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function bt(e){return e=e.childContextTypes,e!=null}function _s(){Ke(Ct),Ke(yt)}function Wu(e,t,n){if(yt.current!==Vn)throw Error(a(168));We(yt,t),We(Ct,n)}function Yu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(a(108,_e(e)||"Unknown",o));return W({},n,s)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,vr=yt.current,We(yt,e),We(Ct,Ct.current),!0}function Qu(e,t,n){var s=e.stateNode;if(!s)throw Error(a(169));n?(e=Yu(e,t,vr),s.__reactInternalMemoizedMergedChildContext=e,Ke(Ct),Ke(yt),We(yt,e)):Ke(Ct),We(Ct,n)}var Nn=null,Is=!1,fi=!1;function Ku(e){Nn===null?Nn=[e]:Nn.push(e)}function Vm(e){Is=!0,Ku(e)}function Wn(){if(!fi&&Nn!==null){fi=!0;var e=0,t=Ue;try{var n=Nn;for(Ue=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Nn=null,Is=!1}catch(o){throw Nn!==null&&(Nn=Nn.slice(e+1)),on(Jt,Wn),o}finally{Ue=t,fi=!1}}return null}var Hr=[],Vr=0,Ts=null,Os=0,At=[],Ut=0,gr=null,jn=1,wn="";function yr(e,t){Hr[Vr++]=Os,Hr[Vr++]=Ts,Ts=e,Os=t}function qu(e,t,n){At[Ut++]=jn,At[Ut++]=wn,At[Ut++]=gr,gr=e;var s=jn;e=wn;var o=32-gt(s)-1;s&=~(1<<o),n+=1;var u=32-gt(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,jn=1<<32-gt(t)+o|n<<o|s,wn=u+e}else jn=1<<u|n<<o|s,wn=e}function mi(e){e.return!==null&&(yr(e,1),qu(e,1,0))}function hi(e){for(;e===Ts;)Ts=Hr[--Vr],Hr[Vr]=null,Os=Hr[--Vr],Hr[Vr]=null;for(;e===gr;)gr=At[--Ut],At[Ut]=null,wn=At[--Ut],At[Ut]=null,jn=At[--Ut],At[Ut]=null}var It=null,Tt=null,qe=!1,tn=null;function Gu(e,t){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Tt=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gr!==null?{id:jn,overflow:wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,It=e,Tt=null,!0):!1;default:return!1}}function pi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vi(e){if(qe){var t=Tt;if(t){var n=t;if(!Xu(e,t)){if(pi(e))throw Error(a(418));t=Bn(n.nextSibling);var s=It;t&&Xu(e,t)?Gu(s,n):(e.flags=e.flags&-4097|2,qe=!1,It=e)}}else{if(pi(e))throw Error(a(418));e.flags=e.flags&-4097|2,qe=!1,It=e}}}function Ju(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function zs(e){if(e!==It)return!1;if(!qe)return Ju(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ii(e.type,e.memoizedProps)),t&&(t=Tt)){if(pi(e))throw Zu(),Error(a(418));for(;t;)Gu(e,t),t=Bn(t.nextSibling)}if(Ju(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tt=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=It?Bn(e.stateNode.nextSibling):null;return!0}function Zu(){for(var e=Tt;e;)e=Bn(e.nextSibling)}function Wr(){Tt=It=null,qe=!1}function gi(e){tn===null?tn=[e]:tn.push(e)}var Wm=K.ReactCurrentBatchConfig;function Dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var s=n.stateNode}if(!s)throw Error(a(147,e));var o=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(m){var S=o.refs;m===null?delete S[u]:S[u]=m},t._stringRef=u,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ec(e){var t=e._init;return t(e._payload)}function tc(e){function t(z,_){if(e){var A=z.deletions;A===null?(z.deletions=[_],z.flags|=16):A.push(_)}}function n(z,_){if(!e)return null;for(;_!==null;)t(z,_),_=_.sibling;return null}function s(z,_){for(z=new Map;_!==null;)_.key!==null?z.set(_.key,_):z.set(_.index,_),_=_.sibling;return z}function o(z,_){return z=Zn(z,_),z.index=0,z.sibling=null,z}function u(z,_,A){return z.index=A,e?(A=z.alternate,A!==null?(A=A.index,A<_?(z.flags|=2,_):A):(z.flags|=2,_)):(z.flags|=1048576,_)}function m(z){return e&&z.alternate===null&&(z.flags|=2),z}function S(z,_,A,oe){return _===null||_.tag!==6?(_=oo(A,z.mode,oe),_.return=z,_):(_=o(_,A),_.return=z,_)}function R(z,_,A,oe){var je=A.type;return je===$?te(z,_,A.props.children,oe,A.key):_!==null&&(_.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Q&&ec(je)===_.type)?(oe=o(_,A.props),oe.ref=Dl(z,_,A),oe.return=z,oe):(oe=oa(A.type,A.key,A.props,null,z.mode,oe),oe.ref=Dl(z,_,A),oe.return=z,oe)}function H(z,_,A,oe){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=uo(A,z.mode,oe),_.return=z,_):(_=o(_,A.children||[]),_.return=z,_)}function te(z,_,A,oe,je){return _===null||_.tag!==7?(_=br(A,z.mode,oe,je),_.return=z,_):(_=o(_,A),_.return=z,_)}function se(z,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=oo(""+_,z.mode,A),_.return=z,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Y:return A=oa(_.type,_.key,_.props,null,z.mode,A),A.ref=Dl(z,null,_),A.return=z,A;case N:return _=uo(_,z.mode,A),_.return=z,_;case Q:var oe=_._init;return se(z,oe(_._payload),A)}if(ir(_)||J(_))return _=br(_,z.mode,A,null),_.return=z,_;Fs(z,_)}return null}function ee(z,_,A,oe){var je=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return je!==null?null:S(z,_,""+A,oe);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Y:return A.key===je?R(z,_,A,oe):null;case N:return A.key===je?H(z,_,A,oe):null;case Q:return je=A._init,ee(z,_,je(A._payload),oe)}if(ir(A)||J(A))return je!==null?null:te(z,_,A,oe,null);Fs(z,A)}return null}function fe(z,_,A,oe,je){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return z=z.get(A)||null,S(_,z,""+oe,je);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Y:return z=z.get(oe.key===null?A:oe.key)||null,R(_,z,oe,je);case N:return z=z.get(oe.key===null?A:oe.key)||null,H(_,z,oe,je);case Q:var be=oe._init;return fe(z,_,A,be(oe._payload),je)}if(ir(oe)||J(oe))return z=z.get(A)||null,te(_,z,oe,je,null);Fs(_,oe)}return null}function ge(z,_,A,oe){for(var je=null,be=null,Ee=_,De=_=0,ft=null;Ee!==null&&De<A.length;De++){Ee.index>De?(ft=Ee,Ee=null):ft=Ee.sibling;var Ae=ee(z,Ee,A[De],oe);if(Ae===null){Ee===null&&(Ee=ft);break}e&&Ee&&Ae.alternate===null&&t(z,Ee),_=u(Ae,_,De),be===null?je=Ae:be.sibling=Ae,be=Ae,Ee=ft}if(De===A.length)return n(z,Ee),qe&&yr(z,De),je;if(Ee===null){for(;De<A.length;De++)Ee=se(z,A[De],oe),Ee!==null&&(_=u(Ee,_,De),be===null?je=Ee:be.sibling=Ee,be=Ee);return qe&&yr(z,De),je}for(Ee=s(z,Ee);De<A.length;De++)ft=fe(Ee,z,De,A[De],oe),ft!==null&&(e&&ft.alternate!==null&&Ee.delete(ft.key===null?De:ft.key),_=u(ft,_,De),be===null?je=ft:be.sibling=ft,be=ft);return e&&Ee.forEach(function(er){return t(z,er)}),qe&&yr(z,De),je}function xe(z,_,A,oe){var je=J(A);if(typeof je!="function")throw Error(a(150));if(A=je.call(A),A==null)throw Error(a(151));for(var be=je=null,Ee=_,De=_=0,ft=null,Ae=A.next();Ee!==null&&!Ae.done;De++,Ae=A.next()){Ee.index>De?(ft=Ee,Ee=null):ft=Ee.sibling;var er=ee(z,Ee,Ae.value,oe);if(er===null){Ee===null&&(Ee=ft);break}e&&Ee&&er.alternate===null&&t(z,Ee),_=u(er,_,De),be===null?je=er:be.sibling=er,be=er,Ee=ft}if(Ae.done)return n(z,Ee),qe&&yr(z,De),je;if(Ee===null){for(;!Ae.done;De++,Ae=A.next())Ae=se(z,Ae.value,oe),Ae!==null&&(_=u(Ae,_,De),be===null?je=Ae:be.sibling=Ae,be=Ae);return qe&&yr(z,De),je}for(Ee=s(z,Ee);!Ae.done;De++,Ae=A.next())Ae=fe(Ee,z,De,Ae.value,oe),Ae!==null&&(e&&Ae.alternate!==null&&Ee.delete(Ae.key===null?De:Ae.key),_=u(Ae,_,De),be===null?je=Ae:be.sibling=Ae,be=Ae);return e&&Ee.forEach(function(kh){return t(z,kh)}),qe&&yr(z,De),je}function rt(z,_,A,oe){if(typeof A=="object"&&A!==null&&A.type===$&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Y:e:{for(var je=A.key,be=_;be!==null;){if(be.key===je){if(je=A.type,je===$){if(be.tag===7){n(z,be.sibling),_=o(be,A.props.children),_.return=z,z=_;break e}}else if(be.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Q&&ec(je)===be.type){n(z,be.sibling),_=o(be,A.props),_.ref=Dl(z,be,A),_.return=z,z=_;break e}n(z,be);break}else t(z,be);be=be.sibling}A.type===$?(_=br(A.props.children,z.mode,oe,A.key),_.return=z,z=_):(oe=oa(A.type,A.key,A.props,null,z.mode,oe),oe.ref=Dl(z,_,A),oe.return=z,z=oe)}return m(z);case N:e:{for(be=A.key;_!==null;){if(_.key===be)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(z,_.sibling),_=o(_,A.children||[]),_.return=z,z=_;break e}else{n(z,_);break}else t(z,_);_=_.sibling}_=uo(A,z.mode,oe),_.return=z,z=_}return m(z);case Q:return be=A._init,rt(z,_,be(A._payload),oe)}if(ir(A))return ge(z,_,A,oe);if(J(A))return xe(z,_,A,oe);Fs(z,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(z,_.sibling),_=o(_,A),_.return=z,z=_):(n(z,_),_=oo(A,z.mode,oe),_.return=z,z=_),m(z)):n(z,_)}return rt}var Yr=tc(!0),nc=tc(!1),$s=Hn(null),As=null,Qr=null,yi=null;function xi(){yi=Qr=As=null}function Ni(e){var t=$s.current;Ke($s),e._currentValue=t}function ji(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Kr(e,t){As=e,yi=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Et=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(yi!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(As===null)throw Error(a(308));Qr=e,As.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var xr=null;function wi(e){xr===null?xr=[e]:xr.push(e)}function rc(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,wi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Sn(e,s)}function Sn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yn=!1;function Si(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,($e&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Sn(e,n)}return o=s.interleaved,o===null?(t.next=t,wi(s)):(t.next=o.next,o.next=t),s.interleaved=t,Sn(e,n)}function Us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,za(e,n)}}function sc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?o=u=m:u=u.next=m,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,s){var o=e.updateQueue;Yn=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,S=o.shared.pending;if(S!==null){o.shared.pending=null;var R=S,H=R.next;R.next=null,m===null?u=H:m.next=H,m=R;var te=e.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==m&&(S===null?te.firstBaseUpdate=H:S.next=H,te.lastBaseUpdate=R))}if(u!==null){var se=o.baseState;m=0,te=H=R=null,S=u;do{var ee=S.lane,fe=S.eventTime;if((s&ee)===ee){te!==null&&(te=te.next={eventTime:fe,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ge=e,xe=S;switch(ee=t,fe=n,xe.tag){case 1:if(ge=xe.payload,typeof ge=="function"){se=ge.call(fe,se,ee);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=xe.payload,ee=typeof ge=="function"?ge.call(fe,se,ee):ge,ee==null)break e;se=W({},se,ee);break e;case 2:Yn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,ee=o.effects,ee===null?o.effects=[S]:ee.push(S))}else fe={eventTime:fe,lane:ee,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(H=te=fe,R=se):te=te.next=fe,m|=ee;if(S=S.next,S===null){if(S=o.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,o.lastBaseUpdate=ee,o.shared.pending=null}}while(!0);if(te===null&&(R=se),o.baseState=R,o.firstBaseUpdate=H,o.lastBaseUpdate=te,t=o.shared.interleaved,t!==null){o=t;do m|=o.lane,o=o.next;while(o!==t)}else u===null&&(o.shared.lanes=0);wr|=m,e.lanes=m,e.memoizedState=se}}function ac(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(a(191,o));o.call(s)}}}var _l={},dn=Hn(_l),Ml=Hn(_l),Il=Hn(_l);function Nr(e){if(e===_l)throw Error(a(174));return e}function ki(e,t){switch(We(Il,t),We(Ml,e),We(dn,_l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_t(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_t(t,e)}Ke(dn),We(dn,t)}function qr(){Ke(dn),Ke(Ml),Ke(Il)}function ic(e){Nr(Il.current);var t=Nr(dn.current),n=_t(t,e.type);t!==n&&(We(Ml,e),We(dn,n))}function Ci(e){Ml.current===e&&(Ke(dn),Ke(Ml))}var Xe=Hn(0);function Hs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bi=[];function Ei(){for(var e=0;e<bi.length;e++)bi[e]._workInProgressVersionPrimary=null;bi.length=0}var Vs=K.ReactCurrentDispatcher,Pi=K.ReactCurrentBatchConfig,jr=0,Je=null,it=null,ct=null,Ws=!1,Tl=!1,Ol=0,Ym=0;function xt(){throw Error(a(321))}function Ri(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Li(e,t,n,s,o,u){if(jr=u,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?Gm:Xm,e=n(s,o),Tl){u=0;do{if(Tl=!1,Ol=0,25<=u)throw Error(a(301));u+=1,ct=it=null,t.updateQueue=null,Vs.current=Jm,e=n(s,o)}while(Tl)}if(Vs.current=Ks,t=it!==null&&it.next!==null,jr=0,ct=it=Je=null,Ws=!1,t)throw Error(a(300));return e}function Di(){var e=Ol!==0;return Ol=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Je.memoizedState=ct=e:ct=ct.next=e,ct}function Ht(){if(it===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ct===null?Je.memoizedState:ct.next;if(t!==null)ct=t,it=e;else{if(e===null)throw Error(a(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?Je.memoizedState=ct=e:ct=ct.next=e}return ct}function zl(e,t){return typeof t=="function"?t(e):t}function _i(e){var t=Ht(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var s=it,o=s.baseQueue,u=n.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}s.baseQueue=o=u,n.pending=null}if(o!==null){u=o.next,s=s.baseState;var S=m=null,R=null,H=u;do{var te=H.lane;if((jr&te)===te)R!==null&&(R=R.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),s=H.hasEagerState?H.eagerState:e(s,H.action);else{var se={lane:te,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};R===null?(S=R=se,m=s):R=R.next=se,Je.lanes|=te,wr|=te}H=H.next}while(H!==null&&H!==u);R===null?m=s:R.next=S,en(s,t.memoizedState)||(Et=!0),t.memoizedState=s,t.baseState=m,t.baseQueue=R,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do u=o.lane,Je.lanes|=u,wr|=u,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mi(e){var t=Ht(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);en(u,t.memoizedState)||(Et=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function oc(){}function uc(e,t){var n=Je,s=Ht(),o=t(),u=!en(s.memoizedState,o);if(u&&(s.memoizedState=o,Et=!0),s=s.queue,Ii(fc.bind(null,n,s,e),[e]),s.getSnapshot!==t||u||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Fl(9,dc.bind(null,n,s,o,t),void 0,null),dt===null)throw Error(a(349));(jr&30)!==0||cc(n,t,o)}return o}function cc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dc(e,t,n,s){t.value=n,t.getSnapshot=s,mc(t)&&hc(e)}function fc(e,t,n){return n(function(){mc(t)&&hc(e)})}function mc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function hc(e){var t=Sn(e,1);t!==null&&sn(t,e,1,-1)}function pc(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:e},t.queue=e,e=e.dispatch=qm.bind(null,Je,e),[t.memoizedState,e]}function Fl(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function vc(){return Ht().memoizedState}function Ys(e,t,n,s){var o=fn();Je.flags|=e,o.memoizedState=Fl(1|t,n,void 0,s===void 0?null:s)}function Qs(e,t,n,s){var o=Ht();s=s===void 0?null:s;var u=void 0;if(it!==null){var m=it.memoizedState;if(u=m.destroy,s!==null&&Ri(s,m.deps)){o.memoizedState=Fl(t,n,u,s);return}}Je.flags|=e,o.memoizedState=Fl(1|t,n,u,s)}function gc(e,t){return Ys(8390656,8,e,t)}function Ii(e,t){return Qs(2048,8,e,t)}function yc(e,t){return Qs(4,2,e,t)}function xc(e,t){return Qs(4,4,e,t)}function Nc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jc(e,t,n){return n=n!=null?n.concat([e]):null,Qs(4,4,Nc.bind(null,t,e),n)}function Ti(){}function wc(e,t){var n=Ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ri(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Sc(e,t){var n=Ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ri(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function kc(e,t,n){return(jr&21)===0?(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=n):(en(n,t)||(n=eu(),Je.lanes|=n,wr|=n,e.baseState=!0),t)}function Qm(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var s=Pi.transition;Pi.transition={};try{e(!1),t()}finally{Ue=n,Pi.transition=s}}function Cc(){return Ht().memoizedState}function Km(e,t,n){var s=Xn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},bc(e))Ec(t,n);else if(n=rc(e,t,n,s),n!==null){var o=kt();sn(n,e,s,o),Pc(n,t,s)}}function qm(e,t,n){var s=Xn(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(bc(e))Ec(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,S=u(m,n);if(o.hasEagerState=!0,o.eagerState=S,en(S,m)){var R=t.interleaved;R===null?(o.next=o,wi(t)):(o.next=R.next,R.next=o),t.interleaved=o;return}}catch{}finally{}n=rc(e,t,o,s),n!==null&&(o=kt(),sn(n,e,s,o),Pc(n,t,s))}}function bc(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function Ec(e,t){Tl=Ws=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pc(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,za(e,n)}}var Ks={readContext:Bt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Gm={readContext:Bt,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:gc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ys(4194308,4,Nc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var n=fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=fn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Km.bind(null,Je,e),[s.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:pc,useDebugValue:Ti,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=pc(!1),t=e[0];return e=Qm.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Je,o=fn();if(qe){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),dt===null)throw Error(a(349));(jr&30)!==0||cc(s,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,gc(fc.bind(null,s,u,e),[e]),s.flags|=2048,Fl(9,dc.bind(null,s,u,n,t),void 0,null),n},useId:function(){var e=fn(),t=dt.identifierPrefix;if(qe){var n=wn,s=jn;n=(s&~(1<<32-gt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ol++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ym++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xm={readContext:Bt,useCallback:wc,useContext:Bt,useEffect:Ii,useImperativeHandle:jc,useInsertionEffect:yc,useLayoutEffect:xc,useMemo:Sc,useReducer:_i,useRef:vc,useState:function(){return _i(zl)},useDebugValue:Ti,useDeferredValue:function(e){var t=Ht();return kc(t,it.memoizedState,e)},useTransition:function(){var e=_i(zl)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:oc,useSyncExternalStore:uc,useId:Cc,unstable_isNewReconciler:!1},Jm={readContext:Bt,useCallback:wc,useContext:Bt,useEffect:Ii,useImperativeHandle:jc,useInsertionEffect:yc,useLayoutEffect:xc,useMemo:Sc,useReducer:Mi,useRef:vc,useState:function(){return Mi(zl)},useDebugValue:Ti,useDeferredValue:function(e){var t=Ht();return it===null?t.memoizedState=e:kc(t,it.memoizedState,e)},useTransition:function(){var e=Mi(zl)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:oc,useSyncExternalStore:uc,useId:Cc,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Oi(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qs={isMounted:function(e){return(e=e._reactInternals)?Me(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=kt(),o=Xn(e),u=kn(s,o);u.payload=t,n!=null&&(u.callback=n),t=Qn(e,u,o),t!==null&&(sn(t,e,o,s),Us(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=kt(),o=Xn(e),u=kn(s,o);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Qn(e,u,o),t!==null&&(sn(t,e,o,s),Us(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),s=Xn(e),o=kn(n,s);o.tag=2,t!=null&&(o.callback=t),t=Qn(e,o,s),t!==null&&(sn(t,e,s,n),Us(t,e,s))}};function Rc(e,t,n,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!kl(n,s)||!kl(o,u):!0}function Lc(e,t,n){var s=!1,o=Vn,u=t.contextType;return typeof u=="object"&&u!==null?u=Bt(u):(o=bt(t)?vr:yt.current,s=t.contextTypes,u=(s=s!=null)?Br(e,o):Vn),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qs,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),t}function Dc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&qs.enqueueReplaceState(t,t.state,null)}function zi(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Si(e);var u=t.contextType;typeof u=="object"&&u!==null?o.context=Bt(u):(u=bt(t)?vr:yt.current,o.context=Br(e,u)),o.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Oi(e,t,u,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&qs.enqueueReplaceState(o,o.state,null),Bs(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t){try{var n="",s=t;do n+=he(s),s=s.return;while(s);var o=n}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:o,digest:null}}function Fi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $i(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zm=typeof WeakMap=="function"?WeakMap:Map;function _c(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){na||(na=!0,eo=s),$i(e,t)},n}function Mc(e,t,n){n=kn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){$i(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){$i(e,t),typeof s!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),n}function Ic(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Zm;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=mh.bind(null,e,t,n),t.then(e,e))}function Tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Oc(e,t,n,s,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var eh=K.ReactCurrentOwner,Et=!1;function St(e,t,n,s){t.child=e===null?nc(t,null,n,s):Yr(t,e.child,n,s)}function zc(e,t,n,s,o){n=n.render;var u=t.ref;return Kr(t,o),s=Li(e,t,n,s,u,o),n=Di(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Cn(e,t,o)):(qe&&n&&mi(t),t.flags|=1,St(e,t,s,o),t.child)}function Fc(e,t,n,s,o){if(e===null){var u=n.type;return typeof u=="function"&&!io(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,$c(e,t,u,s,o)):(e=oa(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&o)===0){var m=u.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(m,s)&&e.ref===t.ref)return Cn(e,t,o)}return t.flags|=1,e=Zn(u,s),e.ref=t.ref,e.return=t,t.child=e}function $c(e,t,n,s,o){if(e!==null){var u=e.memoizedProps;if(kl(u,s)&&e.ref===t.ref)if(Et=!1,t.pendingProps=s=u,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Et=!0);else return t.lanes=e.lanes,Cn(e,t,o)}return Ai(e,t,n,s,o)}function Ac(e,t,n){var s=t.pendingProps,o=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Jr,Ot),Ot|=n;else{if((n&1073741824)===0)return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Jr,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:n,We(Jr,Ot),Ot|=s}else u!==null?(s=u.baseLanes|n,t.memoizedState=null):s=n,We(Jr,Ot),Ot|=s;return St(e,t,o,n),t.child}function Uc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ai(e,t,n,s,o){var u=bt(n)?vr:yt.current;return u=Br(t,u),Kr(t,o),n=Li(e,t,n,s,u,o),s=Di(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Cn(e,t,o)):(qe&&s&&mi(t),t.flags|=1,St(e,t,n,o),t.child)}function Bc(e,t,n,s,o){if(bt(n)){var u=!0;Ms(t)}else u=!1;if(Kr(t,o),t.stateNode===null)Xs(e,t),Lc(t,n,s),zi(t,n,s,o),s=!0;else if(e===null){var m=t.stateNode,S=t.memoizedProps;m.props=S;var R=m.context,H=n.contextType;typeof H=="object"&&H!==null?H=Bt(H):(H=bt(n)?vr:yt.current,H=Br(t,H));var te=n.getDerivedStateFromProps,se=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function";se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==s||R!==H)&&Dc(t,m,s,H),Yn=!1;var ee=t.memoizedState;m.state=ee,Bs(t,s,m,o),R=t.memoizedState,S!==s||ee!==R||Ct.current||Yn?(typeof te=="function"&&(Oi(t,n,te,s),R=t.memoizedState),(S=Yn||Rc(t,n,S,s,ee,R,H))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=R),m.props=s,m.state=R,m.context=H,s=S):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{m=t.stateNode,lc(e,t),S=t.memoizedProps,H=t.type===t.elementType?S:nn(t.type,S),m.props=H,se=t.pendingProps,ee=m.context,R=n.contextType,typeof R=="object"&&R!==null?R=Bt(R):(R=bt(n)?vr:yt.current,R=Br(t,R));var fe=n.getDerivedStateFromProps;(te=typeof fe=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==se||ee!==R)&&Dc(t,m,s,R),Yn=!1,ee=t.memoizedState,m.state=ee,Bs(t,s,m,o);var ge=t.memoizedState;S!==se||ee!==ge||Ct.current||Yn?(typeof fe=="function"&&(Oi(t,n,fe,s),ge=t.memoizedState),(H=Yn||Rc(t,n,H,s,ee,ge,R)||!1)?(te||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,ge,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,ge,R)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ge),m.props=s,m.state=ge,m.context=R,s=H):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),s=!1)}return Ui(e,t,n,s,u,o)}function Ui(e,t,n,s,o,u){Uc(e,t);var m=(t.flags&128)!==0;if(!s&&!m)return o&&Qu(t,n,!1),Cn(e,t,u);s=t.stateNode,eh.current=t;var S=m&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&m?(t.child=Yr(t,e.child,null,u),t.child=Yr(t,null,S,u)):St(e,t,S,u),t.memoizedState=s.state,o&&Qu(t,n,!0),t.child}function Hc(e){var t=e.stateNode;t.pendingContext?Wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wu(e,t.context,!1),ki(e,t.containerInfo)}function Vc(e,t,n,s,o){return Wr(),gi(o),t.flags|=256,St(e,t,n,s),t.child}var Bi={dehydrated:null,treeContext:null,retryLane:0};function Hi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wc(e,t,n){var s=t.pendingProps,o=Xe.current,u=!1,m=(t.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(o&2)!==0),S?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),We(Xe,o&1),e===null)return vi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=s.children,e=s.fallback,u?(s=t.mode,u=t.child,m={mode:"hidden",children:m},(s&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=m):u=ua(m,s,0,null),e=br(e,s,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Hi(n),t.memoizedState=Bi,e):Vi(t,m));if(o=e.memoizedState,o!==null&&(S=o.dehydrated,S!==null))return th(e,t,m,s,S,o,n);if(u){u=s.fallback,m=t.mode,o=e.child,S=o.sibling;var R={mode:"hidden",children:s.children};return(m&1)===0&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=R,t.deletions=null):(s=Zn(o,R),s.subtreeFlags=o.subtreeFlags&14680064),S!==null?u=Zn(S,u):(u=br(u,m,n,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,m=e.child.memoizedState,m=m===null?Hi(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},u.memoizedState=m,u.childLanes=e.childLanes&~n,t.memoizedState=Bi,s}return u=e.child,e=u.sibling,s=Zn(u,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Vi(e,t){return t=ua({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gs(e,t,n,s){return s!==null&&gi(s),Yr(t,e.child,null,n),e=Vi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function th(e,t,n,s,o,u,m){if(n)return t.flags&256?(t.flags&=-257,s=Fi(Error(a(422))),Gs(e,t,m,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,o=t.mode,s=ua({mode:"visible",children:s.children},o,0,null),u=br(u,o,m,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,(t.mode&1)!==0&&Yr(t,e.child,null,m),t.child.memoizedState=Hi(m),t.memoizedState=Bi,u);if((t.mode&1)===0)return Gs(e,t,m,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var S=s.dgst;return s=S,u=Error(a(419)),s=Fi(u,s,void 0),Gs(e,t,m,s)}if(S=(m&e.childLanes)!==0,Et||S){if(s=dt,s!==null){switch(m&-m){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(s.suspendedLanes|m))!==0?0:o,o!==0&&o!==u.retryLane&&(u.retryLane=o,Sn(e,o),sn(s,e,o,-1))}return ao(),s=Fi(Error(a(421))),Gs(e,t,m,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=hh.bind(null,e),o._reactRetry=t,null):(e=u.treeContext,Tt=Bn(o.nextSibling),It=t,qe=!0,tn=null,e!==null&&(At[Ut++]=jn,At[Ut++]=wn,At[Ut++]=gr,jn=e.id,wn=e.overflow,gr=t),t=Vi(t,s.children),t.flags|=4096,t)}function Yc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ji(e.return,t,n)}function Wi(e,t,n,s,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=n,u.tailMode=o)}function Qc(e,t,n){var s=t.pendingProps,o=s.revealOrder,u=s.tail;if(St(e,t,s.children,n),s=Xe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yc(e,n,t);else if(e.tag===19)Yc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(We(Xe,s),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Hs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Wi(t,!1,o,n,u);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Hs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Wi(t,!0,n,null,u);break;case"together":Wi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=Zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nh(e,t,n){switch(t.tag){case 3:Hc(t),Wr();break;case 5:ic(t);break;case 1:bt(t.type)&&Ms(t);break;case 4:ki(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;We($s,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(We(Xe,Xe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Wc(e,t,n):(We(Xe,Xe.current&1),e=Cn(e,t,n),e!==null?e.sibling:null);We(Xe,Xe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Qc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),We(Xe,Xe.current),s)break;return null;case 22:case 23:return t.lanes=0,Ac(e,t,n)}return Cn(e,t,n)}var Kc,Yi,qc,Gc;Kc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yi=function(){},qc=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,Nr(dn.current);var u=null;switch(n){case"input":o=qt(e,o),s=qt(e,s),u=[];break;case"select":o=W({},o,{value:void 0}),s=W({},s,{value:void 0}),u=[];break;case"textarea":o=Gt(e,o),s=Gt(e,s),u=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ls)}ul(n,s);var m;n=null;for(H in o)if(!s.hasOwnProperty(H)&&o.hasOwnProperty(H)&&o[H]!=null)if(H==="style"){var S=o[H];for(m in S)S.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(f.hasOwnProperty(H)?u||(u=[]):(u=u||[]).push(H,null));for(H in s){var R=s[H];if(S=o?.[H],s.hasOwnProperty(H)&&R!==S&&(R!=null||S!=null))if(H==="style")if(S){for(m in S)!S.hasOwnProperty(m)||R&&R.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in R)R.hasOwnProperty(m)&&S[m]!==R[m]&&(n||(n={}),n[m]=R[m])}else n||(u||(u=[]),u.push(H,n)),n=R;else H==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,S=S?S.__html:void 0,R!=null&&S!==R&&(u=u||[]).push(H,R)):H==="children"?typeof R!="string"&&typeof R!="number"||(u=u||[]).push(H,""+R):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(f.hasOwnProperty(H)?(R!=null&&H==="onScroll"&&Qe("scroll",e),u||S===R||(u=[])):(u=u||[]).push(H,R))}n&&(u=u||[]).push("style",n);var H=u;(t.updateQueue=H)&&(t.flags|=4)}},Gc=function(e,t,n,s){n!==s&&(t.flags|=4)};function $l(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function rh(e,t,n){var s=t.pendingProps;switch(hi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return bt(t.type)&&_s(),Nt(t),null;case 3:return s=t.stateNode,qr(),Ke(Ct),Ke(yt),Ei(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tn!==null&&(ro(tn),tn=null))),Yi(e,t),Nt(t),null;case 5:Ci(t);var o=Nr(Il.current);if(n=t.type,e!==null&&t.stateNode!=null)qc(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Nt(t),null}if(e=Nr(dn.current),zs(t)){s=t.stateNode,n=t.type;var u=t.memoizedProps;switch(s[cn]=t,s[Rl]=u,e=(t.mode&1)!==0,n){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(o=0;o<bl.length;o++)Qe(bl[o],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":ss(s,u),Qe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},Qe("invalid",s);break;case"textarea":_n(s,u),Qe("invalid",s)}ul(n,u),o=null;for(var m in u)if(u.hasOwnProperty(m)){var S=u[m];m==="children"?typeof S=="string"?s.textContent!==S&&(u.suppressHydrationWarning!==!0&&Rs(s.textContent,S,e),o=["children",S]):typeof S=="number"&&s.textContent!==""+S&&(u.suppressHydrationWarning!==!0&&Rs(s.textContent,S,e),o=["children",""+S]):f.hasOwnProperty(m)&&S!=null&&m==="onScroll"&&Qe("scroll",s)}switch(n){case"input":Pe(s),is(s,u,!0);break;case"textarea":Pe(s),Lr(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=Ls)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{m=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ft(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=m.createElement(n,{is:s.is}):(e=m.createElement(n),n==="select"&&(m=e,s.multiple?m.multiple=!0:s.size&&(m.size=s.size))):e=m.createElementNS(e,n),e[cn]=t,e[Rl]=s,Kc(e,t,!1,!1),t.stateNode=e;e:{switch(m=Dr(n,s),n){case"dialog":Qe("cancel",e),Qe("close",e),o=s;break;case"iframe":case"object":case"embed":Qe("load",e),o=s;break;case"video":case"audio":for(o=0;o<bl.length;o++)Qe(bl[o],e);o=s;break;case"source":Qe("error",e),o=s;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),o=s;break;case"details":Qe("toggle",e),o=s;break;case"input":ss(e,s),o=qt(e,s),Qe("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=W({},s,{value:void 0}),Qe("invalid",e);break;case"textarea":_n(e,s),o=Gt(e,s),Qe("invalid",e);break;default:o=s}ul(n,o),S=o;for(u in S)if(S.hasOwnProperty(u)){var R=S[u];u==="style"?ol(e,R):u==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&os(e,R)):u==="children"?typeof R=="string"?(n!=="textarea"||R!=="")&&vn(e,R):typeof R=="number"&&vn(e,""+R):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(f.hasOwnProperty(u)?R!=null&&u==="onScroll"&&Qe("scroll",e):R!=null&&k(e,u,R,m))}switch(n){case"input":Pe(e),is(e,s,!1);break;case"textarea":Pe(e),Lr(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ie(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?Dn(e,!!s.multiple,u,!1):s.defaultValue!=null&&Dn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ls)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)Gc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(n=Nr(Il.current),Nr(dn.current),zs(t)){if(s=t.stateNode,n=t.memoizedProps,s[cn]=t,(u=s.nodeValue!==n)&&(e=It,e!==null))switch(e.tag){case 3:Rs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rs(s.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[cn]=t,t.stateNode=s}return Nt(t),null;case 13:if(Ke(Xe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Tt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Zu(),Wr(),t.flags|=98560,u=!1;else if(u=zs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[cn]=t}else Wr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Nt(t),u=!1}else tn!==null&&(ro(tn),tn=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Xe.current&1)!==0?ot===0&&(ot=3):ao())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return qr(),Yi(e,t),e===null&&El(t.stateNode.containerInfo),Nt(t),null;case 10:return Ni(t.type._context),Nt(t),null;case 17:return bt(t.type)&&_s(),Nt(t),null;case 19:if(Ke(Xe),u=t.memoizedState,u===null)return Nt(t),null;if(s=(t.flags&128)!==0,m=u.rendering,m===null)if(s)$l(u,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Hs(e),m!==null){for(t.flags|=128,$l(u,!1),s=m.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)u=n,e=s,u.flags&=14680066,m=u.alternate,m===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,e=m.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Xe,Xe.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ye()>Zr&&(t.flags|=128,s=!0,$l(u,!1),t.lanes=4194304)}else{if(!s)if(e=Hs(m),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$l(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!qe)return Nt(t),null}else 2*Ye()-u.renderingStartTime>Zr&&n!==1073741824&&(t.flags|=128,s=!0,$l(u,!1),t.lanes=4194304);u.isBackwards?(m.sibling=t.child,t.child=m):(n=u.last,n!==null?n.sibling=m:t.child=m,u.last=m)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ye(),t.sibling=null,n=Xe.current,We(Xe,s?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return so(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Ot&1073741824)!==0&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function lh(e,t){switch(hi(t),t.tag){case 1:return bt(t.type)&&_s(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),Ke(Ct),Ke(yt),Ei(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ci(t),null;case 13:if(Ke(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Xe),null;case 4:return qr(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return so(),null;case 24:return null;default:return null}}var Js=!1,jt=!1,sh=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){et(e,t,s)}else n.current=null}function Qi(e,t,n){try{n()}catch(s){et(e,t,s)}}var Xc=!1;function ah(e,t){if(si=ys,e=Ru(),Xa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var m=0,S=-1,R=-1,H=0,te=0,se=e,ee=null;t:for(;;){for(var fe;se!==n||o!==0&&se.nodeType!==3||(S=m+o),se!==u||s!==0&&se.nodeType!==3||(R=m+s),se.nodeType===3&&(m+=se.nodeValue.length),(fe=se.firstChild)!==null;)ee=se,se=fe;for(;;){if(se===e)break t;if(ee===n&&++H===o&&(S=m),ee===u&&++te===s&&(R=m),(fe=se.nextSibling)!==null)break;se=ee,ee=se.parentNode}se=fe}n=S===-1||R===-1?null:{start:S,end:R}}else n=null}n=n||{start:0,end:0}}else n=null;for(ai={focusedElem:e,selectionRange:n},ys=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var ge=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var xe=ge.memoizedProps,rt=ge.memoizedState,z=t.stateNode,_=z.getSnapshotBeforeUpdate(t.elementType===t.type?xe:nn(t.type,xe),rt);z.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(oe){et(t,t.return,oe)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return ge=Xc,Xc=!1,ge}function Al(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&Qi(t,n,u)}o=o.next}while(o!==s)}}function Zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Ki(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jc(e){var t=e.alternate;t!==null&&(e.alternate=null,Jc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[Rl],delete t[ci],delete t[Bm],delete t[Hm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zc(e){return e.tag===5||e.tag===3||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ls));else if(s!==4&&(e=e.child,e!==null))for(qi(e,t,n),e=e.sibling;e!==null;)qi(e,t,n),e=e.sibling}function Gi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Gi(e,t,n),e=e.sibling;e!==null;)Gi(e,t,n),e=e.sibling}var pt=null,rn=!1;function Kn(e,t,n){for(n=n.child;n!==null;)td(e,t,n),n=n.sibling}function td(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Zt,n)}catch{}switch(n.tag){case 5:jt||Xr(n,t);case 6:var s=pt,o=rn;pt=null,Kn(e,t,n),pt=s,rn=o,pt!==null&&(rn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(rn?(e=pt,n=n.stateNode,e.nodeType===8?ui(e.parentNode,n):e.nodeType===1&&ui(e,n),yl(e)):ui(pt,n.stateNode));break;case 4:s=pt,o=rn,pt=n.stateNode.containerInfo,rn=!0,Kn(e,t,n),pt=s,rn=o;break;case 0:case 11:case 14:case 15:if(!jt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var u=o,m=u.destroy;u=u.tag,m!==void 0&&((u&2)!==0||(u&4)!==0)&&Qi(n,t,m),o=o.next}while(o!==s)}Kn(e,t,n);break;case 1:if(!jt&&(Xr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(S){et(n,t,S)}Kn(e,t,n);break;case 21:Kn(e,t,n);break;case 22:n.mode&1?(jt=(s=jt)||n.memoizedState!==null,Kn(e,t,n),jt=s):Kn(e,t,n);break;default:Kn(e,t,n)}}function nd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sh),t.forEach(function(s){var o=ph.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function ln(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var u=e,m=t,S=m;e:for(;S!==null;){switch(S.tag){case 5:pt=S.stateNode,rn=!1;break e;case 3:pt=S.stateNode.containerInfo,rn=!0;break e;case 4:pt=S.stateNode.containerInfo,rn=!0;break e}S=S.return}if(pt===null)throw Error(a(160));td(u,m,o),pt=null,rn=!1;var R=o.alternate;R!==null&&(R.return=null),o.return=null}catch(H){et(o,t,H)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rd(t,e),t=t.sibling}function rd(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),mn(e),s&4){try{Al(3,e,e.return),Zs(3,e)}catch(xe){et(e,e.return,xe)}try{Al(5,e,e.return)}catch(xe){et(e,e.return,xe)}}break;case 1:ln(t,e),mn(e),s&512&&n!==null&&Xr(n,n.return);break;case 5:if(ln(t,e),mn(e),s&512&&n!==null&&Xr(n,n.return),e.flags&32){var o=e.stateNode;try{vn(o,"")}catch(xe){et(e,e.return,xe)}}if(s&4&&(o=e.stateNode,o!=null)){var u=e.memoizedProps,m=n!==null?n.memoizedProps:u,S=e.type,R=e.updateQueue;if(e.updateQueue=null,R!==null)try{S==="input"&&u.type==="radio"&&u.name!=null&&as(o,u),Dr(S,m);var H=Dr(S,u);for(m=0;m<R.length;m+=2){var te=R[m],se=R[m+1];te==="style"?ol(o,se):te==="dangerouslySetInnerHTML"?os(o,se):te==="children"?vn(o,se):k(o,te,se,H)}switch(S){case"input":Rr(o,u);break;case"textarea":al(o,u);break;case"select":var ee=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!u.multiple;var fe=u.value;fe!=null?Dn(o,!!u.multiple,fe,!1):ee!==!!u.multiple&&(u.defaultValue!=null?Dn(o,!!u.multiple,u.defaultValue,!0):Dn(o,!!u.multiple,u.multiple?[]:"",!1))}o[Rl]=u}catch(xe){et(e,e.return,xe)}}break;case 6:if(ln(t,e),mn(e),s&4){if(e.stateNode===null)throw Error(a(162));o=e.stateNode,u=e.memoizedProps;try{o.nodeValue=u}catch(xe){et(e,e.return,xe)}}break;case 3:if(ln(t,e),mn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(t.containerInfo)}catch(xe){et(e,e.return,xe)}break;case 4:ln(t,e),mn(e);break;case 13:ln(t,e),mn(e),o=e.child,o.flags&8192&&(u=o.memoizedState!==null,o.stateNode.isHidden=u,!u||o.alternate!==null&&o.alternate.memoizedState!==null||(Zi=Ye())),s&4&&nd(e);break;case 22:if(te=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(H=jt)||te,ln(t,e),jt=H):ln(t,e),mn(e),s&8192){if(H=e.memoizedState!==null,(e.stateNode.isHidden=H)&&!te&&(e.mode&1)!==0)for(pe=e,te=e.child;te!==null;){for(se=pe=te;pe!==null;){switch(ee=pe,fe=ee.child,ee.tag){case 0:case 11:case 14:case 15:Al(4,ee,ee.return);break;case 1:Xr(ee,ee.return);var ge=ee.stateNode;if(typeof ge.componentWillUnmount=="function"){s=ee,n=ee.return;try{t=s,ge.props=t.memoizedProps,ge.state=t.memoizedState,ge.componentWillUnmount()}catch(xe){et(s,n,xe)}}break;case 5:Xr(ee,ee.return);break;case 22:if(ee.memoizedState!==null){ad(se);continue}}fe!==null?(fe.return=ee,pe=fe):ad(se)}te=te.sibling}e:for(te=null,se=e;;){if(se.tag===5){if(te===null){te=se;try{o=se.stateNode,H?(u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(S=se.stateNode,R=se.memoizedProps.style,m=R!=null&&R.hasOwnProperty("display")?R.display:null,S.style.display=il("display",m))}catch(xe){et(e,e.return,xe)}}}else if(se.tag===6){if(te===null)try{se.stateNode.nodeValue=H?"":se.memoizedProps}catch(xe){et(e,e.return,xe)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===e)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===e)break e;for(;se.sibling===null;){if(se.return===null||se.return===e)break e;te===se&&(te=null),se=se.return}te===se&&(te=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:ln(t,e),mn(e),s&4&&nd(e);break;case 21:break;default:ln(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zc(n)){var s=n;break e}n=n.return}throw Error(a(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(vn(o,""),s.flags&=-33);var u=ed(e);Gi(e,u,o);break;case 3:case 4:var m=s.stateNode.containerInfo,S=ed(e);qi(e,S,m);break;default:throw Error(a(161))}}catch(R){et(e,e.return,R)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ih(e,t,n){pe=e,ld(e)}function ld(e,t,n){for(var s=(e.mode&1)!==0;pe!==null;){var o=pe,u=o.child;if(o.tag===22&&s){var m=o.memoizedState!==null||Js;if(!m){var S=o.alternate,R=S!==null&&S.memoizedState!==null||jt;S=Js;var H=jt;if(Js=m,(jt=R)&&!H)for(pe=o;pe!==null;)m=pe,R=m.child,m.tag===22&&m.memoizedState!==null?id(o):R!==null?(R.return=m,pe=R):id(o);for(;u!==null;)pe=u,ld(u),u=u.sibling;pe=o,Js=S,jt=H}sd(e)}else(o.subtreeFlags&8772)!==0&&u!==null?(u.return=o,pe=u):sd(e)}}function sd(e){for(;pe!==null;){var t=pe;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:jt||Zs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!jt)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&ac(t,u,s);break;case 3:var m=t.updateQueue;if(m!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ac(t,m,n)}break;case 5:var S=t.stateNode;if(n===null&&t.flags&4){n=S;var R=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&n.focus();break;case"img":R.src&&(n.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var H=t.alternate;if(H!==null){var te=H.memoizedState;if(te!==null){var se=te.dehydrated;se!==null&&yl(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}jt||t.flags&512&&Ki(t)}catch(ee){et(t,t.return,ee)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function ad(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function id(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zs(4,t)}catch(R){et(t,n,R)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(R){et(t,o,R)}}var u=t.return;try{Ki(t)}catch(R){et(t,u,R)}break;case 5:var m=t.return;try{Ki(t)}catch(R){et(t,m,R)}}}catch(R){et(t,t.return,R)}if(t===e){pe=null;break}var S=t.sibling;if(S!==null){S.return=t.return,pe=S;break}pe=t.return}}var oh=Math.ceil,ea=K.ReactCurrentDispatcher,Xi=K.ReactCurrentOwner,Vt=K.ReactCurrentBatchConfig,$e=0,dt=null,st=null,vt=0,Ot=0,Jr=Hn(0),ot=0,Ul=null,wr=0,ta=0,Ji=0,Bl=null,Pt=null,Zi=0,Zr=1/0,bn=null,na=!1,eo=null,qn=null,ra=!1,Gn=null,la=0,Hl=0,to=null,sa=-1,aa=0;function kt(){return($e&6)!==0?Ye():sa!==-1?sa:sa=Ye()}function Xn(e){return(e.mode&1)===0?1:($e&2)!==0&&vt!==0?vt&-vt:Wm.transition!==null?(aa===0&&(aa=eu()),aa):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:uu(e.type)),e)}function sn(e,t,n,s){if(50<Hl)throw Hl=0,to=null,Error(a(185));ml(e,n,s),(($e&2)===0||e!==dt)&&(e===dt&&(($e&2)===0&&(ta|=n),ot===4&&Jn(e,vt)),Rt(e,s),n===1&&$e===0&&(t.mode&1)===0&&(Zr=Ye()+500,Is&&Wn()))}function Rt(e,t){var n=e.callbackNode;Wf(e,t);var s=ps(e,e===dt?vt:0);if(s===0)n!==null&&Tn(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Tn(n),t===1)e.tag===0?Vm(ud.bind(null,e)):Ku(ud.bind(null,e)),Am(function(){($e&6)===0&&Wn()}),n=null;else{switch(tu(s)){case 1:n=Jt;break;case 4:n=hr;break;case 16:n=yn;break;case 536870912:n=at;break;default:n=yn}n=gd(n,od.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function od(e,t){if(sa=-1,aa=0,($e&6)!==0)throw Error(a(327));var n=e.callbackNode;if(el()&&e.callbackNode!==n)return null;var s=ps(e,e===dt?vt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=ia(e,s);else{t=s;var o=$e;$e|=2;var u=dd();(dt!==e||vt!==t)&&(bn=null,Zr=Ye()+500,kr(e,t));do try{dh();break}catch(S){cd(e,S)}while(!0);xi(),ea.current=u,$e=o,st!==null?t=0:(dt=null,vt=0,t=ot)}if(t!==0){if(t===2&&(o=Ta(e),o!==0&&(s=o,t=no(e,o))),t===1)throw n=Ul,kr(e,0),Jn(e,s),Rt(e,Ye()),n;if(t===6)Jn(e,s);else{if(o=e.current.alternate,(s&30)===0&&!uh(o)&&(t=ia(e,s),t===2&&(u=Ta(e),u!==0&&(s=u,t=no(e,u))),t===1))throw n=Ul,kr(e,0),Jn(e,s),Rt(e,Ye()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:Cr(e,Pt,bn);break;case 3:if(Jn(e,s),(s&130023424)===s&&(t=Zi+500-Ye(),10<t)){if(ps(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){kt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=oi(Cr.bind(null,e,Pt,bn),t);break}Cr(e,Pt,bn);break;case 4:if(Jn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var m=31-gt(s);u=1<<m,m=t[m],m>o&&(o=m),s&=~u}if(s=o,s=Ye()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*oh(s/1960))-s,10<s){e.timeoutHandle=oi(Cr.bind(null,e,Pt,bn),s);break}Cr(e,Pt,bn);break;case 5:Cr(e,Pt,bn);break;default:throw Error(a(329))}}}return Rt(e,Ye()),e.callbackNode===n?od.bind(null,e):null}function no(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=ia(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&ro(t)),e}function ro(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function uh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],u=o.getSnapshot;o=o.value;try{if(!en(u(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t){for(t&=~Ji,t&=~ta,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),s=1<<n;e[n]=-1,t&=~s}}function ud(e){if(($e&6)!==0)throw Error(a(327));el();var t=ps(e,0);if((t&1)===0)return Rt(e,Ye()),null;var n=ia(e,t);if(e.tag!==0&&n===2){var s=Ta(e);s!==0&&(t=s,n=no(e,s))}if(n===1)throw n=Ul,kr(e,0),Jn(e,t),Rt(e,Ye()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,Pt,bn),Rt(e,Ye()),null}function lo(e,t){var n=$e;$e|=1;try{return e(t)}finally{$e=n,$e===0&&(Zr=Ye()+500,Is&&Wn())}}function Sr(e){Gn!==null&&Gn.tag===0&&($e&6)===0&&el();var t=$e;$e|=1;var n=Vt.transition,s=Ue;try{if(Vt.transition=null,Ue=1,e)return e()}finally{Ue=s,Vt.transition=n,$e=t,($e&6)===0&&Wn()}}function so(){Ot=Jr.current,Ke(Jr)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$m(n)),st!==null)for(n=st.return;n!==null;){var s=n;switch(hi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&_s();break;case 3:qr(),Ke(Ct),Ke(yt),Ei();break;case 5:Ci(s);break;case 4:qr();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:Ni(s.type._context);break;case 22:case 23:so()}n=n.return}if(dt=e,st=e=Zn(e.current,null),vt=Ot=t,ot=0,Ul=null,Ji=ta=wr=0,Pt=Bl=null,xr!==null){for(t=0;t<xr.length;t++)if(n=xr[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,u=n.pending;if(u!==null){var m=u.next;u.next=o,s.next=m}n.pending=s}xr=null}return e}function cd(e,t){do{var n=st;try{if(xi(),Vs.current=Ks,Ws){for(var s=Je.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ws=!1}if(jr=0,ct=it=Je=null,Tl=!1,Ol=0,Xi.current=null,n===null||n.return===null){ot=1,Ul=t,st=null;break}e:{var u=e,m=n.return,S=n,R=t;if(t=vt,S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=R,te=S,se=te.tag;if((te.mode&1)===0&&(se===0||se===11||se===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var fe=Tc(m);if(fe!==null){fe.flags&=-257,Oc(fe,m,S,u,t),fe.mode&1&&Ic(u,H,t),t=fe,R=H;var ge=t.updateQueue;if(ge===null){var xe=new Set;xe.add(R),t.updateQueue=xe}else ge.add(R);break e}else{if((t&1)===0){Ic(u,H,t),ao();break e}R=Error(a(426))}}else if(qe&&S.mode&1){var rt=Tc(m);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Oc(rt,m,S,u,t),gi(Gr(R,S));break e}}u=R=Gr(R,S),ot!==4&&(ot=2),Bl===null?Bl=[u]:Bl.push(u),u=m;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var z=_c(u,R,t);sc(u,z);break e;case 1:S=R;var _=u.type,A=u.stateNode;if((u.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(qn===null||!qn.has(A)))){u.flags|=65536,t&=-t,u.lanes|=t;var oe=Mc(u,S,t);sc(u,oe);break e}}u=u.return}while(u!==null)}md(n)}catch(je){t=je,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function dd(){var e=ea.current;return ea.current=Ks,e===null?Ks:e}function ao(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||(wr&268435455)===0&&(ta&268435455)===0||Jn(dt,vt)}function ia(e,t){var n=$e;$e|=2;var s=dd();(dt!==e||vt!==t)&&(bn=null,kr(e,t));do try{ch();break}catch(o){cd(e,o)}while(!0);if(xi(),$e=n,ea.current=s,st!==null)throw Error(a(261));return dt=null,vt=0,ot}function ch(){for(;st!==null;)fd(st)}function dh(){for(;st!==null&&!un();)fd(st)}function fd(e){var t=vd(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?md(e):st=t,Xi.current=null}function md(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=rh(n,t,Ot),n!==null){st=n;return}}else{if(n=lh(n,t),n!==null){n.flags&=32767,st=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,st=null;return}}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);ot===0&&(ot=5)}function Cr(e,t,n){var s=Ue,o=Vt.transition;try{Vt.transition=null,Ue=1,fh(e,t,n,s)}finally{Vt.transition=o,Ue=s}return null}function fh(e,t,n,s){do el();while(Gn!==null);if(($e&6)!==0)throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(Yf(e,u),e===dt&&(st=dt=null,vt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ra||(ra=!0,gd(yn,function(){return el(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=Vt.transition,Vt.transition=null;var m=Ue;Ue=1;var S=$e;$e|=4,Xi.current=null,ah(e,n),rd(n,e),_m(ai),ys=!!si,ai=si=null,e.current=n,ih(n),$t(),$e=S,Ue=m,Vt.transition=u}else e.current=n;if(ra&&(ra=!1,Gn=e,la=o),u=e.pendingLanes,u===0&&(qn=null),nt(n.stateNode),Rt(e,Ye()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(na)throw na=!1,e=eo,eo=null,e;return(la&1)!==0&&e.tag!==0&&el(),u=e.pendingLanes,(u&1)!==0?e===to?Hl++:(Hl=0,to=e):Hl=0,Wn(),null}function el(){if(Gn!==null){var e=tu(la),t=Vt.transition,n=Ue;try{if(Vt.transition=null,Ue=16>e?16:e,Gn===null)var s=!1;else{if(e=Gn,Gn=null,la=0,($e&6)!==0)throw Error(a(331));var o=$e;for($e|=4,pe=e.current;pe!==null;){var u=pe,m=u.child;if((pe.flags&16)!==0){var S=u.deletions;if(S!==null){for(var R=0;R<S.length;R++){var H=S[R];for(pe=H;pe!==null;){var te=pe;switch(te.tag){case 0:case 11:case 15:Al(8,te,u)}var se=te.child;if(se!==null)se.return=te,pe=se;else for(;pe!==null;){te=pe;var ee=te.sibling,fe=te.return;if(Jc(te),te===H){pe=null;break}if(ee!==null){ee.return=fe,pe=ee;break}pe=fe}}}var ge=u.alternate;if(ge!==null){var xe=ge.child;if(xe!==null){ge.child=null;do{var rt=xe.sibling;xe.sibling=null,xe=rt}while(xe!==null)}}pe=u}}if((u.subtreeFlags&2064)!==0&&m!==null)m.return=u,pe=m;else e:for(;pe!==null;){if(u=pe,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:Al(9,u,u.return)}var z=u.sibling;if(z!==null){z.return=u.return,pe=z;break e}pe=u.return}}var _=e.current;for(pe=_;pe!==null;){m=pe;var A=m.child;if((m.subtreeFlags&2064)!==0&&A!==null)A.return=m,pe=A;else e:for(m=_;pe!==null;){if(S=pe,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Zs(9,S)}}catch(je){et(S,S.return,je)}if(S===m){pe=null;break e}var oe=S.sibling;if(oe!==null){oe.return=S.return,pe=oe;break e}pe=S.return}}if($e=o,Wn(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Zt,e)}catch{}s=!0}return s}finally{Ue=n,Vt.transition=t}}return!1}function hd(e,t,n){t=Gr(n,t),t=_c(e,t,1),e=Qn(e,t,1),t=kt(),e!==null&&(ml(e,1,t),Rt(e,t))}function et(e,t,n){if(e.tag===3)hd(e,e,n);else for(;t!==null;){if(t.tag===3){hd(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))){e=Gr(n,e),e=Mc(t,e,1),t=Qn(t,e,1),e=kt(),t!==null&&(ml(t,1,e),Rt(t,e));break}}t=t.return}}function mh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,dt===e&&(vt&n)===n&&(ot===4||ot===3&&(vt&130023424)===vt&&500>Ye()-Zi?kr(e,0):Ji|=n),Rt(e,t)}function pd(e,t){t===0&&((e.mode&1)===0?t=1:(t=hs,hs<<=1,(hs&130023424)===0&&(hs=4194304)));var n=kt();e=Sn(e,t),e!==null&&(ml(e,t,n),Rt(e,n))}function hh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pd(e,n)}function ph(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}s!==null&&s.delete(t),pd(e,n)}var vd;vd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)Et=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Et=!1,nh(e,t,n);Et=(e.flags&131072)!==0}else Et=!1,qe&&(t.flags&1048576)!==0&&qu(t,Os,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Xs(e,t),e=t.pendingProps;var o=Br(t,yt.current);Kr(t,n),o=Li(null,t,s,e,o,n);var u=Di();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(s)?(u=!0,Ms(t)):u=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Si(t),o.updater=qs,t.stateNode=o,o._reactInternals=t,zi(t,s,e,n),t=Ui(null,t,s,!0,u,n)):(t.tag=0,qe&&u&&mi(t),St(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=gh(s),e=nn(s,e),o){case 0:t=Ai(null,t,s,e,n);break e;case 1:t=Bc(null,t,s,e,n);break e;case 11:t=zc(null,t,s,e,n);break e;case 14:t=Fc(null,t,s,nn(s.type,e),n);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:nn(s,o),Ai(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:nn(s,o),Bc(e,t,s,o,n);case 3:e:{if(Hc(t),e===null)throw Error(a(387));s=t.pendingProps,u=t.memoizedState,o=u.element,lc(e,t),Bs(t,s,null,n);var m=t.memoizedState;if(s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){o=Gr(Error(a(423)),t),t=Vc(e,t,s,n,o);break e}else if(s!==o){o=Gr(Error(a(424)),t),t=Vc(e,t,s,n,o);break e}else for(Tt=Bn(t.stateNode.containerInfo.firstChild),It=t,qe=!0,tn=null,n=nc(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wr(),s===o){t=Cn(e,t,n);break e}St(e,t,s,n)}t=t.child}return t;case 5:return ic(t),e===null&&vi(t),s=t.type,o=t.pendingProps,u=e!==null?e.memoizedProps:null,m=o.children,ii(s,o)?m=null:u!==null&&ii(s,u)&&(t.flags|=32),Uc(e,t),St(e,t,m,n),t.child;case 6:return e===null&&vi(t),null;case 13:return Wc(e,t,n);case 4:return ki(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Yr(t,null,s,n):St(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:nn(s,o),zc(e,t,s,o,n);case 7:return St(e,t,t.pendingProps,n),t.child;case 8:return St(e,t,t.pendingProps.children,n),t.child;case 12:return St(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,u=t.memoizedProps,m=o.value,We($s,s._currentValue),s._currentValue=m,u!==null)if(en(u.value,m)){if(u.children===o.children&&!Ct.current){t=Cn(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var S=u.dependencies;if(S!==null){m=u.child;for(var R=S.firstContext;R!==null;){if(R.context===s){if(u.tag===1){R=kn(-1,n&-n),R.tag=2;var H=u.updateQueue;if(H!==null){H=H.shared;var te=H.pending;te===null?R.next=R:(R.next=te.next,te.next=R),H.pending=R}}u.lanes|=n,R=u.alternate,R!==null&&(R.lanes|=n),ji(u.return,n,t),S.lanes|=n;break}R=R.next}}else if(u.tag===10)m=u.type===t.type?null:u.child;else if(u.tag===18){if(m=u.return,m===null)throw Error(a(341));m.lanes|=n,S=m.alternate,S!==null&&(S.lanes|=n),ji(m,n,t),m=u.sibling}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===t){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}St(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Kr(t,n),o=Bt(o),s=s(o),t.flags|=1,St(e,t,s,n),t.child;case 14:return s=t.type,o=nn(s,t.pendingProps),o=nn(s.type,o),Fc(e,t,s,o,n);case 15:return $c(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:nn(s,o),Xs(e,t),t.tag=1,bt(s)?(e=!0,Ms(t)):e=!1,Kr(t,n),Lc(t,s,o),zi(t,s,o,n),Ui(null,t,s,!0,e,n);case 19:return Qc(e,t,n);case 22:return Ac(e,t,n)}throw Error(a(156,t.tag))};function gd(e,t){return on(e,t)}function vh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,s){return new vh(e,t,n,s)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gh(e){if(typeof e=="function")return io(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ce)return 11;if(e===Z)return 14}return 2}function Zn(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oa(e,t,n,s,o,u){var m=2;if(s=e,typeof e=="function")io(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case $:return br(n.children,o,u,t);case X:m=8,o|=8;break;case U:return e=Wt(12,n,t,o|2),e.elementType=U,e.lanes=u,e;case me:return e=Wt(13,n,t,o),e.elementType=me,e.lanes=u,e;case le:return e=Wt(19,n,t,o),e.elementType=le,e.lanes=u,e;case ne:return ua(n,o,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:m=10;break e;case B:m=9;break e;case ce:m=11;break e;case Z:m=14;break e;case Q:m=16,s=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=Wt(m,n,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function br(e,t,n,s){return e=Wt(7,e,s,t),e.lanes=n,e}function ua(e,t,n,s){return e=Wt(22,e,s,t),e.elementType=ne,e.lanes=n,e.stateNode={isHidden:!1},e}function oo(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function uo(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yh(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oa(0),this.expirationTimes=Oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function co(e,t,n,s,o,u,m,S,R){return e=new yh(e,t,n,S,R),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Wt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Si(u),e}function xh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function yd(e){if(!e)return Vn;e=e._reactInternals;e:{if(Me(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(bt(n))return Yu(e,n,t)}return t}function xd(e,t,n,s,o,u,m,S,R){return e=co(n,s,!0,e,o,u,m,S,R),e.context=yd(null),n=e.current,s=kt(),o=Xn(n),u=kn(s,o),u.callback=t??null,Qn(n,u,o),e.current.lanes=o,ml(e,o,s),Rt(e,s),e}function ca(e,t,n,s){var o=t.current,u=kt(),m=Xn(o);return n=yd(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(u,m),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Qn(o,t,m),e!==null&&(sn(e,o,m,u),Us(e,o,m)),m}function da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fo(e,t){Nd(e,t),(e=e.alternate)&&Nd(e,t)}function Nh(){return null}var jd=typeof reportError=="function"?reportError:function(e){console.error(e)};function mo(e){this._internalRoot=e}fa.prototype.render=mo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));ca(e,t,null,null)},fa.prototype.unmount=mo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){ca(null,e,null,null)}),t[xn]=null}};function fa(e){this._internalRoot=e}fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=lu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&iu(e)}};function ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function jh(e,t,n,s,o){if(o){if(typeof s=="function"){var u=s;s=function(){var H=da(m);u.call(H)}}var m=xd(t,s,e,0,null,!1,!1,"",wd);return e._reactRootContainer=m,e[xn]=m.current,El(e.nodeType===8?e.parentNode:e),Sr(),m}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var S=s;s=function(){var H=da(R);S.call(H)}}var R=co(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=R,e[xn]=R.current,El(e.nodeType===8?e.parentNode:e),Sr(function(){ca(t,R,n,s)}),R}function ha(e,t,n,s,o){var u=n._reactRootContainer;if(u){var m=u;if(typeof o=="function"){var S=o;o=function(){var R=da(m);S.call(R)}}ca(t,m,e,o)}else m=jh(n,t,e,o,s);return da(m)}nu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fl(t.pendingLanes);n!==0&&(za(t,n|1),Rt(t,Ye()),($e&6)===0&&(Zr=Ye()+500,Wn()))}break;case 13:Sr(function(){var s=Sn(e,1);if(s!==null){var o=kt();sn(s,e,1,o)}}),fo(e,1)}},Fa=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var n=kt();sn(t,e,134217728,n)}fo(e,134217728)}},ru=function(e){if(e.tag===13){var t=Xn(e),n=Sn(e,t);if(n!==null){var s=kt();sn(n,e,t,s)}fo(e,t)}},lu=function(){return Ue},su=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}},cr=function(e,t,n){switch(t){case"input":if(Rr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=Ds(s);if(!o)throw Error(a(90));Fe(s),Rr(s,o)}}}break;case"textarea":al(e,n);break;case"select":t=n.value,t!=null&&Dn(e,!!n.multiple,t,!1)}},fr=lo,ds=Sr;var wh={usingClientEntryPoint:!1,Events:[Ll,Ar,Ds,cl,dr,lo]},Vl={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sh={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ve(e),e===null?null:e.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||Nh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{Zt=pa.inject(Sh),ut=pa}catch{}}return Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wh,Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ho(t))throw Error(a(200));return xh(e,t,null,n)},Lt.createRoot=function(e,t){if(!ho(e))throw Error(a(299));var n=!1,s="",o=jd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=co(e,1,!1,null,null,n,!1,s,o),e[xn]=t.current,El(e.nodeType===8?e.parentNode:e),new mo(t)},Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Ve(t),e=e===null?null:e.stateNode,e},Lt.flushSync=function(e){return Sr(e)},Lt.hydrate=function(e,t,n){if(!ma(t))throw Error(a(200));return ha(null,e,t,!0,n)},Lt.hydrateRoot=function(e,t,n){if(!ho(e))throw Error(a(405));var s=n!=null&&n.hydratedSources||null,o=!1,u="",m=jd;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),t=xd(t,null,e,1,n??null,o,!1,u,m),e[xn]=t.current,El(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new fa(t)},Lt.render=function(e,t,n){if(!ma(t))throw Error(a(200));return ha(null,e,t,!1,n)},Lt.unmountComponentAtNode=function(e){if(!ma(e))throw Error(a(40));return e._reactRootContainer?(Sr(function(){ha(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1},Lt.unstable_batchedUpdates=lo,Lt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ma(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return ha(e,t,n,!1,s)},Lt.version="18.3.1-next-f1338f8080-20240426",Lt}var Ld;function uf(){if(Ld)return go.exports;Ld=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),go.exports=Lh(),go.exports}var Dd;function Dh(){if(Dd)return ga;Dd=1;var r=uf();return ga.createRoot=r.createRoot,ga.hydrateRoot=r.hydrateRoot,ga}var _h=Dh();const Mh=To(_h);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cf=r=>{throw TypeError(r)},Ih=(r,i,a)=>i.has(r)||cf("Cannot "+a),No=(r,i,a)=>(Ih(r,i,"read from private field"),a?a.call(r):i.get(r)),Th=(r,i,a)=>i.has(r)?cf("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(r):i.set(r,a),_d="popstate";function Oh(r={}){function i(c,f){let{pathname:d,search:h,hash:p}=c.location;return Xl("",{pathname:d,search:h,hash:p},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function a(c,f){return typeof f=="string"?f:lr(f)}return Fh(i,a,null,r)}function Oe(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function lt(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function zh(){return Math.random().toString(36).substring(2,10)}function Md(r,i){return{usr:r.state,key:r.key,idx:i}}function Xl(r,i,a=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?sr(i):i,state:a,key:i&&i.key||c||zh()}}function lr({pathname:r="/",search:i="",hash:a=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function sr(r){let i={};if(r){let a=r.indexOf("#");a>=0&&(i.hash=r.substring(a),r=r.substring(0,a));let c=r.indexOf("?");c>=0&&(i.search=r.substring(c),r=r.substring(0,c)),r&&(i.pathname=r)}return i}function Fh(r,i,a,c={}){let{window:f=document.defaultView,v5Compat:d=!1}=c,h=f.history,p="POP",g=null,v=y();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function y(){return(h.state||{idx:null}).idx}function w(){p="POP";let F=y(),G=F==null?null:F-v;v=F,g&&g({action:p,location:M.location,delta:G})}function j(F,G){p="PUSH";let D=Xl(M.location,F,G);v=y()+1;let k=Md(D,v),K=M.createHref(D);try{h.pushState(k,"",K)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;f.location.assign(K)}d&&g&&g({action:p,location:M.location,delta:1})}function b(F,G){p="REPLACE";let D=Xl(M.location,F,G);v=y();let k=Md(D,v),K=M.createHref(D);h.replaceState(k,"",K),d&&g&&g({action:p,location:M.location,delta:0})}function P(F){return df(F)}let M={get action(){return p},get location(){return r(f,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return f.addEventListener(_d,w),g=F,()=>{f.removeEventListener(_d,w),g=null}},createHref(F){return i(f,F)},createURL:P,encodeLocation(F){let G=P(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:j,replace:b,go(F){return h.go(F)}};return M}function df(r,i=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(a,"No window.location.(origin|href) available to create URL");let c=typeof r=="string"?r:lr(r);return c=c.replace(/ $/,"%20"),!i&&c.startsWith("//")&&(c=a+c),new URL(c,a)}var ql,Id=class{constructor(r){if(Th(this,ql,new Map),r)for(let[i,a]of r)this.set(i,a)}get(r){if(No(this,ql).has(r))return No(this,ql).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,i){No(this,ql).set(r,i)}};ql=new WeakMap;var $h=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ah(r){return $h.has(r)}var Uh=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Bh(r){return Uh.has(r)}function Hh(r){return r.index===!0}function Jl(r,i,a=[],c={},f=!1){return r.map((d,h)=>{let p=[...a,String(h)],g=typeof d.id=="string"?d.id:p.join("-");if(Oe(d.index!==!0||!d.children,"Cannot specify children on an index route"),Oe(f||!c[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),Hh(d)){let v={...d,...i(d),id:g};return c[g]=v,v}else{let v={...d,...i(d),id:g,children:void 0};return c[g]=v,d.children&&(v.children=Jl(d.children,i,p,c,f)),v}})}function tr(r,i,a="/"){return wa(r,i,a,!1)}function wa(r,i,a,c){let f=typeof i=="string"?sr(i):i,d=Qt(f.pathname||"/",a);if(d==null)return null;let h=ff(r);Wh(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let v=np(d);p=ep(h[g],v,c)}return p}function Vh(r,i){let{route:a,pathname:c,params:f}=r;return{id:a.id,pathname:c,params:f,data:i[a.id],loaderData:i[a.id],handle:a.handle}}function ff(r,i=[],a=[],c="",f=!1){let d=(h,p,g=f,v)=>{let y={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(c)&&g)return;Oe(y.relativePath.startsWith(c),`Absolute route path "${y.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(c.length)}let w=hn([c,y.relativePath]),j=a.concat(y);h.children&&h.children.length>0&&(Oe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),ff(h.children,i,j,w,g)),!(h.path==null&&!h.index)&&i.push({path:w,score:Jh(w,h.index),routesMeta:j})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))d(h,p);else for(let g of mf(h.path))d(h,p,!0,g)}),i}function mf(r){let i=r.split("/");if(i.length===0)return[];let[a,...c]=i,f=a.endsWith("?"),d=a.replace(/\?$/,"");if(c.length===0)return f?[d,""]:[d];let h=mf(c.join("/")),p=[];return p.push(...h.map(g=>g===""?d:[d,g].join("/"))),f&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function Wh(r){r.sort((i,a)=>i.score!==a.score?a.score-i.score:Zh(i.routesMeta.map(c=>c.childrenIndex),a.routesMeta.map(c=>c.childrenIndex)))}var Yh=/^:[\w-]+$/,Qh=3,Kh=2,qh=1,Gh=10,Xh=-2,Td=r=>r==="*";function Jh(r,i){let a=r.split("/"),c=a.length;return a.some(Td)&&(c+=Xh),i&&(c+=Kh),a.filter(f=>!Td(f)).reduce((f,d)=>f+(Yh.test(d)?Qh:d===""?qh:Gh),c)}function Zh(r,i){return r.length===i.length&&r.slice(0,-1).every((c,f)=>c===i[f])?r[r.length-1]-i[i.length-1]:0}function ep(r,i,a=!1){let{routesMeta:c}=r,f={},d="/",h=[];for(let p=0;p<c.length;++p){let g=c[p],v=p===c.length-1,y=d==="/"?i:i.slice(d.length)||"/",w=Ea({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},y),j=g.route;if(!w&&v&&a&&!c[c.length-1].route.index&&(w=Ea({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!w)return null;Object.assign(f,w.params),h.push({params:f,pathname:hn([d,w.pathname]),pathnameBase:ap(hn([d,w.pathnameBase])),route:j}),w.pathnameBase!=="/"&&(d=hn([d,w.pathnameBase]))}return h}function Ea(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,c]=tp(r.path,r.caseSensitive,r.end),f=i.match(a);if(!f)return null;let d=f[0],h=d.replace(/(.)\/+$/,"$1"),p=f.slice(1);return{params:c.reduce((v,{paramName:y,isOptional:w},j)=>{if(y==="*"){let P=p[j]||"";h=d.slice(0,d.length-P.length).replace(/(.)\/+$/,"$1")}const b=p[j];return w&&!b?v[y]=void 0:v[y]=(b||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:h,pattern:r}}function tp(r,i=!1,a=!0){lt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],f="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(c.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(c.push({paramName:"*"}),f+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?f+="\\/*$":r!==""&&r!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,i?void 0:"i"),c]}function np(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return lt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function Qt(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,c=r.charAt(a);return c&&c!=="/"?null:r.slice(a)||"/"}function rp({basename:r,pathname:i}){return i==="/"?r:hn([r,i])}function lp(r,i="/"){let{pathname:a,search:c="",hash:f=""}=typeof r=="string"?sr(r):r;return{pathname:a?a.startsWith("/")?a:sp(a,i):i,search:ip(c),hash:op(f)}}function sp(r,i){let a=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(f=>{f===".."?a.length>1&&a.pop():f!=="."&&a.push(f)}),a.length>1?a.join("/"):"/"}function jo(r,i,a,c){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hf(r){return r.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function zo(r){let i=hf(r);return i.map((a,c)=>c===i.length-1?a.pathname:a.pathnameBase)}function Fo(r,i,a,c=!1){let f;typeof r=="string"?f=sr(r):(f={...r},Oe(!f.pathname||!f.pathname.includes("?"),jo("?","pathname","search",f)),Oe(!f.pathname||!f.pathname.includes("#"),jo("#","pathname","hash",f)),Oe(!f.search||!f.search.includes("#"),jo("#","search","hash",f)));let d=r===""||f.pathname==="",h=d?"/":f.pathname,p;if(h==null)p=a;else{let w=i.length-1;if(!c&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),w-=1;f.pathname=j.join("/")}p=w>=0?i[w]:"/"}let g=lp(f,p),v=h&&h!=="/"&&h.endsWith("/"),y=(d||h===".")&&a.endsWith("/");return!g.pathname.endsWith("/")&&(v||y)&&(g.pathname+="/"),g}var hn=r=>r.join("/").replace(/\/\/+/g,"/"),ap=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ip=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,op=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Pa=class{constructor(r,i,a,c=!1){this.status=r,this.statusText=i||"",this.internal=c,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function Zl(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var pf=["POST","PUT","PATCH","DELETE"],up=new Set(pf),cp=["GET",...pf],dp=new Set(cp),fp=new Set([301,302,303,307,308]),mp=new Set([307,308]),wo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hp={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$o=r=>pp.test(r),vp=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),vf="remix-router-transitions",gf=Symbol("ResetLoaderData");function gp(r){const i=r.window?r.window:typeof window<"u"?window:void 0,a=typeof i<"u"&&typeof i.document<"u"&&typeof i.document.createElement<"u";Oe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let c=r.hydrationRouteProperties||[],f=r.mapRouteProperties||vp,d={},h=Jl(r.routes,f,void 0,d),p,g=r.basename||"/";g.startsWith("/")||(g=`/${g}`);let v=r.dataStrategy||wp,y={...r.future},w=null,j=new Set,b=null,P=null,M=null,F=r.hydrationData!=null,G=tr(h,r.history.location,g),D=!1,k=null,K;if(G==null&&!r.patchRoutesOnNavigation){let E=Yt(404,{pathname:r.history.location.pathname}),{matches:I,route:V}=ya(h);K=!0,G=I,k={[V.id]:E}}else if(G&&!r.hydrationData&&dr(G,h,r.history.location.pathname).active&&(G=null),G)if(G.some(E=>E.route.lazy))K=!1;else if(!G.some(E=>Ao(E.route)))K=!0;else{let E=r.hydrationData?r.hydrationData.loaderData:null,I=r.hydrationData?r.hydrationData.errors:null;if(I){let V=G.findIndex(re=>I[re.route.id]!==void 0);K=G.slice(0,V+1).every(re=>!Lo(re.route,E,I))}else K=G.every(V=>!Lo(V.route,E,I))}else{K=!1,G=[];let E=dr(null,h,r.history.location.pathname);E.active&&E.matches&&(D=!0,G=E.matches)}let Y,N={historyAction:r.history.action,location:r.history.location,matches:G,initialized:K,navigation:wo,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||k,fetchers:new Map,blockers:new Map},$="POP",X=!1,U,T=!1,B=new Map,ce=null,me=!1,le=!1,Z=new Set,Q=new Map,ne=0,O=-1,J=new Map,W=new Set,C=new Map,L=new Map,ae=new Set,ie=new Map,he,Ce=null;function _e(){if(w=r.history.listen(({action:E,location:I,delta:V})=>{if(he){he(),he=void 0;return}lt(ie.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=_r({currentLocation:N.location,nextLocation:I,historyAction:E});if(re&&V!=null){let de=new Promise(ye=>{he=ye});r.history.go(V*-1),Mn(re,{state:"blocked",location:I,proceed(){Mn(re,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),de.then(()=>r.history.go(V))},reset(){let ye=new Map(N.blockers);ye.set(re,Yl),ue({blockers:ye})}});return}return qt(E,I)}),a){zp(i,B);let E=()=>Fp(i,B);i.addEventListener("pagehide",E),ce=()=>i.removeEventListener("pagehide",E)}return N.initialized||qt("POP",N.location,{initialHydration:!0}),Y}function Ie(){w&&w(),ce&&ce(),j.clear(),U&&U.abort(),N.fetchers.forEach((E,I)=>vn(I)),N.blockers.forEach((E,I)=>Dr(I))}function q(E){return j.add(E),()=>j.delete(E)}function ue(E,I={}){E.matches&&(E.matches=E.matches.map(de=>{let ye=d[de.route.id],Ne=de.route;return Ne.element!==ye.element||Ne.errorElement!==ye.errorElement||Ne.hydrateFallbackElement!==ye.hydrateFallbackElement?{...de,route:ye}:de})),N={...N,...E};let V=[],re=[];N.fetchers.forEach((de,ye)=>{de.state==="idle"&&(ae.has(ye)?V.push(ye):re.push(ye))}),ae.forEach(de=>{!N.fetchers.has(de)&&!Q.has(de)&&V.push(de)}),[...j].forEach(de=>de(N,{deletedFetchers:V,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),V.forEach(de=>vn(de)),re.forEach(de=>N.fetchers.delete(de))}function Pe(E,I,{flushSync:V}={}){let re=N.actionData!=null&&N.navigation.formMethod!=null&&Dt(N.navigation.formMethod)&&N.navigation.state==="loading"&&E.state?._isRedirect!==!0,de;I.actionData?Object.keys(I.actionData).length>0?de=I.actionData:de=null:re?de=N.actionData:de=null;let ye=I.loaderData?Wd(N.loaderData,I.loaderData,I.matches||[],I.errors):N.loaderData,Ne=N.blockers;Ne.size>0&&(Ne=new Map(Ne),Ne.forEach((ke,Se)=>Ne.set(Se,Yl)));let ve=me?!1:cl(E,I.matches||N.matches),we=X===!0||N.navigation.formMethod!=null&&Dt(N.navigation.formMethod)&&E.state?._isRedirect!==!0;p&&(h=p,p=void 0),me||$==="POP"||($==="PUSH"?r.history.push(E,E.state):$==="REPLACE"&&r.history.replace(E,E.state));let Re;if($==="POP"){let ke=B.get(N.location.pathname);ke&&ke.has(E.pathname)?Re={currentLocation:N.location,nextLocation:E}:B.has(E.pathname)&&(Re={currentLocation:E,nextLocation:N.location})}else if(T){let ke=B.get(N.location.pathname);ke?ke.add(E.pathname):(ke=new Set([E.pathname]),B.set(N.location.pathname,ke)),Re={currentLocation:N.location,nextLocation:E}}ue({...I,actionData:de,loaderData:ye,historyAction:$,location:E,initialized:!0,navigation:wo,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:we,blockers:Ne},{viewTransitionOpts:Re,flushSync:V===!0}),$="POP",X=!1,T=!1,me=!1,le=!1,Ce?.resolve(),Ce=null}async function Fe(E,I){if(typeof E=="number"){r.history.go(E);return}let V=Ro(N.location,N.matches,g,E,I?.fromRouteId,I?.relative),{path:re,submission:de,error:ye}=Od(!1,V,I),Ne=N.location,ve=Xl(N.location,re,I&&I.state);ve={...ve,...r.history.encodeLocation(ve)};let we=I&&I.replace!=null?I.replace:void 0,Re="PUSH";we===!0?Re="REPLACE":we===!1||de!=null&&Dt(de.formMethod)&&de.formAction===N.location.pathname+N.location.search&&(Re="REPLACE");let ke=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,Se=(I&&I.flushSync)===!0,Me=_r({currentLocation:Ne,nextLocation:ve,historyAction:Re});if(Me){Mn(Me,{state:"blocked",location:ve,proceed(){Mn(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),Fe(E,I)},reset(){let He=new Map(N.blockers);He.set(Me,Yl),ue({blockers:He})}});return}await qt(Re,ve,{submission:de,pendingError:ye,preventScrollReset:ke,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:Se})}function mt(){Ce||(Ce=$p()),Lr(),ue({revalidation:"loading"});let E=Ce.promise;return N.navigation.state==="submitting"?E:N.navigation.state==="idle"?(qt(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),E):(qt($||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:T===!0}),E)}async function qt(E,I,V){U&&U.abort(),U=null,$=E,me=(V&&V.startUninterruptedRevalidation)===!0,cs(N.location,N.matches),X=(V&&V.preventScrollReset)===!0,T=(V&&V.enableViewTransition)===!0;let re=p||h,de=V&&V.overrideNavigation,ye=V?.initialHydration&&N.matches&&N.matches.length>0&&!D?N.matches:tr(re,I,g),Ne=(V&&V.flushSync)===!0;if(ye&&N.initialized&&!le&&Lp(N.location,I)&&!(V&&V.submission&&Dt(V.submission.formMethod))){Pe(I,{matches:ye},{flushSync:Ne});return}let ve=dr(ye,re,I.pathname);if(ve.active&&ve.matches&&(ye=ve.matches),!ye){let{error:ht,notFoundMatches:Ve,route:Be}=cr(I.pathname);Pe(I,{matches:Ve,loaderData:{},errors:{[Be.id]:ht}},{flushSync:Ne});return}U=new AbortController;let we=tl(r.history,I,U.signal,V&&V.submission),Re=r.getContext?await r.getContext():new Id,ke;if(V&&V.pendingError)ke=[nr(ye).route.id,{type:"error",error:V.pendingError}];else if(V&&V.submission&&Dt(V.submission.formMethod)){let ht=await ss(we,I,V.submission,ye,Re,ve.active,V&&V.initialHydration===!0,{replace:V.replace,flushSync:Ne});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[Ve,Be]=ht.pendingActionResult;if(zt(Be)&&Zl(Be.error)&&Be.error.status===404){U=null,Pe(I,{matches:ht.matches,loaderData:{},errors:{[Ve]:Be.error}});return}}ye=ht.matches||ye,ke=ht.pendingActionResult,de=So(I,V.submission),Ne=!1,ve.active=!1,we=tl(r.history,we.url,we.signal)}let{shortCircuited:Se,matches:Me,loaderData:He,errors:tt}=await as(we,I,ye,Re,ve.active,de,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,Ne,ke);Se||(U=null,Pe(I,{matches:Me||ye,...Yd(ke),loaderData:He,errors:tt}))}async function ss(E,I,V,re,de,ye,Ne,ve={}){Lr();let we=Tp(I,V);if(ue({navigation:we},{flushSync:ve.flushSync===!0}),ye){let Se=await fr(re,I.pathname,E.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){if(Se.partialMatches.length===0){let{matches:He,route:tt}=ya(h);return{matches:He,pendingActionResult:[tt.id,{type:"error",error:Se.error}]}}let Me=nr(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[Me,{type:"error",error:Se.error}]}}else if(Se.matches)re=Se.matches;else{let{notFoundMatches:Me,error:He,route:tt}=cr(I.pathname);return{matches:Me,pendingActionResult:[tt.id,{type:"error",error:He}]}}}let Re,ke=Sa(re,I);if(!ke.route.action&&!ke.route.lazy)Re={type:"error",error:Yt(405,{method:E.method,pathname:I.pathname,routeId:ke.route.id})};else{let Se=nl(f,d,E,re,ke,Ne?[]:c,de),Me=await _n(E,Se,de,null);if(Re=Me[ke.route.id],!Re){for(let He of re)if(Me[He.route.id]){Re=Me[He.route.id];break}}if(E.signal.aborted)return{shortCircuited:!0}}if(Er(Re)){let Se;return ve&&ve.replace!=null?Se=ve.replace:Se=Bd(Re.response.headers.get("Location"),new URL(E.url),g)===N.location.pathname+N.location.search,await Gt(E,Re,!0,{submission:V,replace:Se}),{shortCircuited:!0}}if(zt(Re)){let Se=nr(re,ke.route.id);return(ve&&ve.replace)!==!0&&($="PUSH"),{matches:re,pendingActionResult:[Se.route.id,Re,ke.route.id]}}return{matches:re,pendingActionResult:[ke.route.id,Re]}}async function as(E,I,V,re,de,ye,Ne,ve,we,Re,ke,Se){let Me=ye||So(I,Ne),He=Ne||ve||Kd(Me),tt=!me&&!Re;if(de){if(tt){let at=Rr(Se);ue({navigation:Me,...at!==void 0?{actionData:at}:{}},{flushSync:ke})}let ze=await fr(V,I.pathname,E.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){if(ze.partialMatches.length===0){let{matches:Zt,route:ut}=ya(h);return{matches:Zt,loaderData:{},errors:{[ut.id]:ze.error}}}let at=nr(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[at]:ze.error}}}else if(ze.matches)V=ze.matches;else{let{error:at,notFoundMatches:Zt,route:ut}=cr(I.pathname);return{matches:Zt,loaderData:{},errors:{[ut.id]:at}}}}let ht=p||h,{dsMatches:Ve,revalidatingFetchers:Be}=zd(E,re,f,d,r.history,N,V,He,I,Re?[]:c,Re===!0,le,Z,ae,C,W,ht,g,r.patchRoutesOnNavigation!=null,Se);if(O=++ne,!r.dataStrategy&&!Ve.some(ze=>ze.shouldLoad)&&!Ve.some(ze=>ze.route.middleware&&ze.route.middleware.length>0)&&Be.length===0){let ze=ol();return Pe(I,{matches:V,loaderData:{},errors:Se&&zt(Se[1])?{[Se[0]]:Se[1].error}:null,...Yd(Se),...ze?{fetchers:new Map(N.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(tt){let ze={};if(!de){ze.navigation=Me;let at=Rr(Se);at!==void 0&&(ze.actionData=at)}Be.length>0&&(ze.fetchers=is(Be)),ue(ze,{flushSync:ke})}Be.forEach(ze=>{Xt(ze.key),ze.controller&&Q.set(ze.key,ze.controller)});let on=()=>Be.forEach(ze=>Xt(ze.key));U&&U.signal.addEventListener("abort",on);let{loaderResults:Tn,fetcherResults:un}=await al(Ve,Be,E,re);if(E.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",on),Be.forEach(ze=>Q.delete(ze.key));let $t=xa(Tn);if($t)return await Gt(E,$t.result,!0,{replace:we}),{shortCircuited:!0};if($t=xa(un),$t)return W.add($t.key),await Gt(E,$t.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Ye,errors:mr}=Vd(N,V,Tn,Se,Be,un);Re&&N.errors&&(mr={...N.errors,...mr});let Jt=ol(),hr=us(O),yn=Jt||hr||Be.length>0;return{matches:V,loaderData:Ye,errors:mr,...yn?{fetchers:new Map(N.fetchers)}:{}}}function Rr(E){if(E&&!zt(E[1]))return{[E[0]]:E[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function is(E){return E.forEach(I=>{let V=N.fetchers.get(I.key),re=Ql(void 0,V?V.data:void 0);N.fetchers.set(I.key,re)}),new Map(N.fetchers)}async function sl(E,I,V,re){Xt(E);let de=(re&&re.flushSync)===!0,ye=p||h,Ne=Ro(N.location,N.matches,g,V,I,re?.relative),ve=tr(ye,Ne,g),we=dr(ve,ye,Ne);if(we.active&&we.matches&&(ve=we.matches),!ve){_t(E,I,Yt(404,{pathname:Ne}),{flushSync:de});return}let{path:Re,submission:ke,error:Se}=Od(!0,Ne,re);if(Se){_t(E,I,Se,{flushSync:de});return}let Me=r.getContext?await r.getContext():new Id,He=(re&&re.preventScrollReset)===!0;if(ke&&Dt(ke.formMethod)){await ir(E,I,Re,ve,Me,we.active,de,He,ke);return}C.set(E,{routeId:I,path:Re}),await Dn(E,I,Re,ve,Me,we.active,de,He,ke)}async function ir(E,I,V,re,de,ye,Ne,ve,we){Lr(),C.delete(E);let Re=N.fetchers.get(E);Ft(E,Op(we,Re),{flushSync:Ne});let ke=new AbortController,Se=tl(r.history,V,ke.signal,we);if(ye){let nt=await fr(re,new URL(Se.url).pathname,Se.signal,E);if(nt.type==="aborted")return;if(nt.type==="error"){_t(E,I,nt.error,{flushSync:Ne});return}else if(nt.matches)re=nt.matches;else{_t(E,I,Yt(404,{pathname:V}),{flushSync:Ne});return}}let Me=Sa(re,V);if(!Me.route.action&&!Me.route.lazy){let nt=Yt(405,{method:we.formMethod,pathname:V,routeId:I});_t(E,I,nt,{flushSync:Ne});return}Q.set(E,ke);let He=ne,tt=nl(f,d,Se,re,Me,c,de),Ve=(await _n(Se,tt,de,E))[Me.route.id];if(Se.signal.aborted){Q.get(E)===ke&&Q.delete(E);return}if(ae.has(E)){if(Er(Ve)||zt(Ve)){Ft(E,En(void 0));return}}else{if(Er(Ve))if(Q.delete(E),O>He){Ft(E,En(void 0));return}else return W.add(E),Ft(E,Ql(we)),Gt(Se,Ve,!1,{fetcherSubmission:we,preventScrollReset:ve});if(zt(Ve)){_t(E,I,Ve.error);return}}let Be=N.navigation.location||N.location,on=tl(r.history,Be,ke.signal),Tn=p||h,un=N.navigation.state!=="idle"?tr(Tn,N.navigation.location,g):N.matches;Oe(un,"Didn't find any matches after fetcher action");let $t=++ne;J.set(E,$t);let Ye=Ql(we,Ve.data);N.fetchers.set(E,Ye);let{dsMatches:mr,revalidatingFetchers:Jt}=zd(on,de,f,d,r.history,N,un,we,Be,c,!1,le,Z,ae,C,W,Tn,g,r.patchRoutesOnNavigation!=null,[Me.route.id,Ve]);Jt.filter(nt=>nt.key!==E).forEach(nt=>{let gt=nt.key,fs=N.fetchers.get(gt),Ia=Ql(void 0,fs?fs.data:void 0);N.fetchers.set(gt,Ia),Xt(gt),nt.controller&&Q.set(gt,nt.controller)}),ue({fetchers:new Map(N.fetchers)});let hr=()=>Jt.forEach(nt=>Xt(nt.key));ke.signal.addEventListener("abort",hr);let{loaderResults:yn,fetcherResults:ze}=await al(mr,Jt,on,de);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",hr),J.delete(E),Q.delete(E),Jt.forEach(nt=>Q.delete(nt.key)),N.fetchers.has(E)){let nt=En(Ve.data);N.fetchers.set(E,nt)}let at=xa(yn);if(at)return Gt(on,at.result,!1,{preventScrollReset:ve});if(at=xa(ze),at)return W.add(at.key),Gt(on,at.result,!1,{preventScrollReset:ve});let{loaderData:Zt,errors:ut}=Vd(N,un,yn,void 0,Jt,ze);us($t),N.navigation.state==="loading"&&$t>O?(Oe($,"Expected pending action"),U&&U.abort(),Pe(N.navigation.location,{matches:un,loaderData:Zt,errors:ut,fetchers:new Map(N.fetchers)})):(ue({errors:ut,loaderData:Wd(N.loaderData,Zt,un,ut),fetchers:new Map(N.fetchers)}),le=!1)}async function Dn(E,I,V,re,de,ye,Ne,ve,we){let Re=N.fetchers.get(E);Ft(E,Ql(we,Re?Re.data:void 0),{flushSync:Ne});let ke=new AbortController,Se=tl(r.history,V,ke.signal);if(ye){let Be=await fr(re,new URL(Se.url).pathname,Se.signal,E);if(Be.type==="aborted")return;if(Be.type==="error"){_t(E,I,Be.error,{flushSync:Ne});return}else if(Be.matches)re=Be.matches;else{_t(E,I,Yt(404,{pathname:V}),{flushSync:Ne});return}}let Me=Sa(re,V);Q.set(E,ke);let He=ne,tt=nl(f,d,Se,re,Me,c,de),Ve=(await _n(Se,tt,de,E))[Me.route.id];if(Q.get(E)===ke&&Q.delete(E),!Se.signal.aborted){if(ae.has(E)){Ft(E,En(void 0));return}if(Er(Ve))if(O>He){Ft(E,En(void 0));return}else{W.add(E),await Gt(Se,Ve,!1,{preventScrollReset:ve});return}if(zt(Ve)){_t(E,I,Ve.error);return}Ft(E,En(Ve.data))}}async function Gt(E,I,V,{submission:re,fetcherSubmission:de,preventScrollReset:ye,replace:Ne}={}){I.response.headers.has("X-Remix-Revalidate")&&(le=!0);let ve=I.response.headers.get("Location");Oe(ve,"Expected a Location header on the redirect Response"),ve=Bd(ve,new URL(E.url),g);let we=Xl(N.location,ve,{_isRedirect:!0});if(a){let tt=!1;if(I.response.headers.has("X-Remix-Reload-Document"))tt=!0;else if($o(ve)){const ht=df(ve,!0);tt=ht.origin!==i.location.origin||Qt(ht.pathname,g)==null}if(tt){Ne?i.location.replace(ve):i.location.assign(ve);return}}U=null;let Re=Ne===!0||I.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Se,formEncType:Me}=N.navigation;!re&&!de&&ke&&Se&&Me&&(re=Kd(N.navigation));let He=re||de;if(mp.has(I.response.status)&&He&&Dt(He.formMethod))await qt(Re,we,{submission:{...He,formAction:ve},preventScrollReset:ye||X,enableViewTransition:V?T:void 0});else{let tt=So(we,re);await qt(Re,we,{overrideNavigation:tt,fetcherSubmission:de,preventScrollReset:ye||X,enableViewTransition:V?T:void 0})}}async function _n(E,I,V,re){let de,ye={};try{de=await kp(v,E,I,re,V,!1)}catch(Ne){return I.filter(ve=>ve.shouldLoad).forEach(ve=>{ye[ve.route.id]={type:"error",error:Ne}}),ye}if(E.signal.aborted)return ye;for(let[Ne,ve]of Object.entries(de))if(Mp(ve)){let we=ve.result;ye[Ne]={type:"redirect",response:Pp(we,E,Ne,I,g)}}else ye[Ne]=await Ep(ve);return ye}async function al(E,I,V,re){let de=_n(V,E,re,null),ye=Promise.all(I.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let ke=(await _n(we.request,we.matches,re,we.key))[we.match.route.id];return{[we.key]:ke}}else return Promise.resolve({[we.key]:{type:"error",error:Yt(404,{pathname:we.path})}})})),Ne=await de,ve=(await ye).reduce((we,Re)=>Object.assign(we,Re),{});return{loaderResults:Ne,fetcherResults:ve}}function Lr(){le=!0,C.forEach((E,I)=>{Q.has(I)&&Z.add(I),Xt(I)})}function Ft(E,I,V={}){N.fetchers.set(E,I),ue({fetchers:new Map(N.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function _t(E,I,V,re={}){let de=nr(N.matches,I);vn(E),ue({errors:{[de.route.id]:V},fetchers:new Map(N.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function or(E){return L.set(E,(L.get(E)||0)+1),ae.has(E)&&ae.delete(E),N.fetchers.get(E)||hp}function os(E,I){Xt(E,I?.reason),Ft(E,En(null))}function vn(E){let I=N.fetchers.get(E);Q.has(E)&&!(I&&I.state==="loading"&&J.has(E))&&Xt(E),C.delete(E),J.delete(E),W.delete(E),ae.delete(E),Z.delete(E),N.fetchers.delete(E)}function ur(E){let I=(L.get(E)||0)-1;I<=0?(L.delete(E),ae.add(E)):L.set(E,I),ue({fetchers:new Map(N.fetchers)})}function Xt(E,I){let V=Q.get(E);V&&(V.abort(I),Q.delete(E))}function il(E){for(let I of E){let V=or(I),re=En(V.data);N.fetchers.set(I,re)}}function ol(){let E=[],I=!1;for(let V of W){let re=N.fetchers.get(V);Oe(re,`Expected fetcher: ${V}`),re.state==="loading"&&(W.delete(V),E.push(V),I=!0)}return il(E),I}function us(E){let I=[];for(let[V,re]of J)if(re<E){let de=N.fetchers.get(V);Oe(de,`Expected fetcher: ${V}`),de.state==="loading"&&(Xt(V),J.delete(V),I.push(V))}return il(I),I.length>0}function ul(E,I){let V=N.blockers.get(E)||Yl;return ie.get(E)!==I&&ie.set(E,I),V}function Dr(E){N.blockers.delete(E),ie.delete(E)}function Mn(E,I){let V=N.blockers.get(E)||Yl;Oe(V.state==="unblocked"&&I.state==="blocked"||V.state==="blocked"&&I.state==="blocked"||V.state==="blocked"&&I.state==="proceeding"||V.state==="blocked"&&I.state==="unblocked"||V.state==="proceeding"&&I.state==="unblocked",`Invalid blocker state transition: ${V.state} -> ${I.state}`);let re=new Map(N.blockers);re.set(E,I),ue({blockers:re})}function _r({currentLocation:E,nextLocation:I,historyAction:V}){if(ie.size===0)return;ie.size>1&&lt(!1,"A router only supports one blocker at a time");let re=Array.from(ie.entries()),[de,ye]=re[re.length-1],Ne=N.blockers.get(de);if(!(Ne&&Ne.state==="proceeding")&&ye({currentLocation:E,nextLocation:I,historyAction:V}))return de}function cr(E){let I=Yt(404,{pathname:E}),V=p||h,{matches:re,route:de}=ya(V);return{notFoundMatches:re,route:de,error:I}}function In(E,I,V){if(b=E,M=I,P=V||null,!F&&N.navigation===wo){F=!0;let re=cl(N.location,N.matches);re!=null&&ue({restoreScrollPosition:re})}return()=>{b=null,M=null,P=null}}function gn(E,I){return P&&P(E,I.map(re=>Vh(re,N.loaderData)))||E.key}function cs(E,I){if(b&&M){let V=gn(E,I);b[V]=M()}}function cl(E,I){if(b){let V=gn(E,I),re=b[V];if(typeof re=="number")return re}return null}function dr(E,I,V){if(r.patchRoutesOnNavigation)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:wa(I,V,g,!0)}}else return{active:!0,matches:wa(I,V,g,!0)||[]};return{active:!1,matches:null}}async function fr(E,I,V,re){if(!r.patchRoutesOnNavigation)return{type:"success",matches:E};let de=E;for(;;){let ye=p==null,Ne=p||h,ve=d;try{await r.patchRoutesOnNavigation({signal:V,path:I,matches:de,fetcherKey:re,patch:(ke,Se)=>{V.aborted||Fd(ke,Se,Ne,ve,f,!1)}})}catch(ke){return{type:"error",error:ke,partialMatches:de}}finally{ye&&!V.aborted&&(h=[...h])}if(V.aborted)return{type:"aborted"};let we=tr(Ne,I,g);if(we)return{type:"success",matches:we};let Re=wa(Ne,I,g,!0);if(!Re||de.length===Re.length&&de.every((ke,Se)=>ke.route.id===Re[Se].route.id))return{type:"success",matches:null};de=Re}}function ds(E){d={},p=Jl(E,f,void 0,d)}function dl(E,I,V=!1){let re=p==null;Fd(E,I,p||h,d,f,V),re&&(h=[...h],ue({}))}return Y={get basename(){return g},get future(){return y},get state(){return N},get routes(){return h},get window(){return i},initialize:_e,subscribe:q,enableScrollRestoration:In,navigate:Fe,fetch:sl,revalidate:mt,createHref:E=>r.history.createHref(E),encodeLocation:E=>r.history.encodeLocation(E),getFetcher:or,resetFetcher:os,deleteFetcher:ur,dispose:Ie,getBlocker:ul,deleteBlocker:Dr,patchRoutes:dl,_internalFetchControllers:Q,_internalSetRoutes:ds,_internalSetStateDoNotUseOrYouWillBreakYourApp(E){ue(E)}},Y}function yp(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Ro(r,i,a,c,f,d){let h,p;if(f){h=[];for(let v of i)if(h.push(v),v.route.id===f){p=v;break}}else h=i,p=i[i.length-1];let g=Fo(c||".",zo(h),Qt(r.pathname,a)||r.pathname,d==="path");if(c==null&&(g.search=r.search,g.hash=r.hash),(c==null||c===""||c===".")&&p){let v=Uo(g.search);if(p.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&v){let y=new URLSearchParams(g.search),w=y.getAll("index");y.delete("index"),w.filter(b=>b).forEach(b=>y.append("index",b));let j=y.toString();g.search=j?`?${j}`:""}}return a!=="/"&&(g.pathname=rp({basename:a,pathname:g.pathname})),lr(g)}function Od(r,i,a){if(!a||!yp(a))return{path:i};if(a.formMethod&&!Ip(a.formMethod))return{path:i,error:Yt(405,{method:a.formMethod})};let c=()=>({path:i,error:Yt(400,{type:"invalid-body"})}),d=(a.formMethod||"get").toUpperCase(),h=Sf(i);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Dt(d))return c();let w=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((j,[b,P])=>`${j}${b}=${P}
`,""):String(a.body);return{path:i,submission:{formMethod:d,formAction:h,formEncType:a.formEncType,formData:void 0,json:void 0,text:w}}}else if(a.formEncType==="application/json"){if(!Dt(d))return c();try{let w=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:i,submission:{formMethod:d,formAction:h,formEncType:a.formEncType,formData:void 0,json:w,text:void 0}}}catch{return c()}}}Oe(typeof FormData=="function","FormData is not available in this environment");let p,g;if(a.formData)p=_o(a.formData),g=a.formData;else if(a.body instanceof FormData)p=_o(a.body),g=a.body;else if(a.body instanceof URLSearchParams)p=a.body,g=Hd(p);else if(a.body==null)p=new URLSearchParams,g=new FormData;else try{p=new URLSearchParams(a.body),g=Hd(p)}catch{return c()}let v={formMethod:d,formAction:h,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Dt(v.formMethod))return{path:i,submission:v};let y=sr(i);return r&&y.search&&Uo(y.search)&&p.append("index",""),y.search=`?${p}`,{path:lr(y),submission:v}}function zd(r,i,a,c,f,d,h,p,g,v,y,w,j,b,P,M,F,G,D,k){let K=k?zt(k[1])?k[1].error:k[1].data:void 0,Y=f.createURL(d.location),N=f.createURL(g),$;if(y&&d.errors){let me=Object.keys(d.errors)[0];$=h.findIndex(le=>le.route.id===me)}else if(k&&zt(k[1])){let me=k[0];$=h.findIndex(le=>le.route.id===me)-1}let X=k?k[1].statusCode:void 0,U=X&&X>=400,T={currentUrl:Y,currentParams:d.matches[0]?.params||{},nextUrl:N,nextParams:h[0].params,...p,actionResult:K,actionStatus:X},B=h.map((me,le)=>{let{route:Z}=me,Q=null;if($!=null&&le>$?Q=!1:Z.lazy?Q=!0:Ao(Z)?y?Q=Lo(Z,d.loaderData,d.errors):xp(d.loaderData,d.matches[le],me)&&(Q=!0):Q=!1,Q!==null)return Do(a,c,r,me,v,i,Q);let ne=U?!1:w||Y.pathname+Y.search===N.pathname+N.search||Y.search!==N.search||Np(d.matches[le],me),O={...T,defaultShouldRevalidate:ne},J=Ra(me,O);return Do(a,c,r,me,v,i,J,O)}),ce=[];return P.forEach((me,le)=>{if(y||!h.some(L=>L.route.id===me.routeId)||b.has(le))return;let Z=d.fetchers.get(le),Q=Z&&Z.state!=="idle"&&Z.data===void 0,ne=tr(F,me.path,G);if(!ne){if(D&&Q)return;ce.push({key:le,routeId:me.routeId,path:me.path,matches:null,match:null,request:null,controller:null});return}if(M.has(le))return;let O=Sa(ne,me.path),J=new AbortController,W=tl(f,me.path,J.signal),C=null;if(j.has(le))j.delete(le),C=nl(a,c,W,ne,O,v,i);else if(Q)w&&(C=nl(a,c,W,ne,O,v,i));else{let L={...T,defaultShouldRevalidate:U?!1:w};Ra(O,L)&&(C=nl(a,c,W,ne,O,v,i,L))}C&&ce.push({key:le,routeId:me.routeId,path:me.path,matches:C,match:O,request:W,controller:J})}),{dsMatches:B,revalidatingFetchers:ce}}function Ao(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function Lo(r,i,a){if(r.lazy)return!0;if(!Ao(r))return!1;let c=i!=null&&r.id in i,f=a!=null&&a[r.id]!==void 0;return!c&&f?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!c&&!f}function xp(r,i,a){let c=!i||a.route.id!==i.route.id,f=!r.hasOwnProperty(a.route.id);return c||f}function Np(r,i){let a=r.route.path;return r.pathname!==i.pathname||a!=null&&a.endsWith("*")&&r.params["*"]!==i.params["*"]}function Ra(r,i){if(r.route.shouldRevalidate){let a=r.route.shouldRevalidate(i);if(typeof a=="boolean")return a}return i.defaultShouldRevalidate}function Fd(r,i,a,c,f,d){let h;if(r){let v=c[r];Oe(v,`No route found to patch children into: routeId = ${r}`),v.children||(v.children=[]),h=v.children}else h=a;let p=[],g=[];if(i.forEach(v=>{let y=h.find(w=>yf(v,w));y?g.push({existingRoute:y,newRoute:v}):p.push(v)}),p.length>0){let v=Jl(p,f,[r||"_","patch",String(h?.length||"0")],c);h.push(...v)}if(d&&g.length>0)for(let v=0;v<g.length;v++){let{existingRoute:y,newRoute:w}=g[v],j=y,[b]=Jl([w],f,[],{},!0);Object.assign(j,{element:b.element?b.element:j.element,errorElement:b.errorElement?b.errorElement:j.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:j.hydrateFallbackElement})}}function yf(r,i){return"id"in r&&"id"in i&&r.id===i.id?!0:r.index===i.index&&r.path===i.path&&r.caseSensitive===i.caseSensitive?(!r.children||r.children.length===0)&&(!i.children||i.children.length===0)?!0:r.children.every((a,c)=>i.children?.some(f=>yf(a,f))):!1}var $d=new WeakMap,xf=({key:r,route:i,manifest:a,mapRouteProperties:c})=>{let f=a[i.id];if(Oe(f,"No route found in manifest"),!f.lazy||typeof f.lazy!="object")return;let d=f.lazy[r];if(!d)return;let h=$d.get(f);h||(h={},$d.set(f,h));let p=h[r];if(p)return p;let g=(async()=>{let v=Ah(r),w=f[r]!==void 0&&r!=="hasErrorBoundary";if(v)lt(!v,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),h[r]=Promise.resolve();else if(w)lt(!1,`Route "${f.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let j=await d();j!=null&&(Object.assign(f,{[r]:j}),Object.assign(f,c(f)))}typeof f.lazy=="object"&&(f.lazy[r]=void 0,Object.values(f.lazy).every(j=>j===void 0)&&(f.lazy=void 0))})();return h[r]=g,g},Ad=new WeakMap;function jp(r,i,a,c,f){let d=a[r.id];if(Oe(d,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let y=Ad.get(d);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let w=(async()=>{Oe(typeof r.lazy=="function","No lazy route function found");let j=await r.lazy(),b={};for(let P in j){let M=j[P];if(M===void 0)continue;let F=Bh(P),D=d[P]!==void 0&&P!=="hasErrorBoundary";F?lt(!F,"Route property "+P+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?lt(!D,`Route "${d.id}" has a static property "${P}" defined but its lazy function is also returning a value for this property. The lazy route property "${P}" will be ignored.`):b[P]=M}Object.assign(d,b),Object.assign(d,{...c(d),lazy:void 0})})();return Ad.set(d,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let h=Object.keys(r.lazy),p=[],g;for(let y of h){if(f&&f.includes(y))continue;let w=xf({key:y,route:r,manifest:a,mapRouteProperties:c});w&&(p.push(w),y===i&&(g=w))}let v=p.length>0?Promise.all(p).then(()=>{}):void 0;return v?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:g}}async function Ud(r){let i=r.matches.filter(f=>f.shouldLoad),a={};return(await Promise.all(i.map(f=>f.resolve()))).forEach((f,d)=>{a[i[d].route.id]=f}),a}async function wp(r){return r.matches.some(i=>i.route.middleware)?Nf(r,()=>Ud(r)):Ud(r)}function Nf(r,i){return Sp(r,i,c=>c,Dp,a);function a(c,f,d){if(d)return Promise.resolve(Object.assign(d.value,{[f]:{type:"error",result:c}}));{let{matches:h}=r,p=Math.min(Math.max(h.findIndex(v=>v.route.id===f),0),Math.max(h.findIndex(v=>v.unstable_shouldCallHandler()),0)),g=nr(h,h[p].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:c}})}}}async function Sp(r,i,a,c,f){let{matches:d,request:h,params:p,context:g}=r,v=d.flatMap(w=>w.route.middleware?w.route.middleware.map(j=>[w.route.id,j]):[]);return await jf({request:h,params:p,context:g},v,i,a,c,f)}async function jf(r,i,a,c,f,d,h=0){let{request:p}=r;if(p.signal.aborted)throw p.signal.reason??new Error(`Request aborted: ${p.method} ${p.url}`);let g=i[h];if(!g)return await a();let[v,y]=g,w,j=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await jf(r,i,a,c,f,d,h+1)},w.value}catch(b){return w={value:await d(b,v,w)},w.value}};try{let b=await y(r,j),P=b!=null?c(b):void 0;return f(P)?P:w?P??w.value:(w={value:await j()},w.value)}catch(b){return await d(b,v,w)}}function wf(r,i,a,c,f){let d=xf({key:"middleware",route:c.route,manifest:i,mapRouteProperties:r}),h=jp(c.route,Dt(a.method)?"action":"loader",i,r,f);return{middleware:d,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function Do(r,i,a,c,f,d,h,p=null){let g=!1,v=wf(r,i,a,c,f);return{...c,_lazyPromises:v,shouldLoad:h,unstable_shouldRevalidateArgs:p,unstable_shouldCallHandler(y){return g=!0,p?typeof y=="boolean"?Ra(c,{...p,defaultShouldRevalidate:y}):Ra(c,p):h},resolve(y){let{lazy:w,loader:j,middleware:b}=c.route,P=g||h||y&&!Dt(a.method)&&(w||j),M=b&&b.length>0&&!j&&!w;return P&&!M?Cp({request:a,match:c,lazyHandlerPromise:v?.handler,lazyRoutePromise:v?.route,handlerOverride:y,scopedContext:d}):Promise.resolve({type:"data",result:void 0})}}}function nl(r,i,a,c,f,d,h,p=null){return c.map(g=>g.route.id!==f.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:p,unstable_shouldCallHandler:()=>!1,_lazyPromises:wf(r,i,a,g,d),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Do(r,i,a,g,d,h,!0,p))}async function kp(r,i,a,c,f,d){a.some(v=>v._lazyPromises?.middleware)&&await Promise.all(a.map(v=>v._lazyPromises?.middleware));let h={request:i,params:a[0].params,context:f,matches:a},g=await r({...h,fetcherKey:c,runClientMiddleware:v=>{let y=h;return Nf(y,()=>v({...y,fetcherKey:c,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(a.flatMap(v=>[v._lazyPromises?.handler,v._lazyPromises?.route]))}catch{}return g}async function Cp({request:r,match:i,lazyHandlerPromise:a,lazyRoutePromise:c,handlerOverride:f,scopedContext:d}){let h,p,g=Dt(r.method),v=g?"action":"loader",y=w=>{let j,b=new Promise((F,G)=>j=G);p=()=>j(),r.signal.addEventListener("abort",p);let P=F=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${i.route.id}]`)):w({request:r,params:i.params,context:d},...F!==void 0?[F]:[]),M=(async()=>{try{return{type:"data",result:await(f?f(G=>P(G)):P())}}catch(F){return{type:"error",result:F}}})();return Promise.race([M,b])};try{let w=g?i.route.action:i.route.loader;if(a||c)if(w){let j,[b]=await Promise.all([y(w).catch(P=>{j=P}),a,c]);if(j!==void 0)throw j;h=b}else{await a;let j=g?i.route.action:i.route.loader;if(j)[h]=await Promise.all([y(j),c]);else if(v==="action"){let b=new URL(r.url),P=b.pathname+b.search;throw Yt(405,{method:r.method,pathname:P,routeId:i.route.id})}else return{type:"data",result:void 0}}else if(w)h=await y(w);else{let j=new URL(r.url),b=j.pathname+j.search;throw Yt(404,{pathname:b})}}catch(w){return{type:"error",result:w}}finally{p&&r.signal.removeEventListener("abort",p)}return h}async function bp(r){let i=r.headers.get("Content-Type");return i&&/\bapplication\/json\b/.test(i)?r.body==null?null:r.json():r.text()}async function Ep(r){let{result:i,type:a}=r;if(kf(i)){let c;try{c=await bp(i)}catch(f){return{type:"error",error:f}}return a==="error"?{type:"error",error:new Pa(i.status,i.statusText,c),statusCode:i.status,headers:i.headers}:{type:"data",data:c,statusCode:i.status,headers:i.headers}}return a==="error"?Qd(i)?i.data instanceof Error?{type:"error",error:i.data,statusCode:i.init?.status,headers:i.init?.headers?new Headers(i.init.headers):void 0}:{type:"error",error:new Pa(i.init?.status||500,void 0,i.data),statusCode:Zl(i)?i.status:void 0,headers:i.init?.headers?new Headers(i.init.headers):void 0}:{type:"error",error:i,statusCode:Zl(i)?i.status:void 0}:Qd(i)?{type:"data",data:i.data,statusCode:i.init?.status,headers:i.init?.headers?new Headers(i.init.headers):void 0}:{type:"data",data:i}}function Pp(r,i,a,c,f){let d=r.headers.get("Location");if(Oe(d,"Redirects returned/thrown from loaders/actions must have a Location header"),!$o(d)){let h=c.slice(0,c.findIndex(p=>p.route.id===a)+1);d=Ro(new URL(i.url),h,f,d),r.headers.set("Location",d)}return r}function Bd(r,i,a){if($o(r)){let c=r,f=c.startsWith("//")?new URL(i.protocol+c):new URL(c),d=Qt(f.pathname,a)!=null;if(f.origin===i.origin&&d)return f.pathname+f.search+f.hash}return r}function tl(r,i,a,c){let f=r.createURL(Sf(i)).toString(),d={signal:a};if(c&&Dt(c.formMethod)){let{formMethod:h,formEncType:p}=c;d.method=h.toUpperCase(),p==="application/json"?(d.headers=new Headers({"Content-Type":p}),d.body=JSON.stringify(c.json)):p==="text/plain"?d.body=c.text:p==="application/x-www-form-urlencoded"&&c.formData?d.body=_o(c.formData):d.body=c.formData}return new Request(f,d)}function _o(r){let i=new URLSearchParams;for(let[a,c]of r.entries())i.append(a,typeof c=="string"?c:c.name);return i}function Hd(r){let i=new FormData;for(let[a,c]of r.entries())i.append(a,c);return i}function Rp(r,i,a,c=!1,f=!1){let d={},h=null,p,g=!1,v={},y=a&&zt(a[1])?a[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in i))return;let j=w.route.id,b=i[j];if(Oe(!Er(b),"Cannot handle redirect results in processLoaderData"),zt(b)){let P=b.error;if(y!==void 0&&(P=y,y=void 0),h=h||{},f)h[j]=P;else{let M=nr(r,j);h[M.route.id]==null&&(h[M.route.id]=P)}c||(d[j]=gf),g||(g=!0,p=Zl(b.error)?b.error.status:500),b.headers&&(v[j]=b.headers)}else d[j]=b.data,b.statusCode&&b.statusCode!==200&&!g&&(p=b.statusCode),b.headers&&(v[j]=b.headers)}),y!==void 0&&a&&(h={[a[0]]:y},a[2]&&(d[a[2]]=void 0)),{loaderData:d,errors:h,statusCode:p||200,loaderHeaders:v}}function Vd(r,i,a,c,f,d){let{loaderData:h,errors:p}=Rp(i,a,c);return f.filter(g=>!g.matches||g.matches.some(v=>v.shouldLoad)).forEach(g=>{let{key:v,match:y,controller:w}=g;if(w&&w.signal.aborted)return;let j=d[v];if(Oe(j,"Did not find corresponding fetcher result"),zt(j)){let b=nr(r.matches,y?.route.id);p&&p[b.route.id]||(p={...p,[b.route.id]:j.error}),r.fetchers.delete(v)}else if(Er(j))Oe(!1,"Unhandled fetcher revalidation redirect");else{let b=En(j.data);r.fetchers.set(v,b)}}),{loaderData:h,errors:p}}function Wd(r,i,a,c){let f=Object.entries(i).filter(([,d])=>d!==gf).reduce((d,[h,p])=>(d[h]=p,d),{});for(let d of a){let h=d.route.id;if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&d.route.loader&&(f[h]=r[h]),c&&c.hasOwnProperty(h))break}return f}function Yd(r){return r?zt(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function nr(r,i){return(i?r.slice(0,r.findIndex(c=>c.route.id===i)+1):[...r]).reverse().find(c=>c.route.hasErrorBoundary===!0)||r[0]}function ya(r){let i=r.length===1?r[0]:r.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:i}],route:i}}function Yt(r,{pathname:i,routeId:a,method:c,type:f,message:d}={}){let h="Unknown Server Error",p="Unknown @remix-run/router error";return r===400?(h="Bad Request",c&&i&&a?p=`You made a ${c} request to "${i}" but did not provide a \`loader\` for route "${a}", so there is no way to handle the request.`:f==="invalid-body"&&(p="Unable to encode submission body")):r===403?(h="Forbidden",p=`Route "${a}" does not match URL "${i}"`):r===404?(h="Not Found",p=`No route matches URL "${i}"`):r===405&&(h="Method Not Allowed",c&&i&&a?p=`You made a ${c.toUpperCase()} request to "${i}" but did not provide an \`action\` for route "${a}", so there is no way to handle the request.`:c&&(p=`Invalid request method "${c.toUpperCase()}"`)),new Pa(r||500,h,new Error(p),!0)}function xa(r){let i=Object.entries(r);for(let a=i.length-1;a>=0;a--){let[c,f]=i[a];if(Er(f))return{key:c,result:f}}}function Sf(r){let i=typeof r=="string"?sr(r):r;return lr({...i,hash:""})}function Lp(r,i){return r.pathname!==i.pathname||r.search!==i.search?!1:r.hash===""?i.hash!=="":r.hash===i.hash?!0:i.hash!==""}function Dp(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([i,a])=>typeof i=="string"&&_p(a))}function _p(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function Mp(r){return kf(r.result)&&fp.has(r.result.status)}function zt(r){return r.type==="error"}function Er(r){return(r&&r.type)==="redirect"}function Qd(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function kf(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function Ip(r){return dp.has(r.toUpperCase())}function Dt(r){return up.has(r.toUpperCase())}function Uo(r){return new URLSearchParams(r).getAll("index").some(i=>i==="")}function Sa(r,i){let a=typeof i=="string"?sr(i).search:i.search;if(r[r.length-1].route.index&&Uo(a||""))return r[r.length-1];let c=hf(r);return c[c.length-1]}function Kd(r){let{formMethod:i,formAction:a,formEncType:c,text:f,formData:d,json:h}=r;if(!(!i||!a||!c)){if(f!=null)return{formMethod:i,formAction:a,formEncType:c,formData:void 0,json:void 0,text:f};if(d!=null)return{formMethod:i,formAction:a,formEncType:c,formData:d,json:void 0,text:void 0};if(h!==void 0)return{formMethod:i,formAction:a,formEncType:c,formData:void 0,json:h,text:void 0}}}function So(r,i){return i?{state:"loading",location:r,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Tp(r,i){return{state:"submitting",location:r,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}}function Ql(r,i){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:i}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function Op(r,i){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:i?i.data:void 0}}function En(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function zp(r,i){try{let a=r.sessionStorage.getItem(vf);if(a){let c=JSON.parse(a);for(let[f,d]of Object.entries(c||{}))d&&Array.isArray(d)&&i.set(f,new Set(d||[]))}}catch{}}function Fp(r,i){if(i.size>0){let a={};for(let[c,f]of i)a[c]=[...f];try{r.sessionStorage.setItem(vf,JSON.stringify(a))}catch(c){lt(!1,`Failed to save applied view transitions in sessionStorage (${c}).`)}}}function $p(){let r,i,a=new Promise((c,f)=>{r=async d=>{c(d);try{await a}catch{}},i=async d=>{f(d);try{await a}catch{}}});return{promise:a,resolve:r,reject:i}}var Pr=x.createContext(null);Pr.displayName="DataRouter";var ts=x.createContext(null);ts.displayName="DataRouterState";x.createContext(!1);var Bo=x.createContext({isTransitioning:!1});Bo.displayName="ViewTransition";var Cf=x.createContext(new Map);Cf.displayName="Fetchers";var Ap=x.createContext(null);Ap.displayName="Await";var pn=x.createContext(null);pn.displayName="Navigation";var La=x.createContext(null);La.displayName="Location";var an=x.createContext({outlet:null,matches:[],isDataRoute:!1});an.displayName="Route";var Ho=x.createContext(null);Ho.displayName="RouteError";function Up(r,{relative:i}={}){Oe(ns(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:c}=x.useContext(pn),{hash:f,pathname:d,search:h}=rs(r,{relative:i}),p=d;return a!=="/"&&(p=d==="/"?a:hn([a,d])),c.createHref({pathname:p,search:h,hash:f})}function ns(){return x.useContext(La)!=null}function ar(){return Oe(ns(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(La).location}var bf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ef(r){x.useContext(pn).static||x.useLayoutEffect(r)}function Da(){let{isDataRoute:r}=x.useContext(an);return r?rv():Bp()}function Bp(){Oe(ns(),"useNavigate() may be used only in the context of a <Router> component.");let r=x.useContext(Pr),{basename:i,navigator:a}=x.useContext(pn),{matches:c}=x.useContext(an),{pathname:f}=ar(),d=JSON.stringify(zo(c)),h=x.useRef(!1);return Ef(()=>{h.current=!0}),x.useCallback((g,v={})=>{if(lt(h.current,bf),!h.current)return;if(typeof g=="number"){a.go(g);return}let y=Fo(g,JSON.parse(d),f,v.relative==="path");r==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:hn([i,y.pathname])),(v.replace?a.replace:a.push)(y,v.state,v)},[i,a,d,f,r])}var Hp=x.createContext(null);function Vp(r){let i=x.useContext(an).outlet;return x.useMemo(()=>i&&x.createElement(Hp.Provider,{value:r},i),[i,r])}function Wp(){let{matches:r}=x.useContext(an),i=r[r.length-1];return i?i.params:{}}function rs(r,{relative:i}={}){let{matches:a}=x.useContext(an),{pathname:c}=ar(),f=JSON.stringify(zo(a));return x.useMemo(()=>Fo(r,JSON.parse(f),c,i==="path"),[r,f,c,i])}function Yp(r,i,a,c,f){Oe(ns(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=x.useContext(pn),{matches:h}=x.useContext(an),p=h[h.length-1],g=p?p.params:{},v=p?p.pathname:"/",y=p?p.pathnameBase:"/",w=p&&p.route;{let D=w&&w.path||"";Pf(v,!w||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let j=ar(),b;b=j;let P=b.pathname||"/",M=P;if(y!=="/"){let D=y.replace(/^\//,"").split("/");M="/"+P.replace(/^\//,"").split("/").slice(D.length).join("/")}let F=tr(r,{pathname:M});return lt(w||F!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),lt(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Xp(F&&F.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:hn([y,d.encodeLocation?d.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:hn([y,d.encodeLocation?d.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),h,a,c,f)}function Qp(){let r=nv(),i=Zl(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:c},d={padding:"2px 4px",backgroundColor:c},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:d},"ErrorBoundary")," or"," ",x.createElement("code",{style:d},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},i),a?x.createElement("pre",{style:f},a):null,h)}var Kp=x.createElement(Qp,null),qp=class extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){this.props.unstable_onError?this.props.unstable_onError(r,i):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?x.createElement(an.Provider,{value:this.props.routeContext},x.createElement(Ho.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Gp({routeContext:r,match:i,children:a}){let c=x.useContext(Pr);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),x.createElement(an.Provider,{value:r},a)}function Xp(r,i=[],a=null,c=null,f=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(i.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let d=r,h=a?.errors;if(h!=null){let v=d.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);Oe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,v+1))}let p=!1,g=-1;if(a)for(let v=0;v<d.length;v++){let y=d[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=v),y.route.id){let{loaderData:w,errors:j}=a,b=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!j||j[y.route.id]===void 0);if(y.route.lazy||b){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((v,y,w)=>{let j,b=!1,P=null,M=null;a&&(j=h&&y.route.id?h[y.route.id]:void 0,P=y.route.errorElement||Kp,p&&(g<0&&w===0?(Pf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,M=null):g===w&&(b=!0,M=y.route.hydrateFallbackElement||null)));let F=i.concat(d.slice(0,w+1)),G=()=>{let D;return j?D=P:b?D=M:y.route.Component?D=x.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=v,x.createElement(Gp,{match:y,routeContext:{outlet:v,matches:F,isDataRoute:a!=null},children:D})};return a&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?x.createElement(qp,{location:a.location,revalidation:a.revalidation,component:P,error:j,children:G(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:c}):G()},null)}function Vo(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jp(r){let i=x.useContext(Pr);return Oe(i,Vo(r)),i}function Zp(r){let i=x.useContext(ts);return Oe(i,Vo(r)),i}function ev(r){let i=x.useContext(an);return Oe(i,Vo(r)),i}function Wo(r){let i=ev(r),a=i.matches[i.matches.length-1];return Oe(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function tv(){return Wo("useRouteId")}function nv(){let r=x.useContext(Ho),i=Zp("useRouteError"),a=Wo("useRouteError");return r!==void 0?r:i.errors?.[a]}function rv(){let{router:r}=Jp("useNavigate"),i=Wo("useNavigate"),a=x.useRef(!1);return Ef(()=>{a.current=!0}),x.useCallback(async(f,d={})=>{lt(a.current,bf),a.current&&(typeof f=="number"?r.navigate(f):await r.navigate(f,{fromRouteId:i,...d}))},[r,i])}var qd={};function Pf(r,i,a){!i&&!qd[r]&&(qd[r]=!0,lt(!1,a))}var Gd={};function Xd(r,i){!r&&!Gd[i]&&(Gd[i]=!0,console.warn(i))}function lv(r){let i={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&lt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(i,{element:x.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&lt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(i,{hydrateFallbackElement:x.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&lt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(i,{errorElement:x.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),i}var sv=["HydrateFallback","hydrateFallbackElement"],av=class{constructor(){this.status="pending",this.promise=new Promise((r,i)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",r(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",i(a))}})}};function iv({router:r,flushSync:i,unstable_onError:a}){let[c,f]=x.useState(r.state),[d,h]=x.useState(),[p,g]=x.useState({isTransitioning:!1}),[v,y]=x.useState(),[w,j]=x.useState(),[b,P]=x.useState(),M=x.useRef(new Map),F=x.useCallback(Y=>{f(N=>(Y.errors&&a&&Object.entries(Y.errors).forEach(([$,X])=>{N.errors?.[$]!==X&&a(X)}),Y))},[a]),G=x.useCallback((Y,{deletedFetchers:N,flushSync:$,viewTransitionOpts:X})=>{Y.fetchers.forEach((T,B)=>{T.data!==void 0&&M.current.set(B,T.data)}),N.forEach(T=>M.current.delete(T)),Xd($===!1||i!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let U=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(Xd(X==null||U,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!X||!U){i&&$?i(()=>F(Y)):x.startTransition(()=>F(Y));return}if(i&&$){i(()=>{w&&(v&&v.resolve(),w.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:X.currentLocation,nextLocation:X.nextLocation})});let T=r.window.document.startViewTransition(()=>{i(()=>F(Y))});T.finished.finally(()=>{i(()=>{y(void 0),j(void 0),h(void 0),g({isTransitioning:!1})})}),i(()=>j(T));return}w?(v&&v.resolve(),w.skipTransition(),P({state:Y,currentLocation:X.currentLocation,nextLocation:X.nextLocation})):(h(Y),g({isTransitioning:!0,flushSync:!1,currentLocation:X.currentLocation,nextLocation:X.nextLocation}))},[r.window,i,w,v,F]);x.useLayoutEffect(()=>r.subscribe(G),[r,G]),x.useEffect(()=>{p.isTransitioning&&!p.flushSync&&y(new av)},[p]),x.useEffect(()=>{if(v&&d&&r.window){let Y=d,N=v.promise,$=r.window.document.startViewTransition(async()=>{x.startTransition(()=>F(Y)),await N});$.finished.finally(()=>{y(void 0),j(void 0),h(void 0),g({isTransitioning:!1})}),j($)}},[d,v,r.window,F]),x.useEffect(()=>{v&&d&&c.location.key===d.location.key&&v.resolve()},[v,w,c.location,d]),x.useEffect(()=>{!p.isTransitioning&&b&&(h(b.state),g({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),P(void 0))},[p.isTransitioning,b]);let D=x.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:Y=>r.navigate(Y),push:(Y,N,$)=>r.navigate(Y,{state:N,preventScrollReset:$?.preventScrollReset}),replace:(Y,N,$)=>r.navigate(Y,{replace:!0,state:N,preventScrollReset:$?.preventScrollReset})}),[r]),k=r.basename||"/",K=x.useMemo(()=>({router:r,navigator:D,static:!1,basename:k,unstable_onError:a}),[r,D,k,a]);return x.createElement(x.Fragment,null,x.createElement(Pr.Provider,{value:K},x.createElement(ts.Provider,{value:c},x.createElement(Cf.Provider,{value:M.current},x.createElement(Bo.Provider,{value:p},x.createElement(cv,{basename:k,location:c.location,navigationType:c.historyAction,navigator:D},x.createElement(ov,{routes:r.routes,future:r.future,state:c,unstable_onError:a})))))),null)}var ov=x.memo(uv);function uv({routes:r,future:i,state:a,unstable_onError:c}){return Yp(r,void 0,a,c,i)}function Rf(r){return Vp(r.context)}function cv({basename:r="/",children:i=null,location:a,navigationType:c="POP",navigator:f,static:d=!1}){Oe(!ns(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=x.useMemo(()=>({basename:h,navigator:f,static:d,future:{}}),[h,f,d]);typeof a=="string"&&(a=sr(a));let{pathname:g="/",search:v="",hash:y="",state:w=null,key:j="default"}=a,b=x.useMemo(()=>{let P=Qt(g,h);return P==null?null:{location:{pathname:P,search:v,hash:y,state:w,key:j},navigationType:c}},[h,g,v,y,w,j,c]);return lt(b!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(pn.Provider,{value:p},x.createElement(La.Provider,{children:i,value:b}))}var ka="get",Ca="application/x-www-form-urlencoded";function _a(r){return r!=null&&typeof r.tagName=="string"}function dv(r){return _a(r)&&r.tagName.toLowerCase()==="button"}function fv(r){return _a(r)&&r.tagName.toLowerCase()==="form"}function mv(r){return _a(r)&&r.tagName.toLowerCase()==="input"}function hv(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pv(r,i){return r.button===0&&(!i||i==="_self")&&!hv(r)}function Mo(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((i,a)=>{let c=r[a];return i.concat(Array.isArray(c)?c.map(f=>[a,f]):[[a,c]])},[]))}function vv(r,i){let a=Mo(r);return i&&i.forEach((c,f)=>{a.has(f)||i.getAll(f).forEach(d=>{a.append(f,d)})}),a}var Na=null;function gv(){if(Na===null)try{new FormData(document.createElement("form"),0),Na=!1}catch{Na=!0}return Na}var yv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ko(r){return r!=null&&!yv.has(r)?(lt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ca}"`),null):r}function xv(r,i){let a,c,f,d,h;if(fv(r)){let p=r.getAttribute("action");c=p?Qt(p,i):null,a=r.getAttribute("method")||ka,f=ko(r.getAttribute("enctype"))||Ca,d=new FormData(r)}else if(dv(r)||mv(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(c=g?Qt(g,i):null,a=r.getAttribute("formmethod")||p.getAttribute("method")||ka,f=ko(r.getAttribute("formenctype"))||ko(p.getAttribute("enctype"))||Ca,d=new FormData(p,r),!gv()){let{name:v,type:y,value:w}=r;if(y==="image"){let j=v?`${v}.`:"";d.append(`${j}x`,"0"),d.append(`${j}y`,"0")}else v&&d.append(v,w)}}else{if(_a(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=ka,c=null,f=Ca,h=r}return d&&f==="text/plain"&&(h=d,d=void 0),{action:c,method:a.toLowerCase(),encType:f,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yo(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function Nv(r,i,a){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return c.pathname==="/"?c.pathname=`_root.${a}`:i&&Qt(c.pathname,i)==="/"?c.pathname=`${i.replace(/\/$/,"")}/_root.${a}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${a}`,c}async function jv(r,i){if(r.id in i)return i[r.id];try{let a=await import(r.module);return i[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wv(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Sv(r,i,a){let c=await Promise.all(r.map(async f=>{let d=i.routes[f.route.id];if(d){let h=await jv(d,a);return h.links?h.links():[]}return[]}));return Ev(c.flat(1).filter(wv).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function Jd(r,i,a,c,f,d){let h=(g,v)=>a[v]?g.route.id!==a[v].route.id:!0,p=(g,v)=>a[v].pathname!==g.pathname||a[v].route.path?.endsWith("*")&&a[v].params["*"]!==g.params["*"];return d==="assets"?i.filter((g,v)=>h(g,v)||p(g,v)):d==="data"?i.filter((g,v)=>{let y=c.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(h(g,v)||p(g,v))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function kv(r,i,{includeHydrateFallback:a}={}){return Cv(r.map(c=>{let f=i.routes[c.route.id];if(!f)return[];let d=[f.module];return f.clientActionModule&&(d=d.concat(f.clientActionModule)),f.clientLoaderModule&&(d=d.concat(f.clientLoaderModule)),a&&f.hydrateFallbackModule&&(d=d.concat(f.hydrateFallbackModule)),f.imports&&(d=d.concat(f.imports)),d}).flat(1))}function Cv(r){return[...new Set(r)]}function bv(r){let i={},a=Object.keys(r).sort();for(let c of a)i[c]=r[c];return i}function Ev(r,i){let a=new Set;return new Set(i),r.reduce((c,f)=>{let d=JSON.stringify(bv(f));return a.has(d)||(a.add(d),c.push({key:d,link:f})),c},[])}function Lf(){let r=x.useContext(Pr);return Yo(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Pv(){let r=x.useContext(ts);return Yo(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qo=x.createContext(void 0);Qo.displayName="FrameworkContext";function Df(){let r=x.useContext(Qo);return Yo(r,"You must render this element inside a <HydratedRouter> element"),r}function Rv(r,i){let a=x.useContext(Qo),[c,f]=x.useState(!1),[d,h]=x.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:v,onMouseLeave:y,onTouchStart:w}=i,j=x.useRef(null);x.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let M=G=>{G.forEach(D=>{h(D.isIntersecting)})},F=new IntersectionObserver(M,{threshold:.5});return j.current&&F.observe(j.current),()=>{F.disconnect()}}},[r]),x.useEffect(()=>{if(c){let M=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(M)}}},[c]);let b=()=>{f(!0)},P=()=>{f(!1),h(!1)};return a?r!=="intent"?[d,j,{}]:[d,j,{onFocus:Kl(p,b),onBlur:Kl(g,P),onMouseEnter:Kl(v,b),onMouseLeave:Kl(y,P),onTouchStart:Kl(w,b)}]:[!1,j,{}]}function Kl(r,i){return a=>{r&&r(a),a.defaultPrevented||i(a)}}function Lv({page:r,...i}){let{router:a}=Lf(),c=x.useMemo(()=>tr(a.routes,r,a.basename),[a.routes,r,a.basename]);return c?x.createElement(_v,{page:r,matches:c,...i}):null}function Dv(r){let{manifest:i,routeModules:a}=Df(),[c,f]=x.useState([]);return x.useEffect(()=>{let d=!1;return Sv(r,i,a).then(h=>{d||f(h)}),()=>{d=!0}},[r,i,a]),c}function _v({page:r,matches:i,...a}){let c=ar(),{manifest:f,routeModules:d}=Df(),{basename:h}=Lf(),{loaderData:p,matches:g}=Pv(),v=x.useMemo(()=>Jd(r,i,g,f,c,"data"),[r,i,g,f,c]),y=x.useMemo(()=>Jd(r,i,g,f,c,"assets"),[r,i,g,f,c]),w=x.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let P=new Set,M=!1;if(i.forEach(G=>{let D=f.routes[G.route.id];!D||!D.hasLoader||(!v.some(k=>k.route.id===G.route.id)&&G.route.id in p&&d[G.route.id]?.shouldRevalidate||D.hasClientLoader?M=!0:P.add(G.route.id))}),P.size===0)return[];let F=Nv(r,h,"data");return M&&P.size>0&&F.searchParams.set("_routes",i.filter(G=>P.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[h,p,c,f,v,i,r,d]),j=x.useMemo(()=>kv(y,f),[y,f]),b=Dv(y);return x.createElement(x.Fragment,null,w.map(P=>x.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...a})),j.map(P=>x.createElement("link",{key:P,rel:"modulepreload",href:P,...a})),b.map(({key:P,link:M})=>x.createElement("link",{key:P,nonce:a.nonce,...M})))}function Mv(...r){return i=>{r.forEach(a=>{typeof a=="function"?a(i):a!=null&&(a.current=i)})}}var _f=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_f&&(window.__reactRouterVersion="7.9.4")}catch{}function Iv(r,i){return gp({basename:i?.basename,getContext:i?.getContext,future:i?.future,history:Oh({window:i?.window}),hydrationData:i?.hydrationData||Tv(),routes:r,mapRouteProperties:lv,hydrationRouteProperties:sv,dataStrategy:i?.dataStrategy,patchRoutesOnNavigation:i?.patchRoutesOnNavigation,window:i?.window}).initialize()}function Tv(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:Ov(r.errors)}),r}function Ov(r){if(!r)return null;let i=Object.entries(r),a={};for(let[c,f]of i)if(f&&f.__type==="RouteErrorResponse")a[c]=new Pa(f.status,f.statusText,f.data,f.internal===!0);else if(f&&f.__type==="Error"){if(f.__subType){let d=window[f.__subType];if(typeof d=="function")try{let h=new d(f.message);h.stack="",a[c]=h}catch{}}if(a[c]==null){let d=new Error(f.message);d.stack="",a[c]=d}}else a[c]=f;return a}var Mf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ln=x.forwardRef(function({onClick:i,discover:a="render",prefetch:c="none",relative:f,reloadDocument:d,replace:h,state:p,target:g,to:v,preventScrollReset:y,viewTransition:w,...j},b){let{basename:P}=x.useContext(pn),M=typeof v=="string"&&Mf.test(v),F,G=!1;if(typeof v=="string"&&M&&(F=v,_f))try{let U=new URL(window.location.href),T=v.startsWith("//")?new URL(U.protocol+v):new URL(v),B=Qt(T.pathname,P);T.origin===U.origin&&B!=null?v=B+T.search+T.hash:G=!0}catch{lt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=Up(v,{relative:f}),[k,K,Y]=Rv(c,j),N=$v(v,{replace:h,state:p,target:g,preventScrollReset:y,relative:f,viewTransition:w});function $(U){i&&i(U),U.defaultPrevented||N(U)}let X=x.createElement("a",{...j,...Y,href:F||D,onClick:G||d?i:$,ref:Mv(b,K),target:g,"data-discover":!M&&a==="render"?"true":void 0});return k&&!M?x.createElement(x.Fragment,null,X,x.createElement(Lv,{page:D})):X});Ln.displayName="Link";var rr=x.forwardRef(function({"aria-current":i="page",caseSensitive:a=!1,className:c="",end:f=!1,style:d,to:h,viewTransition:p,children:g,...v},y){let w=rs(h,{relative:v.relative}),j=ar(),b=x.useContext(ts),{navigator:P,basename:M}=x.useContext(pn),F=b!=null&&Vv(w)&&p===!0,G=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,D=j.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(D=D.toLowerCase(),k=k?k.toLowerCase():null,G=G.toLowerCase()),k&&M&&(k=Qt(k,M)||k);const K=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Y=D===G||!f&&D.startsWith(G)&&D.charAt(K)==="/",N=k!=null&&(k===G||!f&&k.startsWith(G)&&k.charAt(G.length)==="/"),$={isActive:Y,isPending:N,isTransitioning:F},X=Y?i:void 0,U;typeof c=="function"?U=c($):U=[c,Y?"active":null,N?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let T=typeof d=="function"?d($):d;return x.createElement(Ln,{...v,"aria-current":X,className:U,ref:y,style:T,to:h,viewTransition:p},typeof g=="function"?g($):g)});rr.displayName="NavLink";var zv=x.forwardRef(({discover:r="render",fetcherKey:i,navigate:a,reloadDocument:c,replace:f,state:d,method:h=ka,action:p,onSubmit:g,relative:v,preventScrollReset:y,viewTransition:w,...j},b)=>{let P=Bv(),M=Hv(p,{relative:v}),F=h.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&Mf.test(p),D=k=>{if(g&&g(k),k.defaultPrevented)return;k.preventDefault();let K=k.nativeEvent.submitter,Y=K?.getAttribute("formmethod")||h;P(K||k.currentTarget,{fetcherKey:i,method:Y,navigate:a,replace:f,state:d,relative:v,preventScrollReset:y,viewTransition:w})};return x.createElement("form",{ref:b,method:F,action:M,onSubmit:c?g:D,...j,"data-discover":!G&&r==="render"?"true":void 0})});zv.displayName="Form";function Fv(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function If(r){let i=x.useContext(Pr);return Oe(i,Fv(r)),i}function $v(r,{target:i,replace:a,state:c,preventScrollReset:f,relative:d,viewTransition:h}={}){let p=Da(),g=ar(),v=rs(r,{relative:d});return x.useCallback(y=>{if(pv(y,i)){y.preventDefault();let w=a!==void 0?a:lr(g)===lr(v);p(r,{replace:w,state:c,preventScrollReset:f,relative:d,viewTransition:h})}},[g,p,v,a,c,i,r,f,d,h])}function Tf(r){lt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=x.useRef(Mo(r)),a=x.useRef(!1),c=ar(),f=x.useMemo(()=>vv(c.search,a.current?null:i.current),[c.search]),d=Da(),h=x.useCallback((p,g)=>{const v=Mo(typeof p=="function"?p(new URLSearchParams(f)):p);a.current=!0,d("?"+v,g)},[d,f]);return[f,h]}var Av=0,Uv=()=>`__${String(++Av)}__`;function Bv(){let{router:r}=If("useSubmit"),{basename:i}=x.useContext(pn),a=tv();return x.useCallback(async(c,f={})=>{let{action:d,method:h,encType:p,formData:g,body:v}=xv(c,i);if(f.navigate===!1){let y=f.fetcherKey||Uv();await r.fetch(y,a,f.action||d,{preventScrollReset:f.preventScrollReset,formData:g,body:v,formMethod:f.method||h,formEncType:f.encType||p,flushSync:f.flushSync})}else await r.navigate(f.action||d,{preventScrollReset:f.preventScrollReset,formData:g,body:v,formMethod:f.method||h,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:a,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,i,a])}function Hv(r,{relative:i}={}){let{basename:a}=x.useContext(pn),c=x.useContext(an);Oe(c,"useFormAction must be used inside a RouteContext");let[f]=c.matches.slice(-1),d={...rs(r||".",{relative:i})},h=ar();if(r==null){d.search=h.search;let p=new URLSearchParams(d.search),g=p.getAll("index");if(g.some(y=>y==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let y=p.toString();d.search=y?`?${y}`:""}}return(!r||r===".")&&f.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(d.pathname=d.pathname==="/"?a:hn([a,d.pathname])),lr(d)}function Vv(r,{relative:i}={}){let a=x.useContext(Bo);Oe(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=If("useViewTransitionState"),f=rs(r,{relative:i});if(!a.isTransitioning)return!1;let d=Qt(a.currentLocation.pathname,c)||a.currentLocation.pathname,h=Qt(a.nextLocation.pathname,c)||a.nextLocation.pathname;return Ea(f.pathname,h)!=null||Ea(f.pathname,d)!=null}var Of=uf();function Wv(r){return x.createElement(iv,{flushSync:Of.flushSync,...r})}const Yv={basename:"/chalin-shop-beginner/".replace(/\/$/,""),future:{v7_startTransition:!0}},Zd=r=>{let i;const a=new Set,c=(v,y)=>{const w=typeof v=="function"?v(i):v;if(!Object.is(w,i)){const j=i;i=y??(typeof w!="object"||w===null)?w:Object.assign({},i,w),a.forEach(b=>b(i,j))}},f=()=>i,p={setState:c,getState:f,getInitialState:()=>g,subscribe:v=>(a.add(v),()=>a.delete(v))},g=i=r(c,f,p);return p},Qv=(r=>r?Zd(r):Zd),Kv=r=>r;function qv(r,i=Kv){const a=va.useSyncExternalStore(r.subscribe,va.useCallback(()=>i(r.getState()),[r,i]),va.useCallback(()=>i(r.getInitialState()),[r,i]));return va.useDebugValue(a),a}const ef=r=>{const i=Qv(r),a=c=>qv(i,c);return Object.assign(a,i),a},Ko=(r=>r?ef(r):ef),rl=["ADMIN","STAFF","CONSIGNMENT","QUOTE_VIEWER"];function Gv(){try{const i=(new URL(window.location.href).searchParams.get("role")||"").toUpperCase(),a=(localStorage.getItem("role")||"").toUpperCase(),c=i||a||"ADMIN";return rl.includes(c)?c:"ADMIN"}catch{return"ADMIN"}}const ll=Ko((r,i)=>({user:{id:1,name:"Demo User",role:Gv(),branchId:1},setRole:a=>{const c=(a||"").toUpperCase();rl.includes(c)&&(localStorage.setItem("role",c),r(f=>({user:{...f.user,role:c}})))},setUser:a=>r({user:a})})),tf={ADMIN:[{section:"ทั่วไป",items:[{label:"Dashboard",to:"/",icon:"Dashboard"}]},{section:"Products",items:[{label:"Products",to:"/products",icon:"Package"},{label:"Consignment Categories",to:"/consignment/categories",icon:"Tags"}]},{section:"Shops",items:[{label:"Branches",to:"/branches",icon:"Building"},{label:"Consignment Shops",to:"/consignment-shops",icon:"Store"},{label:"Inventory",to:"/inventory",icon:"Boxes"},{label:"Count Inventory",to:"/inventory/count",icon:"Boxes"}]},{section:"Transactions",items:[{label:"Purchases",to:"/purchases",icon:"Cart"},{label:"Delivery Branches",to:"/branches/delivery",icon:"Swap"},{label:"Delivery Consignments",to:"/consignment/delivery",icon:"Swap"},{label:"POS Branches",to:"/branches/sales",icon:"Receipt"},{label:"POS Consignments",to:"/consignment/sales",icon:"Receipt"},{label:"Quotes",to:"/quotes",icon:"FileText"}]},{section:"Reports",items:[{label:"Deliveries",to:"/docs/deliveries",icon:"FileText"},{label:"Consignment Sales",to:"/docs/consales",icon:"FileText"},{label:"Invoices",to:"/docs/invoices",icon:"FileText"},{label:"Receipts",to:"/docs/receipts",icon:"FileText"},{label:"Quotes",to:"/docs/quotes",icon:"FileText"}]},{section:"Settings",items:[{label:"Main Settings",to:"/settings",icon:"Settings"},{label:"Template Settings",to:"/settings/templates",icon:"Settings"},{label:"Users",to:"/users",icon:"Users"},{label:"Profile",to:"/profile",icon:"Users"}]}],STAFF:[{section:"ทั่วไป",items:[{label:"Dashboard",to:"/",icon:"Dashboard"}]},{section:"Shops",items:[{label:"Inventory",to:"/inventory",icon:"Boxes"},{label:"Count Inventory",to:"/inventory/count",icon:"Boxes"}]},{section:"Transactions",items:[{label:"POS Branches",to:"/branches/sales",icon:"Receipt"}]},{section:"Reports",items:[{label:"Branch Sales",to:"/docs/branches-sales",icon:"FileText"}]},{section:"Settings",items:[{label:"Profile",to:"/profile",icon:"Users"}]}],CONSIGNMENT:[{section:"ทั่วไป",items:[{label:"Dashboard",to:"/",icon:"Dashboard"}]},{section:"Transactions",items:[{label:"Delivery",to:"/consignment/delivery",icon:"Swap"},{label:"Sales (POS)",to:"/consignment/sales",icon:"Receipt"}]},{section:"Reports",items:[{label:"Consignment Sales",to:"/docs/consales",icon:"FileText"},{label:"Deliveries",to:"/docs/deliveries",icon:"FileText"}]},{section:"Settings",items:[{label:"Profile",to:"/profile",icon:"Users"}]}],QUOTE_VIEWER:[{section:"ทั่วไป",items:[{label:"Dashboard",to:"/",icon:"Dashboard"}]},{section:"Products",items:[{label:"Products",to:"/products",icon:"Package"}]},{section:"Reports",items:[{label:"Quotes",to:"/docs/quotes",icon:"FileText"}]},{section:"Settings",items:[{label:"Profile",to:"/profile",icon:"Users"}]}]};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jv=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,a,c)=>c?c.toUpperCase():a.toLowerCase()),nf=r=>{const i=Jv(r);return i.charAt(0).toUpperCase()+i.slice(1)},zf=(...r)=>r.filter((i,a,c)=>!!i&&i.trim()!==""&&c.indexOf(i)===a).join(" ").trim(),Zv=r=>{for(const i in r)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:f="",children:d,iconNode:h,...p},g)=>x.createElement("svg",{ref:g,...eg,width:i,height:i,stroke:r,strokeWidth:c?Number(a)*24/Number(i):a,className:zf("lucide",f),...!d&&!Zv(p)&&{"aria-hidden":"true"},...p},[...h.map(([v,y])=>x.createElement(v,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(r,i)=>{const a=x.forwardRef(({className:c,...f},d)=>x.createElement(tg,{ref:d,iconNode:i,className:zf(`lucide-${Xv(nf(r))}`,`lucide-${r}`,c),...f}));return a.displayName=nf(r),a};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],rg=Ge("arrow-left-right",ng);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sg=Ge("arrow-left",lg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ig=Ge("ban",ag);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],ug=Ge("boxes",og);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ff=Ge("building-2",cg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],qo=Ge("clipboard-check",dg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$f=Ge("eye",fg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hg=Ge("file-text",mg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vg=Ge("layout-dashboard",pg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],yg=Ge("package-check",gg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ng=Ge("package",xg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ma=Ge("pencil",jg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ls=Ge("plus",wg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],kg=Ge("receipt",Sg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],bg=Ge("scan",Cg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Go=Ge("search",Eg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Rg=Ge("settings-2",Pg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dg=Ge("settings",Lg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Mg=Ge("shopping-cart",_g);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],es=Ge("store",Ig);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],Og=Ge("tags",Tg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xo=Ge("trash-2",zg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$g=Ge("users",Fg);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ug=Ge("x",Ag),rf={Dashboard:vg,Package:Ng,Tags:Og,Building:Ff,Store:es,Boxes:ug,Cart:Mg,Swap:rg,Receipt:kg,FileText:hg,Settings:Dg,Users:$g};function Bg({to:r,label:i,icon:a}){const c=a&&rf[a]?rf[a]:null;return l.jsxs(rr,{to:r,className:({isActive:f})=>`flex items-center gap-2 rounded-xl px-3 py-2 text-white/95 ${f?"bg-white/25 shadow-sm":"hover:bg-white/15"}`,children:[c&&l.jsx(c,{size:18}),l.jsx("span",{className:"hidden lg:inline text-sm font-medium",children:i})]})}function Hg(){const{user:r}=ll(),i=tf[r?.role]||tf.ADMIN;return l.jsxs("aside",{className:"hidden md:flex min-h-screen sticky top-0 w-[72px] lg:w-64 bg-gradient-to-b from-[#9db9ff] to-[#6f86ff] border-r border-white/20 px-3 lg:px-4 py-4 flex-col gap-3 z-40",children:[l.jsx("div",{className:"hidden lg:block text-white/95 font-semibold text-lg mb-2 px-1",children:"Chalin Shop"}),l.jsx("nav",{className:"space-y-3",children:i.map((a,c)=>l.jsxs("div",{children:[a.section&&l.jsx("div",{className:"hidden lg:block uppercase text-[11px] tracking-wide text-white/80 mb-2",children:a.section}),l.jsx("div",{className:"grid gap-1",children:a.items.map(f=>l.jsx(Bg,{to:f.to,label:f.label,icon:f.icon},f.to))})]},c))}),l.jsx("div",{className:"hidden lg:block mt-6 text-[11px] text-white/70 px-1",children:"v0.1 • glass-blue"})]})}const Vg=(r="admin")=>{const i=r==="admin",a=[{id:"products",label:"Products",items:[{to:"/products",label:"Products"},{to:"/consignment/categories",label:"Consignment Categories"}]},{id:"shops",label:"Shops",items:[{to:"/branches",label:"Branches"},{to:"/consignment-shops",label:"Consignment Shops"},{to:"/inventory",label:"Inventory"},{to:"/inventory/count",label:"Count Inventory"}]},{id:"transactions",label:"Transactions",items:[{to:"/purchases",label:"Purchases"},{to:"/branch/delivery",label:"Branch Delivery"},{to:"/branch/sales",label:"Branch Sales (POS)"},{to:"/consignment/delivery",label:"Consignment Delivery"},{to:"/consignment/sales",label:"Consignment Sales (POS)"},{to:"/quotes",label:"Quotes"}]},{id:"reports",label:"Reports",items:[{to:"/docs/deliveries",label:"Deliveries"},{to:"/docs/consales",label:"Consignment Sales"},{to:"/docs/invoices",label:"Invoices"},{to:"/docs/receipts",label:"Receipts"},{to:"/docs/quotes",label:"Quotes"}]},{id:"settings",label:"Settings",items:[{to:"/settings",label:"Main Settings"},{to:"/settings/templates",label:"Template Settings"},{to:"/users",label:"Users"},{to:"/profile",label:"Profile"}]}];return i?a:r==="staff"?[{id:"shops",label:"Shops",items:[{to:"/inventory",label:"Inventory"},{to:"/inventory/count",label:"Count Inventory"}]},{id:"transactions",label:"Transactions",items:[{to:"/branch/sales",label:"Branch Sales (POS)"}]},{id:"reports",label:"Reports",items:[{to:"/docs/branch-sales",label:"Branch Sales"}]},{id:"settings",label:"Settings",items:[{to:"/profile",label:"Profile"}]}]:r==="consignment"?[{id:"transactions",label:"Transactions",items:[{to:"/consignment/delivery",label:"Consignment Delivery"},{to:"/consignment/sales",label:"Consignment Sales (POS)"}]},{id:"reports",label:"Reports",items:[{to:"/docs/consales",label:"Consignment Sales"},{to:"/docs/deliveries",label:"Deliveries"}]},{id:"settings",label:"Settings",items:[{to:"/profile",label:"Profile"}]}]:r==="quote-viewer"?[{id:"products",label:"Products",items:[{to:"/products",label:"Products"}]},{id:"reports",label:"Reports",items:[{to:"/docs/quotes",label:"Quotes"}]},{id:"settings",label:"Settings",items:[{to:"/profile",label:"Profile"}]}]:a};function Wg({label:r,items:i,defaultOpen:a=!1,onItemClick:c}){const[f,d]=x.useState(a);return l.jsxs("div",{className:"mb-2",children:[l.jsxs("button",{className:"w-full flex items-center justify-between py-3 px-1 font-medium",onClick:()=>d(h=>!h),children:[l.jsx("span",{children:r}),l.jsx("span",{className:`transition ${f?"rotate-180":""}`,children:"⌄"})]}),f&&l.jsx("div",{className:"grid pb-2",children:i.map(h=>l.jsx(rr,{to:h.to,onClick:c,className:({isActive:p})=>`px-3 py-2 rounded-xl
                 hover:bg-black/5 dark:hover:bg-white/10
                 ${p?"bg-black/10 dark:bg-white/20 font-semibold":""}`,children:h.label},h.to))})]})}function Yg({open:r,onClose:i,role:a="ADMIN"}){const[c,f]=x.useState(!1);if(x.useEffect(()=>f(!0),[]),!r||!c)return null;const d=Vg(a?.toLowerCase?.()||a);return Of.createPortal(l.jsxs("div",{className:"md:hidden fixed inset-0 z-[9999]",children:[l.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:i}),l.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-[86%] max-w-[360px] p-3",children:l.jsxs("div",{className:`h-full overflow-y-auto rounded-r-2xl shadow-2xl
                        bg-white/85 dark:bg-slate-900/80 backdrop-blur-md
                        text-gray-900 dark:text-slate-100 p-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ln,{to:"/",onClick:i,className:"font-semibold",children:"Chalin Shop"}),l.jsx("button",{className:"btn btn-ghost",onClick:i,"aria-label":"close",children:"✕"})]}),l.jsx("div",{className:"h-px bg-black/10 dark:bg-white/10 mb-3"}),l.jsx("div",{className:"grid",children:d.map((h,p)=>l.jsx(Wg,{label:h.label,items:h.items,defaultOpen:p===0,onItemClick:i},h.id||p))})]})})]}),document.body)}function Qg(){const{user:r,setRole:i}=ll(),[a,c]=x.useState(!1);return l.jsxs("header",{className:"navbar border-b border-white/10",children:[l.jsxs("div",{className:"container-app h-14 flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"md:hidden flex items-center justify-between w-full",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"btn btn-ghost px-3 py-2",onClick:()=>c(!0),"aria-label":"open menu",children:"☰"}),l.jsx(Ln,{to:"/",className:"font-semibold tracking-wide",children:"Chalin Shop"})]}),l.jsxs("div",{className:"text-xs px-2 py-1 rounded-lg bg-white/10",children:[r?.name||"User"," • ",r?.role||"ADMIN"]})]}),l.jsxs("div",{className:"hidden md:flex items-center justify-between gap-3 w-full",children:[l.jsx("div",{className:"flex-1 max-w-xl",children:l.jsx("input",{placeholder:"Search…",className:"w-full glass rounded-2xl px-4 py-2 outline-none"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-muted text-sm hidden md:inline",children:"Role"}),l.jsx("select",{className:"rounded-xl border border-border bg-surface px-2 py-1 text-sm",value:r.role,onChange:f=>i(f.target.value),children:rl.map(f=>l.jsx("option",{children:f},f))})]})]})]}),l.jsx(Yg,{open:a,onClose:()=>c(!1),role:r.role})]})}function Kg(){return l.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden grid md:grid-cols-[72px_1fr] lg:grid-cols-[16rem_1fr]",children:[l.jsx(Hg,{}),l.jsxs("div",{className:"min-w-0",children:[l.jsx(Qg,{}),l.jsx("main",{className:"py-6",children:l.jsx("div",{className:"mx-auto w-full max-w-[1200px] px-3 md:px-4 lg:px-6",children:l.jsx(Rf,{})})})]})]})}var ba={exports:{}},qg=ba.exports,lf;function Gg(){return lf||(lf=1,(function(r,i){(function(a,c){r.exports=c()})(qg,(function(){var a=1e3,c=6e4,f=36e5,d="millisecond",h="second",p="minute",g="hour",v="day",y="week",w="month",j="quarter",b="year",P="date",M="Invalid Date",F=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,G=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(le){var Z=["th","st","nd","rd"],Q=le%100;return"["+le+(Z[(Q-20)%10]||Z[Q]||Z[0])+"]"}},k=function(le,Z,Q){var ne=String(le);return!ne||ne.length>=Z?le:""+Array(Z+1-ne.length).join(Q)+le},K={s:k,z:function(le){var Z=-le.utcOffset(),Q=Math.abs(Z),ne=Math.floor(Q/60),O=Q%60;return(Z<=0?"+":"-")+k(ne,2,"0")+":"+k(O,2,"0")},m:function le(Z,Q){if(Z.date()<Q.date())return-le(Q,Z);var ne=12*(Q.year()-Z.year())+(Q.month()-Z.month()),O=Z.clone().add(ne,w),J=Q-O<0,W=Z.clone().add(ne+(J?-1:1),w);return+(-(ne+(Q-O)/(J?O-W:W-O))||0)},a:function(le){return le<0?Math.ceil(le)||0:Math.floor(le)},p:function(le){return{M:w,y:b,w:y,d:v,D:P,h:g,m:p,s:h,ms:d,Q:j}[le]||String(le||"").toLowerCase().replace(/s$/,"")},u:function(le){return le===void 0}},Y="en",N={};N[Y]=D;var $="$isDayjsObject",X=function(le){return le instanceof ce||!(!le||!le[$])},U=function le(Z,Q,ne){var O;if(!Z)return Y;if(typeof Z=="string"){var J=Z.toLowerCase();N[J]&&(O=J),Q&&(N[J]=Q,O=J);var W=Z.split("-");if(!O&&W.length>1)return le(W[0])}else{var C=Z.name;N[C]=Z,O=C}return!ne&&O&&(Y=O),O||!ne&&Y},T=function(le,Z){if(X(le))return le.clone();var Q=typeof Z=="object"?Z:{};return Q.date=le,Q.args=arguments,new ce(Q)},B=K;B.l=U,B.i=X,B.w=function(le,Z){return T(le,{locale:Z.$L,utc:Z.$u,x:Z.$x,$offset:Z.$offset})};var ce=(function(){function le(Q){this.$L=U(Q.locale,null,!0),this.parse(Q),this.$x=this.$x||Q.x||{},this[$]=!0}var Z=le.prototype;return Z.parse=function(Q){this.$d=(function(ne){var O=ne.date,J=ne.utc;if(O===null)return new Date(NaN);if(B.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var W=O.match(F);if(W){var C=W[2]-1||0,L=(W[7]||"0").substring(0,3);return J?new Date(Date.UTC(W[1],C,W[3]||1,W[4]||0,W[5]||0,W[6]||0,L)):new Date(W[1],C,W[3]||1,W[4]||0,W[5]||0,W[6]||0,L)}}return new Date(O)})(Q),this.init()},Z.init=function(){var Q=this.$d;this.$y=Q.getFullYear(),this.$M=Q.getMonth(),this.$D=Q.getDate(),this.$W=Q.getDay(),this.$H=Q.getHours(),this.$m=Q.getMinutes(),this.$s=Q.getSeconds(),this.$ms=Q.getMilliseconds()},Z.$utils=function(){return B},Z.isValid=function(){return this.$d.toString()!==M},Z.isSame=function(Q,ne){var O=T(Q);return this.startOf(ne)<=O&&O<=this.endOf(ne)},Z.isAfter=function(Q,ne){return T(Q)<this.startOf(ne)},Z.isBefore=function(Q,ne){return this.endOf(ne)<T(Q)},Z.$g=function(Q,ne,O){return B.u(Q)?this[ne]:this.set(O,Q)},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this.$d.getTime()},Z.startOf=function(Q,ne){var O=this,J=!!B.u(ne)||ne,W=B.p(Q),C=function(q,ue){var Pe=B.w(O.$u?Date.UTC(O.$y,ue,q):new Date(O.$y,ue,q),O);return J?Pe:Pe.endOf(v)},L=function(q,ue){return B.w(O.toDate()[q].apply(O.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(ue)),O)},ae=this.$W,ie=this.$M,he=this.$D,Ce="set"+(this.$u?"UTC":"");switch(W){case b:return J?C(1,0):C(31,11);case w:return J?C(1,ie):C(0,ie+1);case y:var _e=this.$locale().weekStart||0,Ie=(ae<_e?ae+7:ae)-_e;return C(J?he-Ie:he+(6-Ie),ie);case v:case P:return L(Ce+"Hours",0);case g:return L(Ce+"Minutes",1);case p:return L(Ce+"Seconds",2);case h:return L(Ce+"Milliseconds",3);default:return this.clone()}},Z.endOf=function(Q){return this.startOf(Q,!1)},Z.$set=function(Q,ne){var O,J=B.p(Q),W="set"+(this.$u?"UTC":""),C=(O={},O[v]=W+"Date",O[P]=W+"Date",O[w]=W+"Month",O[b]=W+"FullYear",O[g]=W+"Hours",O[p]=W+"Minutes",O[h]=W+"Seconds",O[d]=W+"Milliseconds",O)[J],L=J===v?this.$D+(ne-this.$W):ne;if(J===w||J===b){var ae=this.clone().set(P,1);ae.$d[C](L),ae.init(),this.$d=ae.set(P,Math.min(this.$D,ae.daysInMonth())).$d}else C&&this.$d[C](L);return this.init(),this},Z.set=function(Q,ne){return this.clone().$set(Q,ne)},Z.get=function(Q){return this[B.p(Q)]()},Z.add=function(Q,ne){var O,J=this;Q=Number(Q);var W=B.p(ne),C=function(ie){var he=T(J);return B.w(he.date(he.date()+Math.round(ie*Q)),J)};if(W===w)return this.set(w,this.$M+Q);if(W===b)return this.set(b,this.$y+Q);if(W===v)return C(1);if(W===y)return C(7);var L=(O={},O[p]=c,O[g]=f,O[h]=a,O)[W]||1,ae=this.$d.getTime()+Q*L;return B.w(ae,this)},Z.subtract=function(Q,ne){return this.add(-1*Q,ne)},Z.format=function(Q){var ne=this,O=this.$locale();if(!this.isValid())return O.invalidDate||M;var J=Q||"YYYY-MM-DDTHH:mm:ssZ",W=B.z(this),C=this.$H,L=this.$m,ae=this.$M,ie=O.weekdays,he=O.months,Ce=O.meridiem,_e=function(ue,Pe,Fe,mt){return ue&&(ue[Pe]||ue(ne,J))||Fe[Pe].slice(0,mt)},Ie=function(ue){return B.s(C%12||12,ue,"0")},q=Ce||function(ue,Pe,Fe){var mt=ue<12?"AM":"PM";return Fe?mt.toLowerCase():mt};return J.replace(G,(function(ue,Pe){return Pe||(function(Fe){switch(Fe){case"YY":return String(ne.$y).slice(-2);case"YYYY":return B.s(ne.$y,4,"0");case"M":return ae+1;case"MM":return B.s(ae+1,2,"0");case"MMM":return _e(O.monthsShort,ae,he,3);case"MMMM":return _e(he,ae);case"D":return ne.$D;case"DD":return B.s(ne.$D,2,"0");case"d":return String(ne.$W);case"dd":return _e(O.weekdaysMin,ne.$W,ie,2);case"ddd":return _e(O.weekdaysShort,ne.$W,ie,3);case"dddd":return ie[ne.$W];case"H":return String(C);case"HH":return B.s(C,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return q(C,L,!0);case"A":return q(C,L,!1);case"m":return String(L);case"mm":return B.s(L,2,"0");case"s":return String(ne.$s);case"ss":return B.s(ne.$s,2,"0");case"SSS":return B.s(ne.$ms,3,"0");case"Z":return W}return null})(ue)||W.replace(":","")}))},Z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Z.diff=function(Q,ne,O){var J,W=this,C=B.p(ne),L=T(Q),ae=(L.utcOffset()-this.utcOffset())*c,ie=this-L,he=function(){return B.m(W,L)};switch(C){case b:J=he()/12;break;case w:J=he();break;case j:J=he()/3;break;case y:J=(ie-ae)/6048e5;break;case v:J=(ie-ae)/864e5;break;case g:J=ie/f;break;case p:J=ie/c;break;case h:J=ie/a;break;default:J=ie}return O?J:B.a(J)},Z.daysInMonth=function(){return this.endOf(w).$D},Z.$locale=function(){return N[this.$L]},Z.locale=function(Q,ne){if(!Q)return this.$L;var O=this.clone(),J=U(Q,ne,!0);return J&&(O.$L=J),O},Z.clone=function(){return B.w(this.$d,this)},Z.toDate=function(){return new Date(this.valueOf())},Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toISOString=function(){return this.$d.toISOString()},Z.toString=function(){return this.$d.toUTCString()},le})(),me=ce.prototype;return T.prototype=me,[["$ms",d],["$s",h],["$m",p],["$H",g],["$W",v],["$M",w],["$y",b],["$D",P]].forEach((function(le){me[le[1]]=function(Z){return this.$g(Z,le[0],le[1])}})),T.extend=function(le,Z){return le.$i||(le(Z,ce,T),le.$i=!0),T},T.locale=U,T.isDayjs=X,T.unix=function(le){return T(1e3*le)},T.en=N[Y],T.Ls=N,T.p={},T}))})(ba)),ba.exports}var Xg=Gg();const Kt=To(Xg);function Jg(r,i){let a;try{a=r()}catch{return}return{getItem:f=>{var d;const h=g=>g===null?null:JSON.parse(g,void 0),p=(d=a.getItem(f))!=null?d:null;return p instanceof Promise?p.then(h):h(p)},setItem:(f,d)=>a.setItem(f,JSON.stringify(d,void 0)),removeItem:f=>a.removeItem(f)}}const Io=r=>i=>{try{const a=r(i);return a instanceof Promise?a:{then(c){return Io(c)(a)},catch(c){return this}}}catch(a){return{then(c){return this},catch(c){return Io(c)(a)}}}},Zg=(r,i)=>(a,c,f)=>{let d={storage:Jg(()=>localStorage),partialize:M=>M,version:0,merge:(M,F)=>({...F,...M}),...i},h=!1;const p=new Set,g=new Set;let v=d.storage;if(!v)return r((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),a(...M)},c,f);const y=()=>{const M=d.partialize({...c()});return v.setItem(d.name,{state:M,version:d.version})},w=f.setState;f.setState=(M,F)=>(w(M,F),y());const j=r((...M)=>(a(...M),y()),c,f);f.getInitialState=()=>j;let b;const P=()=>{var M,F;if(!v)return;h=!1,p.forEach(D=>{var k;return D((k=c())!=null?k:j)});const G=((F=d.onRehydrateStorage)==null?void 0:F.call(d,(M=c())!=null?M:j))||void 0;return Io(v.getItem.bind(v))(d.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==d.version){if(d.migrate){const k=d.migrate(D.state,D.version);return k instanceof Promise?k.then(K=>[!0,K]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var k;const[K,Y]=D;if(b=d.merge(Y,(k=c())!=null?k:j),a(b,!0),K)return y()}).then(()=>{G?.(b,void 0),b=c(),h=!0,g.forEach(D=>D(b))}).catch(D=>{G?.(void 0,D)})};return f.persist={setOptions:M=>{d={...d,...M},M.storage&&(v=M.storage)},clearStorage:()=>{v?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>P(),hasHydrated:()=>h,onHydrate:M=>(p.add(M),()=>{p.delete(M)}),onFinishHydration:M=>(g.add(M),()=>{g.delete(M)})},d.skipHydration||P(),b||j},ey=Zg;let ty=0;const Co=()=>Date.now()+ty++%1e3,bo=r=>`${r}-${Kt().format("YYMMDD")}-${Math.floor(Math.random()*900+100)}`,Pn=r=>JSON.parse(JSON.stringify(r)),sf=(r,i,a={})=>(r[i]||(r[i]=Pn(a)),r[i]),ja=(r,i,a)=>{r[i]=Math.max(0,Number(a||0))},af=()=>({products:[],branches:[],consignmentShops:[],consignmentCategories:[],productConsignmentMap:[],consignmentCategoryOverrides:[],templates:{delivery:[],invoice:[],receipt:[]},consignmentDocRefs:[],centralStock:{},branchStock:{},consignmentStock:{},suppliers:[],purchases:[],branchDeliveries:[],branchSales:[],consignmentDeliveries:[],consignmentSales:[],prospects:[],quotes:[],currentUser:{id:1,name:"Admin",role:"admin",branchId:null}}),Ze=Ko(ey((r,i)=>({...af(),loadDataset:a=>{const c=(f,d)=>a&&a[f]!==void 0?a[f]:d;r({products:c("products",[]),branches:c("branches",[]),consignmentShops:c("consignmentShops",[]),consignmentCategories:c("consignmentCategories",[]),productConsignmentMap:c("productConsignmentMap",[]),consignmentCategoryOverrides:c("consignmentCategoryOverrides",[]),templates:c("templates",{delivery:[],invoice:[],receipt:[]}),consignmentDocRefs:c("consignmentDocRefs",[]),centralStock:c("centralStock",{}),branchStock:c("branchStock",{}),consignmentStock:c("consignmentStock",{}),suppliers:c("suppliers",[]),purchases:c("purchases",[]),branchDeliveries:c("branchDeliveries",[]),branchSales:c("branchSales",[]),consignmentDeliveries:c("consignmentDeliveries",[]),consignmentSales:c("consignmentSales",[]),prospects:c("prospects",[]),quotes:c("quotes",[]),currentUser:c("currentUser",{id:1,name:"Admin",role:"admin",branchId:null})})},resetAll:()=>r(af()),addBranchDelivery:({date:a,branchId:c,lines:f,note:d})=>{const h=i(),p=Pn(h.centralStock),g=Pn(h.branchStock),v=sf(g,c,{});for(const w of f){const j=Number(w.qty)||0,b=Number(p[w.productId]||0);if(b<j)throw new Error("สต็อกคลังกลางไม่พอ");ja(p,w.productId,b-j),ja(v,w.productId,Number(v[w.productId]||0)+j)}const y={id:Co(),docNo:bo("BD"),type:"BRANCH_DELIVERY",date:a,branchId:c,lines:Pn(f),note:d||""};return r({centralStock:p,branchStock:g,branchDeliveries:[y,...h.branchDeliveries]}),y},addConsignmentDelivery:({date:a,shopId:c,lines:f,totals:d})=>{const h=i(),p=Pn(h.centralStock),g=Pn(h.consignmentStock),v=sf(g,c,{});for(const w of f){const j=Number(w.qty)||0,b=Number(p[w.productId]||0);if(b<j)throw new Error("สต็อกคลังกลางไม่พอ");ja(p,w.productId,b-j),ja(v,w.productId,Number(v[w.productId]||0)+j)}const y={id:Co(),docNo:bo("CD"),type:"CONSIGNMENT_DELIVERY",date:a,shopId:c,lines:Pn(f),totals:Pn(d||{net:0,com:0})};return r({centralStock:p,consignmentStock:g,consignmentDeliveries:[y,...h.consignmentDeliveries]}),y},addPurchase:({date:a,supplierId:c,lines:f})=>{const d=(f||[]).reduce((p,g)=>p+(Number(g.qty)||0)*(Number(g.price)||0),0),h={id:Co(),docNo:bo("PO"),docDate:a,supplierId:c,lines:Pn(f||[]),total:d,status:"ORDERED"};return r(p=>({purchases:[h,...p.purchases]})),h}}),{name:"csb-store",partialize:r=>r}));function Le({className:r="",children:i}){return l.jsx("div",{className:`card p-5 ${r}`,children:i})}const ny=()=>Kt().startOf("day"),ry=()=>Kt().startOf("week"),ly=()=>Kt().startOf("month");function Gl(r){return Array.isArray(r)?r:[]}function Eo(r,i=()=>!0){return Gl(r).filter(i).reduce((a,c)=>{const f=Number(c?.totals?.net??0),d=Number(c?.amount??0);return a+(f>0?f:d)},0)}function sy(){const{branchSales:r=[],consignmentSales:i=[],branchDeliveries:a=[],consignmentDeliveries:c=[],centralStock:f={},branchStock:d={},consignmentStock:h={}}=Ze(),p=M=>M?.date?Kt(M.date):null,g=ny(),v=ry(),y=ly(),w=M=>{const F=p(M);return F?F.isSame(g,"day"):!1},j=M=>{const F=p(M);return F?F.isAfter(v)||F.isSame(v,"day"):!1},b=M=>{const F=p(M);return F?F.isSame(y,"month"):!1},P=x.useMemo(()=>{const M=[...Gl(r),...Gl(i)],F=Eo(M,w),G=Eo(M,j),D=Eo(M,b),k=Gl(a).filter(w).length+Gl(c).filter(w).length,K=X=>Object.values(X||{}).reduce((U,T)=>typeof T=="object"&&T?U+Object.values(T).reduce((B,ce)=>B+Number(ce||0),0):U,0),Y=Object.values(f||{}).reduce((X,U)=>X+Number(U||0),0),N=K(d),$=K(h);return{salesToday:F,salesWeek:G,salesMonth:D,deliveriesToday:k,stockAll:Y+N+$,stockCentral:Y,stockBranch:N,stockConsign:$}},[r,i,a,c,f,d,h]);return l.jsxs("div",{className:"grid gap-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[l.jsxs(Le,{className:"p-4",children:[l.jsx("div",{className:"text-sm opacity-70",children:"ยอดขายวันนี้"}),l.jsx("div",{className:"text-2xl font-semibold",children:P.salesToday.toLocaleString(void 0,{minimumFractionDigits:2})})]}),l.jsxs(Le,{className:"p-4",children:[l.jsx("div",{className:"text-sm opacity-70",children:"ยอดขายสัปดาห์นี้"}),l.jsx("div",{className:"text-2xl font-semibold",children:P.salesWeek.toLocaleString(void 0,{minimumFractionDigits:2})})]}),l.jsxs(Le,{className:"p-4",children:[l.jsx("div",{className:"text-sm opacity-70",children:"ยอดขายเดือนนี้"}),l.jsx("div",{className:"text-2xl font-semibold",children:P.salesMonth.toLocaleString(void 0,{minimumFractionDigits:2})})]}),l.jsxs(Le,{className:"p-4",children:[l.jsx("div",{className:"text-sm opacity-70",children:"ใบส่งของ (วันนี้)"}),l.jsx("div",{className:"text-2xl font-semibold",children:P.deliveriesToday})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(Le,{className:"p-4",children:[l.jsx("div",{className:"text-sm opacity-70",children:"สต็อกรวม"}),l.jsx("div",{className:"text-2xl font-semibold",children:P.stockAll})]}),l.jsxs(Le,{className:"p-4",children:[l.jsx("div",{className:"text-sm opacity-70",children:"คลังกลาง"}),l.jsx("div",{className:"text-2xl font-semibold",children:P.stockCentral})]}),l.jsxs(Le,{className:"p-4",children:[l.jsx("div",{className:"text-sm opacity-70",children:"สต็อกฝากขาย"}),l.jsx("div",{className:"text-2xl font-semibold",children:P.stockConsign})]})]})]})}function wt({columns:r=[],data:i=[]}){return l.jsx("div",{className:"overflow-x-auto glass",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsx("tr",{className:"text-left text-muted",children:r.map(a=>l.jsx("th",{className:"sticky top-0 z-20 bg-surface border-b border-border px-3 py-2 whitespace-nowrap",children:a.header},a.key))})}),l.jsx("tbody",{children:i.map((a,c)=>l.jsx("tr",{className:"border-t border-border/50",children:r.map(f=>l.jsx("td",{className:"px-3 py-2 align-top whitespace-nowrap",children:f.render?f.render(a[f.key],a):a[f.key]},f.key))},a.id||c))})]})})}function ay({onClose:r,onSave:i}){const[a,c]=x.useState({name:"",sku:"",basePrice:"",salePrice:""}),f=a.name.trim()&&a.sku.trim(),d=()=>{f&&i({name:a.name.trim(),sku:a.sku.trim(),basePrice:a.basePrice===""?0:Number(a.basePrice),salePrice:a.salePrice===""?0:Number(a.salePrice)})};return l.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),l.jsxs("div",{className:"relative z-10 card p-5 w-[96vw] max-w-lg",children:[l.jsx("div",{className:"h-title mb-3",children:"เพิ่มสินค้า"}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ชื่อสินค้า"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:a.name,onChange:h=>c(p=>({...p,name:h.target.value})),placeholder:"เช่น เสื้อยืดลินิน",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"SKU / Barcode"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:a.sku,onChange:h=>c(p=>({...p,sku:h.target.value})),placeholder:"เช่น LN-TS-0001"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ราคาทุน (Base)"}),l.jsx("input",{type:"number",min:"0",step:"0.01",className:"glass rounded-2xl px-4 py-2 outline-none w-full text-right",value:a.basePrice,onChange:h=>c(p=>({...p,basePrice:h.target.value})),placeholder:"0.00"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ราคาขาย (Sale)"}),l.jsx("input",{type:"number",min:"0",step:"0.01",className:"glass rounded-2xl px-4 py-2 outline-none w-full text-right",value:a.salePrice,onChange:h=>c(p=>({...p,salePrice:h.target.value})),placeholder:"0.00"})]})]})]}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx("button",{className:"btn btn-outline",onClick:r,children:"ยกเลิก"}),l.jsx("button",{className:"btn btn-primary",disabled:!f,onClick:d,children:"บันทึกสินค้า"})]})]})]})}function iy(){const{products:r=[],addProduct:i}=Ze(),[a,c]=x.useState(""),[f,d]=x.useState(!1),h=x.useMemo(()=>{const v=a.trim().toLowerCase();return v?r.filter(y=>(y.name||"").toLowerCase().includes(v)||(y.sku||"").toLowerCase().includes(v)):r},[a,r]),p=[{key:"sku",header:"SKU"},{key:"name",header:"ชื่อสินค้า"},{key:"salePrice",header:"ราคาขาย",render:v=>Number(v||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}],g=v=>{typeof i=="function"?i(v):(console.warn("addProduct() is not defined in dataStore."),alert("ยังไม่ได้ติดตั้งเมธอด addProduct() ใน store")),d(!1)};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-3 items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Go,{size:16,className:"text-slate-500"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",placeholder:"ค้นหาชื่อสินค้า / SKU …",value:a,onChange:v=>c(v.target.value)})]}),l.jsxs("button",{className:"btn btn-primary",onClick:()=>d(!0),children:[l.jsx(ls,{className:"mr-2",size:16})," เพิ่มสินค้า"]})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:p,data:h})}),f&&l.jsx(ay,{onClose:()=>d(!1),onSave:g})]})}function oy(){const{consignmentShops:r=[],products:i=[],consignmentCategories:a=[],productConsignmentMap:c=[],consignmentCategoryOverrides:f=[],upsertConsignmentCategory:d,deleteConsignmentCategory:h,linkProductToShopCategory:p,unlinkProductFromShop:g,setConsignmentCategoryCommission:v}=Ze(),[y,w]=x.useState(r[0]?.id||null),[j,b]=x.useState(""),[P,M]=x.useState(null),[F,G]=x.useState(!1),[D,k]=x.useState(null),K=x.useMemo(()=>a.filter(T=>T.shopId===y),[a,y]),Y=x.useMemo(()=>{const T=j.trim().toLowerCase();return T?K.filter(B=>(B.code||"").toLowerCase().includes(T)||(B.name||"").toLowerCase().includes(T)):K},[K,j]),N=x.useMemo(()=>{if(!D)return[];const T=c.filter(ce=>ce.shopId===y&&ce.categoryId===D).map(ce=>ce.productId),B=new Set(T);return i.filter(ce=>B.has(ce.id))},[c,i,y,D]),$=x.useMemo(()=>{const T=new Set(c.filter(B=>B.shopId===y).map(B=>B.productId));return i.filter(B=>!T.has(B.id))},[c,i,y]),X=()=>{if(P){if(!P.name){alert("กรุณากรอกชื่อหมวด");return}d(y,P),M(null)}},U=x.useMemo(()=>D?f.find(B=>B.shopId===y&&B.categoryId===D)?.commissionPct??"":"",[f,y,D]);return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[auto_1fr_auto] gap-3 items-center",children:[l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:y||"",onChange:T=>w(Number(T.target.value)||null),children:r.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"ค้นหาหมวด (ชื่อ/รหัส)",value:j,onChange:T=>b(T.target.value)}),l.jsxs("button",{className:"btn btn-primary",onClick:()=>M({id:null,code:"",name:"",netUnitPrice:""}),children:[l.jsx(ls,{className:"mr-2",size:16})," เพิ่มหมวด"]})]})}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:[{key:"code",header:"รหัส"},{key:"name",header:"ชื่อหมวด"},{key:"net",header:"ราคา/ชิ้น (Net)",render:(T,B)=>B.netUnitPrice??"—"},{key:"tools",header:"เครื่องมือ",render:(T,B)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-outline px-2 py-1",title:"แก้ไข",onClick:()=>M({id:B.id,code:B.code||"",name:B.name||"",netUnitPrice:B.netUnitPrice??""}),children:l.jsx(Ma,{size:16})}),l.jsx("button",{className:"btn btn-outline px-2 py-1",title:"ลบ",onClick:()=>{confirm("ลบหมวดนี้? สินค้าที่ผูกกับหมวดนี้ในร้านนี้จะถูกปลดออกทั้งหมด")&&(h(y,B.id),D===B.id&&k(null))},children:l.jsx(Xo,{size:16})}),l.jsx("button",{className:"btn btn-outline px-2 py-1",title:"เลือกหมวด",onClick:()=>k(B.id),children:l.jsx(Rg,{size:16})})]})}],data:Y.map(T=>({...T,tools:""}))})}),l.jsxs(Le,{className:"p-5",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"font-semibold",children:["หมวดที่เลือก: ",D?K.find(T=>T.id===D)?.name||"-":"—"]}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("span",{className:"text-sm text-muted",children:"ค่าคอม (หมวดนี้):"}),l.jsx("input",{className:"glass rounded-xl px-3 py-1 w-24 text-right",type:"number",min:"0",max:"100",step:"0.1",value:U,onChange:T=>{D&&v({shopId:y,categoryId:D,commissionPct:T.target.value===""?void 0:Number(T.target.value)})}}),l.jsx("span",{className:"text-sm",children:"%"}),l.jsx("button",{className:"btn btn-primary ml-3",disabled:!D,onClick:()=>G(!0),children:"เพิ่มสินค้าเข้าหมวด"})]})]}),l.jsx(wt,{columns:[{key:"sku",header:"SKU"},{key:"name",header:"ชื่อสินค้า"},{key:"tools",header:"เครื่องมือ",render:(T,B)=>l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>g({productId:B.id,shopId:y}),children:"เอาออก"})}],data:N.map(T=>({...T,tools:""}))})]})]}),P&&l.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>M(null)}),l.jsxs("div",{className:"relative z-10 card p-5 w-[96vw] max-w-lg",children:[l.jsx("div",{className:"h-title mb-3",children:P.id?"แก้ไขหมวด":"เพิ่มหมวด"}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"รหัส"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:P.code,onChange:T=>M(B=>({...B,code:T.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ชื่อหมวด"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:P.name,onChange:T=>M(B=>({...B,name:T.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ราคา/ชิ้น (Net) (ว่าง = ราคาขาย - ค่าคอม)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:P.netUnitPrice,onChange:T=>M(B=>({...B,netUnitPrice:T.target.value===""?"":Number(T.target.value)}))})]})]}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx("button",{className:"btn btn-outline",onClick:()=>M(null),children:"ยกเลิก"}),l.jsx("button",{className:"btn btn-primary",onClick:X,children:"บันทึก"})]})]})]}),F&&D&&l.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>G(!1)}),l.jsxs("div",{className:"relative z-10 card p-5 w-[96vw] max-w-3xl",children:[l.jsx("div",{className:"h-title mb-3",children:"เพิ่มสินค้าเข้าหมวด"}),l.jsxs("div",{className:"grid gap-2 max-h-[60vh] overflow-auto",children:[$.map(T=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl hover:bg-slate-100/50",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:T.name}),l.jsx("div",{className:"text-xs text-muted",children:T.sku})]}),l.jsx("button",{className:"btn btn-outline",onClick:()=>p({productId:T.id,shopId:y,categoryId:D}),children:"เพิ่ม"})]},T.id)),$.length===0&&l.jsx("div",{className:"text-center text-sm text-muted py-6",children:"สินค้าทั้งหมดในร้านนี้ถูกจัดหมวดแล้ว"})]}),l.jsx("div",{className:"mt-4 flex justify-end",children:l.jsx("button",{className:"btn btn-primary",onClick:()=>G(!1),children:"ปิด"})})]})]})]})}function uy({title:r,children:i,actions:a,onClose:c}){return l.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:c}),l.jsxs("div",{className:"relative z-10 w-[95vw] max-w-xl card p-5",children:[l.jsx("div",{className:"h-title mb-3",children:r}),l.jsx("div",{className:"grid gap-3",children:i}),l.jsx("div",{className:"mt-4 flex justify-end gap-2",children:a})]})]})}function of({mode:r="create",initial:i={},onClose:a,onSave:c}){const[f,d]=x.useState(i.code||""),[h,p]=x.useState(i.name||""),[g,v]=x.useState(i.address||""),[y,w]=x.useState(typeof i.commission=="number"?String(i.commission):""),j=f.trim()&&h.trim()&&y!==""&&!isNaN(parseFloat(y)),b=f.toUpperCase().replace(/\s+/g,"-");return l.jsx(uy,{title:r==="create"?"เพิ่มร้านสาขา":"แก้ไขร้านสาขา",onClose:a,actions:l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"btn btn-outline",onClick:a,children:"ยกเลิก"}),l.jsx("button",{className:"btn btn-primary",disabled:!j||parseFloat(y)<0||parseFloat(y)>100,onClick:()=>c({code:b,name:h.trim(),address:g.trim(),commission:Math.max(0,Math.min(100,parseFloat(y)))}),children:"บันทึก"})]}),children:l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-muted mb-1",children:["รหัสสาขา ",l.jsx("span",{className:"text-xs",children:"(เช่น PNA-KRBR-GVT)"})]}),l.jsx("input",{className:"w-full glass rounded-2xl px-4 py-2 outline-none uppercase",value:f,onChange:P=>d(P.target.value),placeholder:"เช่น PNA-KRBR-GVT"}),l.jsxs("div",{className:"text-xs text-muted mt-1",children:["จะถูกบันทึกเป็น: ",l.jsx("b",{children:b||"-"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-muted mb-1",children:["ชื่อร้านสาขา ",l.jsx("span",{className:"text-xs",children:"(เช่น CLS-GVT)"})]}),l.jsx("input",{className:"w-full glass rounded-2xl px-4 py-2 outline-none",value:h,onChange:P=>p(P.target.value),placeholder:"เช่น CLS-GVT"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"ที่อยู่"}),l.jsx("textarea",{className:"w-full glass rounded-2xl px-4 py-2 outline-none min-h-[90px]",value:g,onChange:P=>v(P.target.value),placeholder:"เช่น 140/8 หมู่ 3 ..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"ค่าคอมมิชชั่น (%)"}),l.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",className:"w-full glass rounded-2xl px-4 py-2 outline-none",value:y,onChange:P=>w(P.target.value),placeholder:"เช่น 10"}),l.jsx("div",{className:"text-xs text-muted mt-1",children:"0–100% เท่านั้น"})]})]})})}function cy(){const{user:r}=ll(),i=r?.role==="ADMIN",{branches:a,addBranch:c,updateBranch:f}=Ze(),[d,h]=x.useState(""),[p,g]=x.useState(!1),[v,y]=x.useState(null),w=x.useMemo(()=>{const b=d.trim().toLowerCase();return b?a.filter(P=>(P.code||"").toLowerCase().includes(b)||(P.name||"").toLowerCase().includes(b)):a},[a,d]),j=[{key:"code",header:"รหัสสาขา"},{key:"name",header:"ชื่อร้านสาขา"},{key:"tools",header:"เครื่องมือ",render:(b,P)=>l.jsx("div",{className:"flex gap-2",children:i&&l.jsx("button",{className:"btn btn-outline px-2 py-1",title:"แก้ไข",onClick:()=>y(P),children:l.jsx(Ma,{size:16})})})}];return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-3",children:[l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"ค้นหารหัส/ชื่อร้านสาขา…",value:d,onChange:b=>h(b.target.value)}),l.jsx("button",{className:"btn btn-primary",onClick:()=>g(!0),disabled:!i,title:i?"เพิ่มร้านสาขา":"เฉพาะ ADMIN",children:"เพิ่มร้านสาขา"})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:j,data:w.map(b=>({...b,tools:""}))})}),p&&l.jsx(of,{mode:"create",onClose:()=>g(!1),onSave:b=>{if(a.some(M=>(M.code||"").toUpperCase()===b.code.toUpperCase()))return alert("มีรหัสสาขานี้อยู่แล้ว");c({...b,type:"BRANCH"}),g(!1)}}),v&&l.jsx(of,{mode:"edit",initial:v,onClose:()=>y(null),onSave:b=>{if(a.some(M=>M.id!==v.id&&(M.code||"").toUpperCase()===b.code.toUpperCase()))return alert("มีรหัสสาขานี้อยู่แล้ว");f(v.id,b),y(null)}})]})}function dy({onClose:r,onSave:i,deliveryTemplates:a,invoiceTemplates:c,receiptTemplates:f}){const[d,h]=x.useState({nameInternal:"",commissionPct:"",companyTh:"",companyEn:"",addressTh:"",addressEn:"",phone:"",taxId:"",deliveryTemplateId:a[0]?.id||null,invoiceTemplateId:c[0]?.id||null,receiptTemplateId:f[0]?.id||null}),p=d.nameInternal.trim()&&d.commissionPct!==""&&d.taxId.trim(),g=y=>w=>h(j=>({...j,[y]:w.target.value})),v=()=>{p&&i({nameInternal:d.nameInternal.trim(),commissionPct:Number(d.commissionPct)||0,companyTh:d.companyTh.trim(),companyEn:d.companyEn.trim(),addressTh:d.addressTh.trim(),addressEn:d.addressEn.trim(),phone:d.phone.trim(),taxId:d.taxId.trim(),deliveryTemplateId:Number(d.deliveryTemplateId)||null,invoiceTemplateId:Number(d.invoiceTemplateId)||null,receiptTemplateId:Number(d.receiptTemplateId)||null})};return l.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),l.jsxs("div",{className:"relative z-10 card p-5 w-[96vw] max-w-3xl",children:[l.jsx("div",{className:"h-title mb-3",children:"เพิ่มร้านฝากขาย"}),l.jsxs("div",{className:"grid gap-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ชื่อร้าน (ภายใน)"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.nameInternal,onChange:g("nameInternal"),placeholder:"เช่น LITTLE, RO"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ค่าคอมมิชชั่น (%)"}),l.jsx("input",{type:"number",min:"0",step:"0.1",className:"glass rounded-2xl px-4 py-2 outline-none w-full text-right",value:d.commissionPct,onChange:g("commissionPct"),placeholder:"เช่น 30"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ชื่อบริษัท (ภาษาไทย)"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.companyTh,onChange:g("companyTh")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ชื่อบริษัท (ภาษาอังกฤษ)"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.companyEn,onChange:g("companyEn")})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm text-muted",children:"ที่อยู่ (ภาษาไทย)"}),l.jsx("textarea",{className:"glass rounded-2xl px-4 py-2 outline-none w-full min-h-[70px]",value:d.addressTh,onChange:g("addressTh")})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm text-muted",children:"ที่อยู่ (ภาษาอังกฤษ)"}),l.jsx("textarea",{className:"glass rounded-2xl px-4 py-2 outline-none w-full min-h-[70px]",value:d.addressEn,onChange:g("addressEn")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"เบอร์โทรติดต่อ"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.phone,onChange:g("phone")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"เลขประจำตัวผู้เสียภาษี"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.taxId,onChange:g("taxId"),placeholder:"0-0000-00000-00-0"})]})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsx("div",{className:"font-semibold mb-3",children:"Template เอกสาร"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"Delivery Template"}),l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.deliveryTemplateId,onChange:g("deliveryTemplateId"),children:a.map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"Invoice Template"}),l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.invoiceTemplateId,onChange:g("invoiceTemplateId"),children:c.map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"Receipt Template"}),l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.receiptTemplateId,onChange:g("receiptTemplateId"),children:f.map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))})]})]})]})]}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx("button",{className:"btn btn-outline",onClick:r,children:"ยกเลิก"}),l.jsx("button",{className:"btn btn-primary",disabled:!p,onClick:v,children:"บันทึก"})]})]})]})}function fy(){const{consignmentShops:r=[],addConsignmentShop:i,templates:a={delivery:[],invoice:[],receipt:[]}}=Ze(),[c,f]=x.useState(""),[d,h]=x.useState(!1),p=x.useMemo(()=>{const y=c.trim().toLowerCase();return y?r.filter(w=>(w.nameInternal||"").toLowerCase().includes(y)||(w.companyTh||"").toLowerCase().includes(y)||(w.companyEn||"").toLowerCase().includes(y)||(w.taxId||"").toLowerCase().includes(y)):r},[c,r]),g=[{key:"nameInternal",header:"ชื่อร้าน (ภายใน)"},{key:"commissionPct",header:"ค่าคอม (%)"},{key:"companyTh",header:"ชื่อบริษัท (TH)"},{key:"taxId",header:"เลขผู้เสียภาษี"}],v=y=>{typeof i=="function"?i(y):alert("ยังไม่ได้ติดตั้งเมธอด addConsignmentShop() ใน store"),h(!1)};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-3 items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Go,{size:16,className:"text-slate-500"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",placeholder:"ค้นหา ชื่อร้าน/บริษัท/เลขผู้เสียภาษี…",value:c,onChange:y=>f(y.target.value)})]}),l.jsxs("button",{className:"btn btn-primary",onClick:()=>h(!0),children:[l.jsx(ls,{className:"mr-2",size:16})," เพิ่มร้านฝากขาย"]})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:g,data:p})}),d&&l.jsx(dy,{onClose:()=>h(!1),onSave:v,deliveryTemplates:a.delivery||[],invoiceTemplates:a.invoice||[],receiptTemplates:a.receipt||[]})]})}function my({scope:r,setScope:i,isAdmin:a}){return l.jsxs("div",{className:"flex flex-wrap gap-2",children:[a&&l.jsxs("button",{className:`btn ${r==="main"?"btn-primary":"btn-outline"}`,onClick:()=>i("main"),children:[l.jsx(Ff,{className:"mr-2",size:16})," สต็อกกลาง"]}),l.jsxs("button",{className:`btn ${r==="branch"?"btn-primary":"btn-outline"}`,onClick:()=>i("branch"),children:[l.jsx(es,{className:"mr-2",size:16})," สาขา"]}),l.jsxs("button",{className:`btn ${r==="consignment"?"btn-primary":"btn-outline"}`,onClick:()=>i("consignment"),children:[l.jsx(es,{className:"mr-2",size:16})," ฝากขาย"]})]})}function Af({defaultScope:r="main"}){const i=Da(),{products:a=[],branches:c=[],consignmentShops:f=[],centralStock:d={},branchStock:h={},consignmentStock:p={}}=Ze(),[g]=Tf(),v=(g.get("scope")||r).toLowerCase(),[y,w]=x.useState(["main","branch","consignment"].includes(v)?v:"main"),[j,b]=x.useState(""),[P,M]=x.useState(c[0]?.id||null),[F,G]=x.useState(f[0]?.id||null),D=x.useMemo(()=>Object.fromEntries(a.map($=>[$.id,$.sku||""])),[a]),k=x.useMemo(()=>Object.fromEntries(a.map($=>[$.id,$.name||`#${$.id}`])),[a]),K=x.useMemo(()=>{let $={};if(y==="main"){$=d||{};const B=Object.entries($).map(([ce,me])=>({productId:Number(ce),sku:D[ce]||"",name:k[ce]||`#${ce}`,qty:Number(me||0)}));return Po(B,j)}if(y==="branch"){const B=P||c[0]?.id,ce=h&&h[B]||{},me=Object.entries(ce).map(([le,Z])=>({productId:Number(le),sku:D[le]||"",name:k[le]||`#${le}`,qty:Number(Z||0)}));return Po(me,j)}const X=F||f[0]?.id,U=p&&p[X]||{},T=Object.entries(U).map(([B,ce])=>({productId:Number(B),sku:D[B]||"",name:k[B]||`#${B}`,qty:Number(ce||0)}));return Po(T,j)},[y,j,P,F,c,f,d,h,p,D,k]),Y=[{key:"sku",header:"SKU"},{key:"name",header:"สินค้า"},{key:"qty",header:"คงเหลือ",render:$=>l.jsx("span",{className:"font-medium",children:$})}],N=()=>{const $=new URLSearchParams;$.set("scope",y),y==="branch"&&P&&$.set("locationId",String(P)),y==="consignment"&&(F||f[0]?.id)&&$.set("locationId",String(F||f[0].id)),i(`/inventory/count?${$.toString()}`)};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[auto_1fr_auto] gap-3 items-center",children:[l.jsx(my,{scope:y,setScope:w,isAdmin:!0}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y==="branch"&&l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:P||"",onChange:$=>M($.target.value?Number($.target.value):null),children:[l.jsx("option",{value:"",children:"— เลือกสาขา —"}),c.map($=>l.jsx("option",{value:$.id,children:($.code?$.code+" ":"")+($.name||"")},$.id))]}),y==="consignment"&&l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:F||"",onChange:$=>G($.target.value?Number($.target.value):null),children:[l.jsx("option",{value:"",children:"— เลือกร้านฝากขาย —"}),f.map($=>l.jsx("option",{value:$.id,children:$.nameInternal||$.name},$.id))]}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none md:col-span-2",placeholder:"ค้นหา SKU/ชื่อสินค้า…",value:j,onChange:$=>b($.target.value)})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{className:"btn btn-primary",onClick:N,children:[l.jsx(qo,{className:"mr-2",size:16}),"นับสต็อก"]})})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:Y,data:K})})]})}function Po(r,i){const a=(i||"").trim().toLowerCase();return(a?r.filter(f=>(f.name||"").toLowerCase().includes(a)||(f.sku||"").toLowerCase().includes(a)):r).sort((f,d)=>(f.name||"").localeCompare(d.name||""))}function hy(r,i){const a=(r||"").toLowerCase();return i==="STAFF"?"branch":i==="CONSIGNMENT"?"consignment":a==="branch"||a==="branches"?"branch":a==="consignment"||a==="shop"?"consignment":"branch"}function py(){const r=Da(),{user:i}=ll(),a=i?.role||"ADMIN",c=i?.branchId||null,{products:f,inventory:d,branches:h,consignmentShops:p,setInventoryQty:g,createCountInventoryReport:v}=Ze(),[y]=Tf(),w=hy(y.get("scope"),a),[j,b]=x.useState(w),[P,M]=x.useState(a==="STAFF"?c:Number(y.get("locationId"))||h[0]?.id||null),[F,G]=x.useState(Number(y.get("locationId"))||p[0]?.id||null),D=a==="ADMIN",k=a==="STAFF"?"branch":a==="CONSIGNMENT"?"consignment":j;x.useMemo(()=>Object.fromEntries(f.map(L=>[L.id,L.sku||""])),[f]);const K=x.useMemo(()=>Object.fromEntries(f.map(L=>[String(L.sku||"").toLowerCase(),L.id])),[f]),Y=x.useMemo(()=>Object.fromEntries(f.map(L=>[L.id,L.name||""])),[f]),N=x.useMemo(()=>[...f].sort((L,ae)=>(L.name||"").localeCompare(ae.name||"")),[f]),[$,X]=x.useState({}),U=x.useMemo(()=>Object.values($).reduce((L,ae)=>L+Number(ae||0),0),[$]),T=()=>k==="branch"?{type:"BRANCH",id:a==="STAFF"?c:P}:k==="consignment"?{type:"CONSIGNMENT",id:F}:{type:"MAIN",id:1},B=L=>{const ae=T();return d.filter(ie=>ie.locationType===ae.type&&ie.locationId===ae.id&&ie.productId===L).reduce((ie,he)=>ie+he.qty,0)},[ce,me]=x.useState(""),le=x.useRef(null),Z=x.useMemo(()=>{const L=ce.trim().toLowerCase();if(!L)return[];const ae=K[L],ie=[];return ae&&ie.push(f.find(he=>he.id===ae)),N.forEach(he=>{const Ce=(he.name||"").toLowerCase().includes(L),_e=(he.sku||"").toLowerCase().includes(L);(Ce||_e)&&(!ae||he.id!==ae)&&ie.push(he)}),ie.slice(0,8)},[ce,K,N,f]),Q=L=>{X(ae=>({...ae,[L]:Number(ae[L]||0)+1})),me(""),setTimeout(()=>le.current?.focus(),0)},ne=()=>{const L=ce.trim().toLowerCase();if(!L)return;const ae=K[L]||Z[0]?.id;ae&&Q(ae)},O=x.useMemo(()=>Object.keys($).map(Number).map(ie=>{const he=Number($[ie]||0),Ce=B(ie),_e=he-Ce;return{productId:ie,name:Y[ie]||"#"+ie,counted:he,stock:Ce,diff:_e}}).sort((ie,he)=>ie.name.localeCompare(he.name)),[$,d,P,F,j,Y]),J=O.length>0&&T().id,W=()=>{const L=T(),ae=O.map(ie=>({productId:ie.productId,counted:ie.counted,stockBefore:ie.stock,diff:ie.diff}));typeof v=="function"?v({locationType:L.type,locationId:L.id,items:ae}):ae.forEach(ie=>{g({locationType:L.type,locationId:L.id,productId:ie.productId,qty:ie.counted})}),alert("บันทึกผลนับสต็อกแล้ว (mock)"),r("/inventory")};x.useEffect(()=>{le.current?.focus()},[]);const C=()=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[D&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:`btn ${k==="branch"?"btn-primary":"btn-outline"}`,onClick:()=>b("branch"),children:[l.jsx(es,{className:"mr-2",size:16})," ร้านสาขา"]}),l.jsxs("button",{className:`btn ${k==="consignment"?"btn-primary":"btn-outline"}`,onClick:()=>b("consignment"),children:[l.jsx(es,{className:"mr-2",size:16})," ร้านฝากขาย"]})]}),k==="branch"&&l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:a==="STAFF"?c:P||"",disabled:a==="STAFF",onChange:L=>M(Number(L.target.value)||null),children:[a!=="STAFF"&&l.jsx("option",{value:"",children:"— เลือกร้านสาขา —"}),h.map(L=>l.jsxs("option",{value:L.id,children:[L.code||""," ",L.name]},L.id))]}),k==="consignment"&&l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:F||"",onChange:L=>G(L.target.value?Number(L.target.value):null),children:[l.jsx("option",{value:"",children:"— เลือกร้านฝากขาย —"}),p.map(L=>l.jsx("option",{value:L.id,children:L.name},L.id))]}),l.jsxs("div",{className:"text-right font-medium self-center",children:["รวมจำนวน: ",U]})]});return l.jsxs("div",{className:"grid gap-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{className:"btn btn-outline",onClick:()=>r(-1),children:[l.jsx(sg,{className:"mr-2",size:16})," ย้อนกลับ"]}),l.jsx("div",{className:"h-title",children:"Count Inventory"})]}),l.jsx(Le,{className:"p-5",children:l.jsx(C,{})}),l.jsxs(Le,{className:"p-5",children:[l.jsx("label",{className:"block text-sm text-muted mb-2",children:"สแกนบาร์โค้ดหรือพิมพ์ชื่อ/รหัสสินค้า แล้วกด Enter"}),l.jsx("input",{ref:le,className:"w-full glass rounded-2xl px-4 py-2 outline-none",placeholder:"สแกน/ค้นหาสินค้า…",value:ce,onChange:L=>me(L.target.value),onKeyDown:L=>L.key==="Enter"&&ne()}),ce&&l.jsxs("div",{className:"mt-2 grid gap-1",children:[l.jsx("small",{className:"text-muted",children:"ผลลัพธ์ที่ตรง (สูงสุด 8 รายการ):"}),l.jsxs("div",{className:"grid",children:[Z.map(L=>l.jsxs("button",{className:"text-left px-3 py-2 rounded-xl hover:bg-slate-100/50",onClick:()=>Q(L.id),children:[l.jsx("div",{className:"font-medium",children:L.name}),l.jsx("div",{className:"text-xs text-muted",children:L.sku})]},L.id)),Z.length===0&&l.jsx("div",{className:"text-xs text-muted px-3 py-2",children:"ไม่พบสินค้า"})]})]})]}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:[{key:"name",header:"ชื่อสินค้า"},{key:"counted",header:"จำนวนสินค้า"},{key:"stock",header:"จำนวนที่มีอยู่จริงในสต็อก"},{key:"diff",header:"จำนวนขาด/เกิน",render:L=>l.jsxs("span",{className:`${L===0?"text-slate-600":L>0?"text-emerald-700":"text-red-700"} font-medium`,children:[L>0?"+":"",L]})}],data:O})}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{className:"btn btn-primary",disabled:!J,onClick:W,title:"บันทึกการนับและตัดสต็อกตามที่นับได้ (mock)",children:[l.jsx(qo,{className:"mr-2",size:16})," บันทึกการนับสินค้า"]})})]})}const Rn=r=>Number(r||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});function Jo({title:r,children:i,actions:a,onClose:c,maxW:f="max-w-5xl"}){return l.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:c}),l.jsxs("div",{className:`relative z-10 w-[96vw] ${f} card p-5`,children:[l.jsx("div",{className:"h-title mb-3",children:r}),l.jsx("div",{className:"grid gap-4",children:i}),l.jsx("div",{className:"mt-4 flex justify-end gap-2",children:a})]})]})}function vy({suppliers:r,value:i,onPick:a,onCreate:c}){const[f,d]=x.useState(""),h=x.useMemo(()=>{const p=f.trim().toLowerCase();return p?r.filter(g=>(g.name||"").toLowerCase().includes(p)||(g.address||"").toLowerCase().includes(p)||(g.contact||"").toLowerCase().includes(p)).slice(0,6):r.slice(0,6)},[f,r]);return l.jsxs("div",{className:"grid gap-2",children:[l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(Go,{size:16,className:"text-slate-500"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",placeholder:"ค้นหาผู้จำหน่าย…",value:f,onChange:p=>d(p.target.value)})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[h.map(p=>l.jsxs("button",{className:"text-left rounded-xl px-3 py-2 hover:bg-slate-100/60",onClick:()=>a(p),children:[l.jsx("div",{className:"font-medium",children:p.name}),l.jsx("div",{className:"text-xs text-muted",children:p.contact||"-"}),l.jsx("div",{className:"text-xs text-muted truncate",children:p.address||"-"})]},p.id)),h.length===0&&l.jsx("div",{className:"text-xs text-muted",children:"ไม่พบผู้จำหน่ายที่ค้นหา คุณสามารถกรอกข้อมูลแล้วบันทึกเป็นผู้จำหน่ายใหม่ได้"})]}),!!f&&l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{className:"btn btn-outline",onClick:()=>c(f),children:["สร้างผู้จำหน่ายใหม่จากคำค้น: “",f,"”"]})})]})}function gy({onClose:r,onSave:i,products:a,suppliers:c}){const[f,d]=x.useState(Kt().format("YYYY-MM-DD")),[h,p]=x.useState({id:null,name:"",address:"",contact:""}),[g,v]=x.useState(""),[y,w]=x.useState([]),j=x.useRef(null),b=x.useMemo(()=>Object.fromEntries(a.map(k=>[String(k.sku||"").toLowerCase(),k])),[a]),P=x.useMemo(()=>y.reduce((k,K)=>k+(Number(K.qty)||0)*(Number(K.price)||0),0),[y]),M=k=>{w(K=>{const Y=K.findIndex(N=>N.productId===k.id);if(Y>=0){const N=[...K];return N[Y]={...N[Y],qty:Number(N[Y].qty||0)+1},N}return[...K,{productId:k.id,name:k.name,sku:k.sku,qty:1,price:k.basePrice??0}]}),v(""),setTimeout(()=>j.current?.focus(),0)},F=()=>{const k=g.trim().toLowerCase();if(!k)return;const K=b[k]||a.find(Y=>String(Y.name||"").toLowerCase().includes(k));K&&M(K)},G=(k,K)=>{w(Y=>{const N=[...Y];return N[k]={...N[k],...K},N})},D=f&&h.name&&y.length>0;return l.jsxs(Jo,{title:"สร้างคำสั่งซื้อ",onClose:r,actions:l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"btn btn-outline",onClick:r,children:"ยกเลิก"}),l.jsx("button",{className:"btn btn-primary",disabled:!D,onClick:()=>i({date:f,supplier:h,lines:y}),children:"บันทึกคำสั่งซื้อ"})]}),children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{className:"text-sm text-muted",children:"วันที่"}),l.jsx("input",{type:"date",className:"glass rounded-2xl px-4 py-2 outline-none",value:f,onChange:k=>d(k.target.value)})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{className:"text-sm text-muted",children:"ผู้จำหน่าย (ค้นหา/เลือก หรือกรอกใหม่)"}),l.jsx(vy,{suppliers:c,value:h,onPick:k=>p({id:k.id,name:k.name||"",address:k.address||"",contact:k.contact||""}),onCreate:k=>p({id:null,name:k,address:"",contact:""})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{className:"text-sm text-muted",children:"ที่อยู่"}),l.jsx("textarea",{className:"glass rounded-2xl px-4 py-2 outline-none min-h-[80px]",value:h.address,onChange:k=>p(K=>({...K,address:k.target.value}))})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{className:"text-sm text-muted",children:"ช่องทางติดต่อ (Line@/Shopee/Facebook/อื่น ๆ)"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",value:h.contact,onChange:k=>p(K=>({...K,contact:k.target.value})),placeholder:"Line@: @yourshop, Shopee: yourshop, FB: /yourpage"})]})]}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bg,{size:16,className:"text-slate-500"}),l.jsx("input",{ref:j,className:"glass rounded-2xl px-4 py-2 outline-none w-full",placeholder:"สแกนบาร์โค้ด (SKU) หรือพิมพ์ชื่อ/รหัส แล้ว Enter เพื่อเพิ่ม +1",value:g,onChange:k=>v(k.target.value),onKeyDown:k=>k.key==="Enter"&&F()})]}),l.jsx("div",{className:"overflow-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"sticky top-0 bg-white/60 backdrop-blur",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-2",children:"สินค้า"}),l.jsx("th",{className:"text-right p-2",children:"จำนวน"}),l.jsx("th",{className:"text-right p-2",children:"ราคา/หน่วย"}),l.jsx("th",{className:"text-right p-2",children:"รวม"}),l.jsx("th",{className:"p-2 w-10"})]})}),l.jsxs("tbody",{children:[y.map((k,K)=>l.jsxs("tr",{className:"border-t border-slate-100/60",children:[l.jsxs("td",{className:"p-2",children:[l.jsx("div",{className:"font-medium",children:k.name}),l.jsx("div",{className:"text-xs text-muted",children:k.sku})]}),l.jsx("td",{className:"p-2 text-right",children:l.jsx("input",{type:"number",min:"0",className:"glass rounded-xl px-2 py-1 w-24 text-right",value:k.qty,onChange:Y=>G(K,{qty:Number(Y.target.value)||0})})}),l.jsx("td",{className:"p-2 text-right",children:l.jsx("input",{type:"number",min:"0",step:"0.01",className:"glass rounded-xl px-2 py-1 w-28 text-right",value:k.price,onChange:Y=>G(K,{price:Number(Y.target.value)||0})})}),l.jsx("td",{className:"p-2 text-right",children:Rn((Number(k.qty)||0)*(Number(k.price)||0))}),l.jsx("td",{className:"p-2 text-right",children:l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>w(Y=>Y.filter((N,$)=>$!==K)),children:l.jsx(Ug,{size:14})})})]},K)),y.length===0&&l.jsx("tr",{children:l.jsx("td",{className:"p-4 text-center text-muted",colSpan:5,children:"ยังไม่มีสินค้าในคำสั่งซื้อ"})})]}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-slate-200",children:[l.jsx("td",{className:"p-2 font-medium text-right",colSpan:3,children:"ยอดรวม"}),l.jsx("td",{className:"p-2 text-right font-semibold",children:Rn(P)}),l.jsx("td",{})]})})]})})]})]})}function yy({onClose:r,purchase:i,onSaveChecking:a,products:c}){const f=x.useMemo(()=>Object.fromEntries(c.map(v=>[v.id,v])),[c]),[d,h]=x.useState((i.lines||[]).map(v=>({productId:v.productId,name:f[v.productId]?.name||v.name,sku:f[v.productId]?.sku||v.sku,ordered:Number(v.qty)||0,price:Number(v.price)||0,received:Number(v.received??v.qty)||0})));x.useMemo(()=>d.reduce((v,y)=>v+y.ordered*y.price,0),[d]);const p=x.useMemo(()=>d.reduce((v,y)=>v+y.received*y.price,0),[d]),g=(v,y)=>{h(w=>{const j=[...w];return j[v]={...j[v],...y},j})};return l.jsx(Jo,{title:`ตรวจเช็คสินค้า: ${i.docNo}`,onClose:r,actions:l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"btn btn-outline",onClick:r,children:"ยกเลิก"}),l.jsx("button",{className:"btn btn-primary",onClick:()=>a(d),children:"บันทึกผลตรวจเช็ค"})]}),children:l.jsx("div",{className:"overflow-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"sticky top-0 bg-white/60 backdrop-blur",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-2",children:"สินค้า"}),l.jsx("th",{className:"text-right p-2",children:"สั่ง"}),l.jsx("th",{className:"text-right p-2",children:"รับจริง"}),l.jsx("th",{className:"text-right p-2",children:"ราคาซื้อ"}),l.jsx("th",{className:"text-right p-2",children:"รวม (รับจริง)"}),l.jsx("th",{className:"text-right p-2",children:"ขาด/เกิน"})]})}),l.jsx("tbody",{children:d.map((v,y)=>{const w=Number(v.received||0)-Number(v.ordered||0);return l.jsxs("tr",{className:"border-t border-slate-100/60",children:[l.jsxs("td",{className:"p-2",children:[l.jsx("div",{className:"font-medium",children:v.name}),l.jsx("div",{className:"text-xs text-muted",children:v.sku})]}),l.jsx("td",{className:"p-2 text-right",children:v.ordered}),l.jsx("td",{className:"p-2 text-right",children:l.jsx("input",{type:"number",min:"0",className:"glass rounded-xl px-2 py-1 w-24 text-right",value:v.received,onChange:j=>g(y,{received:Number(j.target.value)||0})})}),l.jsx("td",{className:"p-2 text-right",children:Rn(v.price)}),l.jsx("td",{className:"p-2 text-right",children:Rn((Number(v.received)||0)*v.price)}),l.jsxs("td",{className:`p-2 text-right ${w===0?"text-slate-600":w>0?"text-emerald-700":"text-red-700"}`,children:[w>0?"+":"",w]})]},y)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-slate-200",children:[l.jsx("td",{className:"p-2 font-medium text-right",colSpan:4,children:"รวมตามรับจริง"}),l.jsx("td",{className:"p-2 text-right font-semibold",children:Rn(p)}),l.jsx("td",{})]})})]})})})}function xy({onClose:r,purchase:i,supplier:a}){return l.jsxs(Jo,{title:`ใบสั่งซื้อ: ${i.docNo}`,onClose:r,actions:l.jsx("button",{className:"btn btn-primary",onClick:r,children:"ปิด"}),children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-muted",children:"วันที่"}),l.jsx("div",{className:"font-medium",children:i.docDate})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-muted",children:"ผู้จำหน่าย"}),l.jsx("div",{className:"font-medium",children:a?.name||"-"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("div",{className:"text-sm text-muted",children:"ที่อยู่"}),l.jsx("div",{className:"",children:a?.address||"-"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("div",{className:"text-sm text-muted",children:"ติดต่อ"}),l.jsx("div",{className:"",children:a?.contact||"-"})]})]}),l.jsx("div",{className:"mt-4 overflow-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"sticky top-0 bg-white/60 backdrop-blur",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-2",children:"สินค้า"}),l.jsx("th",{className:"text-right p-2",children:"จำนวน"}),l.jsx("th",{className:"text-right p-2",children:"ราคา/หน่วย"}),l.jsx("th",{className:"text-right p-2",children:"รวม"})]})}),l.jsx("tbody",{children:i.lines.map((c,f)=>l.jsxs("tr",{className:"border-t border-slate-100/60",children:[l.jsxs("td",{className:"p-2",children:[c.name," ",l.jsx("span",{className:"text-xs text-muted",children:c.sku})]}),l.jsx("td",{className:"p-2 text-right",children:c.qty}),l.jsx("td",{className:"p-2 text-right",children:Rn(c.price)}),l.jsx("td",{className:"p-2 text-right",children:Rn(c.qty*c.price)})]},f))}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-slate-200",children:[l.jsx("td",{className:"p-2 font-medium text-right",colSpan:3,children:"ยอดรวม"}),l.jsx("td",{className:"p-2 text-right font-semibold",children:Rn(i.total)})]})})]})})]})}function Ny(){const{products:r,suppliers:i,purchases:a,addSupplierIfMissingOrGetId:c,addPurchase:f,setPurchaseStatus:d,updatePurchaseChecking:h,receivePurchaseToInventory:p}=Ze(),[g,v]=x.useState(""),[y,w]=x.useState(!1),[j,b]=x.useState(null),[P,M]=x.useState(null),F=x.useMemo(()=>Object.fromEntries(i.map(Y=>[Y.id,Y])),[i]),G=x.useMemo(()=>{const Y=g.trim().toLowerCase(),N=a.map($=>({...$,supplierName:F[$.supplierId]?.name||"-"}));return Y?N.filter($=>($.docNo||"").toLowerCase().includes(Y)||($.docDate||"").toLowerCase().includes(Y)||($.supplierName||"").toLowerCase().includes(Y)):N},[g,a,F]),D=[{key:"docNo",header:"เลขที่เอกสาร"},{key:"docDate",header:"วันที่ทำเอกสาร"},{key:"supplier",header:"ผู้จำหน่าย",render:(Y,N)=>N.supplierName},{key:"total",header:"ยอดรวม",render:(Y,N)=>Rn(N.total)},{key:"status",header:"สถานะ",render:(Y,N)=>l.jsx("span",{className:N.status==="ORDERED"?"text-amber-700":N.status==="CHECKING"?"text-blue-700":N.status==="RECEIVED"?"text-emerald-700":N.status==="CANCELED"?"text-slate-500":"",children:N.status==="ORDERED"?"สั่งซื้อสินค้า":N.status==="CHECKING"?"ตรวจเช็คสินค้า":N.status==="RECEIVED"?"รับสินค้า":N.status==="CANCELED"?"ยกเลิก":N.status})},{key:"tools",header:"เครื่องมือ",render:(Y,N)=>l.jsxs("div",{className:"flex gap-2",children:[N.status==="ORDERED"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"btn btn-outline px-2 py-1",title:"ตรวจเช็คสินค้า",onClick:()=>M(N),children:l.jsx(qo,{size:16})}),l.jsx("button",{className:"btn btn-outline px-2 py-1",title:"ยกเลิกใบสั่งซื้อ",onClick:()=>d(N.id,"CANCELED"),children:l.jsx(ig,{size:16})})]}),N.status==="CHECKING"&&l.jsx("button",{className:"btn btn-outline px-2 py-1",title:"รับสินค้า",onClick:()=>p(N.id),children:l.jsx(yg,{size:16})}),(N.status==="RECEIVED"||N.status==="CANCELED")&&l.jsx("button",{className:"btn btn-outline px-2 py-1",title:"ดูบิล",onClick:()=>b(N),children:l.jsx($f,{size:16})})]})}],k=({date:Y,supplier:N,lines:$})=>{const X=c({name:N.name,address:N.address,contact:N.contact}),U=new Map(r.map(B=>[B.id,B])),T=$.filter(B=>B.qty>0&&B.price>=0).map(B=>{const ce=U.get(B.productId);return{productId:B.productId,name:ce?.name||B.name,sku:ce?.sku||B.sku,qty:Number(B.qty)||0,price:Number(B.price)||0}});f({date:Y,supplierId:X,lines:T}),w(!1)},K=Y=>{P&&(h(P.id,Y.map(N=>({productId:N.productId,received:Number(N.received)||0}))),M(null))};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-3",children:[l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"ค้นหาเลขที่เอกสาร/วันที่/ผู้จำหน่าย…",value:g,onChange:Y=>v(Y.target.value)}),l.jsxs("button",{className:"btn btn-primary",onClick:()=>w(!0),children:[l.jsx(ls,{className:"mr-2",size:16})," สร้างคำสั่งซื้อ"]})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:D,data:G.map(Y=>({...Y,tools:""}))})}),y&&l.jsx(gy,{onClose:()=>w(!1),onSave:k,products:r,suppliers:i}),P&&l.jsx(yy,{onClose:()=>M(null),purchase:P,onSaveChecking:K,products:r}),j&&l.jsx(xy,{onClose:()=>b(null),purchase:j,supplier:F[j.supplierId]})]})}function jy(){const{products:r=[],prospects:i=[],quotes:a=[],addProspect:c,addQuote:f,setQuoteStatus:d,checkStockForQuote:h,convertQuoteToConsignmentShop:p,convertQuoteToDelivery:g,createPurchaseDraftFromQuote:v}=Ze(),[y,w]=x.useState(i[0]?.id||null),[j,b]=x.useState("consignment"),[P,M]=x.useState(30),[F,G]=x.useState(15),[D,k]=x.useState(Kt().add(14,"day").format("YYYY-MM-DD")),[K,Y]=x.useState(""),[N,$]=x.useState(""),[X,U]=x.useState([]),T=x.useMemo(()=>Object.fromEntries(r.map(q=>[q.id,q.sku||""])),[r]),B=x.useMemo(()=>Object.fromEntries(r.map(q=>[q.id,q.name||"#"])),[r]),ce=x.useMemo(()=>Object.fromEntries(r.map(q=>[q.id,Number(q.salePrice??q.basePrice??0)])),[r]),me=q=>{const ue=X.findIndex(Pe=>Pe.productId===q);if(ue>=0){const Pe=[...X];Pe[ue]={...Pe[ue],qty:(Number(Pe[ue].qty)||0)+1},U(Pe)}else{let Pe=ce[q]||0;j==="wholesale"&&(Pe=Pe*(1-(Number(F)||0)/100)),U([...X,{productId:q,priceOffer:Pe,qty:1}])}},le=q=>{if(q.key!=="Enter")return;const ue=(N||"").trim().toLowerCase();if(!ue)return;const Pe=r.find(Fe=>(Fe.sku||"").toLowerCase()===ue||(Fe.name||"").toLowerCase()===ue);Pe?me(Pe.id):alert("ไม่พบสินค้า: "+ue),$("")},Z=(q,ue)=>U(Pe=>Pe.map((Fe,mt)=>mt===q?{...Fe,...ue}:Fe)),Q=q=>U(ue=>ue.filter((Pe,Fe)=>Fe!==q)),ne=[{key:"sku",header:"SKU"},{key:"name",header:"สินค้า"},{key:"priceOffer",header:"ราคาเสนอ/ชิ้น",render:(q,ue,Pe)=>l.jsx("input",{type:"number",min:"0",step:"0.01",className:"glass rounded-xl px-2 py-1 w-28 text-right",value:ue.priceOffer,onChange:Fe=>Z(Pe,{priceOffer:Number(Fe.target.value)||0})})},{key:"qty",header:"จำนวน",render:(q,ue,Pe)=>l.jsx("input",{type:"number",min:"0",className:"glass rounded-xl px-2 py-1 w-20 text-right",value:ue.qty,onChange:Fe=>Z(Pe,{qty:Number(Fe.target.value)||0})})},...j==="consignment"?[{key:"commissionPct",header:"คอม (%)",render:()=>Number(P||0)},{key:"netUnit",header:"Net/ชิ้น"}]:[],{key:"amount",header:"รวม"},{key:"tools",header:"ลบ",render:(q,ue,Pe)=>l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>Q(Pe),children:"ลบ"})}],O=X.map(q=>{const ue=Number(q.priceOffer||0),Pe=Number(q.qty||0),Fe=ue*Pe,mt=j==="consignment"?ue*(1-(Number(P)||0)/100):ue;return{...q,sku:T[q.productId]||"",name:B[q.productId]||"#"+q.productId,amount:Fe,netUnit:mt,commissionPct:Number(P||0)}}),J=x.useMemo(()=>{const q=O.reduce((Fe,mt)=>Fe+Number(mt.amount||0),0),ue=j==="consignment"?q*(Number(P)||0)/100:0,Pe=q-ue;return{gross:q,commission:ue,net:Pe}},[O,j,P]),W=y&&X.length>0&&X.every(q=>Number(q.qty)>0),C=()=>({date:Kt().format("YYYY-MM-DD"),expireDate:D,prospectId:y,mode:j,commissionPct:Number(P||0),wholesaleDiscountPct:Number(F)||0,note:K,lines:X}),L=()=>{if(!W)return;const{docNo:q}=f(C());alert("บันทึกใบเสนอราคา (DRAFT): "+q),U([])},ae=()=>{if(!W)return;const{id:q,docNo:ue}=f(C());d(q,"SENT"),alert("ส่งใบเสนอราคา: "+ue),U([])},ie=()=>{if(!W)return;const{id:q}=f(C()),ue=h(q);if(ue.ok)alert("สต็อกเพียงพอสำหรับใบเสนอราคานี้");else{const Pe=ue.need.map(Fe=>`${T[Fe.productId]||Fe.productId} ขาด ${Fe.missingQty}`).join(`
`);alert(`สต็อกไม่พอ:
`+Pe)}},he=()=>{if(!W)return;const{id:q}=f(C());if(!h(q).ok){if(!confirm("สต็อกไม่พอ ต้องการสร้างใบสั่งซื้อร่างจากรายการที่ขาดหรือไม่?"))return;v(q),alert("สร้าง PO ร่างจากสินค้าที่ขาดแล้ว");return}const Pe=p(q),Fe=g(q,Pe);alert("แปลงเป็นใบส่งฝากขายเรียบร้อย: "+(Fe?.docNo||"CD-NEW"))},[Ce,_e]=x.useState({name:"",address:"",contact:""}),Ie=()=>{if(!Ce.name.trim())return;const q=c(Ce);w(q),_e({name:"",address:"",contact:""})};return(a||[]).map(q=>({docNo:q.docNo,date:q.date,prospect:i.find(ue=>ue.id===q.prospectId)?.name||"-",mode:q.mode,amount:(q.totals?.net??q.totals?.gross??0).toLocaleString(void 0,{minimumFractionDigits:2}),status:q.status})),l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx("div",{className:"text-sm opacity-70",children:"คู่ค้า (Prospect)"}),l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:y||"",onChange:q=>w(q.target.value?Number(q.target.value):null),children:[l.jsx("option",{value:"",children:"— เลือกคู่ค้า —"}),i.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("input",{className:"glass rounded-2xl px-3 py-2 col-span-1",placeholder:"ชื่อคู่ค้า",value:Ce.name,onChange:q=>_e(ue=>({...ue,name:q.target.value}))}),l.jsx("input",{className:"glass rounded-2xl px-3 py-2 col-span-1",placeholder:"ที่อยู่",value:Ce.address,onChange:q=>_e(ue=>({...ue,address:q.target.value}))}),l.jsx("input",{className:"glass rounded-2xl px-3 py-2 col-span-1",placeholder:"ติดต่อ",value:Ce.contact,onChange:q=>_e(ue=>({...ue,contact:q.target.value}))}),l.jsx("button",{className:"btn btn-outline",onClick:Ie,children:"+ เพิ่มคู่ค้า"})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("div",{className:"text-sm opacity-70",children:"โหมดราคา"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:`btn ${j==="consignment"?"btn-primary":"btn-outline"}`,onClick:()=>b("consignment"),children:"Consignment"}),l.jsx("button",{className:`btn ${j==="retail"?"btn-primary":"btn-outline"}`,onClick:()=>b("retail"),children:"Retail"}),l.jsx("button",{className:`btn ${j==="wholesale"?"btn-primary":"btn-outline"}`,onClick:()=>b("wholesale"),children:"Wholesale"})]}),j==="consignment"&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"คอมมิชชั่น:"}),l.jsx("input",{type:"number",min:"0",max:"100",className:"glass rounded-2xl px-3 py-2 w-28 text-right",value:P,onChange:q=>M(Number(q.target.value)||0)}),l.jsx("span",{children:"%"})]}),j==="wholesale"&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"ส่วนลดจากปลีก:"}),l.jsx("input",{type:"number",min:"0",max:"100",className:"glass rounded-2xl px-3 py-2 w-28 text-right",value:F,onChange:q=>G(Number(q.target.value)||0)}),l.jsx("span",{children:"%"})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("div",{className:"text-sm opacity-70",children:"วันหมดอายุ & หมายเหตุ"}),l.jsx("input",{type:"date",className:"glass rounded-2xl px-4 py-2 outline-none",value:D,onChange:q=>k(q.target.value)}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"หมายเหตุ...",value:K,onChange:q=>Y(q.target.value)}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{className:"btn btn-outline",onClick:L,children:"บันทึก DRAFT"}),l.jsx("button",{className:"btn btn-primary",onClick:ae,children:"ส่งใบเสนอ"})]})]})]})}),l.jsxs(Le,{className:"p-5",children:[l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[1fr_auto] gap-3 items-center mb-3",children:[l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"สแกน/ค้นหา SKU หรือชื่อ แล้วกด Enter",value:N,onChange:q=>$(q.target.value),onKeyDown:le}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{className:"btn btn-outline",onClick:()=>U([]),children:"ล้าง"}),l.jsx("button",{className:"btn btn-primary",onClick:ie,children:"ตรวจสต็อก"}),l.jsx("button",{className:"btn btn-primary",onClick:he,children:"แปลงเป็นใบส่งของ"})]})]}),l.jsx(wt,{columns:ne,data:O})]}),l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"flex flex-wrap gap-6 justify-end text-lg",children:[l.jsxs("div",{children:["ยอด Gross: ",l.jsx("span",{className:"font-semibold",children:J.gross.toLocaleString(void 0,{minimumFractionDigits:2})})]}),j==="consignment"&&l.jsxs("div",{children:["คอมรวม: ",l.jsx("span",{className:"font-semibold",children:J.commission.toLocaleString(void 0,{minimumFractionDigits:2})})]}),l.jsxs("div",{children:["ยอดสุทธิ: ",l.jsx("span",{className:"font-semibold",children:J.net.toLocaleString(void 0,{minimumFractionDigits:2})})]})]})}),l.jsxs(Le,{className:"p-5",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"ประวัติใบเสนอราคา (ล่าสุด)"}),l.jsx(wt,{columns:[{key:"docNo",header:"เลขที่เอกสาร"},{key:"date",header:"วันที่"},{key:"prospect",header:"คู่ค้า"},{key:"mode",header:"โหมดราคา"},{key:"amount",header:"ยอดสุทธิ"},{key:"status",header:"สถานะ"}],data:(a||[]).map(q=>({docNo:q.docNo,date:q.date,prospect:i.find(ue=>ue.id===q.prospectId)?.name||"-",mode:q.mode,amount:(q.totals?.net??q.totals?.gross??0).toLocaleString(void 0,{minimumFractionDigits:2}),status:q.status}))})]})]})}function wy({variant:r="primary",className:i="",...a}){const c="btn "+(r==="primary"?"btn-primary":"btn-outline");return l.jsx("button",{className:`${c} ${i}`,...a})}function Sy(){return l.jsx("div",{className:"grid gap-6",children:l.jsxs("section",{children:[l.jsx("h2",{className:"h-title mb-3",children:"Appearance"}),l.jsxs(Le,{className:"p-4",children:[l.jsx("div",{className:"rounded-2xl overflow-hidden shadow-soft border border-border bg-surface",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1472214103451-9374bd1c798e?q=80&w=1400&auto=format&fit=crop",alt:"Scenic",className:"w-full h-[220px] object-cover"})}),l.jsx("p",{className:"text-center text-sm text-muted mt-3",children:"รูปภาพโดย Péter Hegedüs"}),l.jsx("div",{className:"mt-4 flex justify-center",children:l.jsx(wy,{className:"min-w-[220px]",children:"Change theme"})})]})]})})}function ky(r=""){return r.split(" ").filter(Boolean).slice(0,2).map(i=>i[0]?.toUpperCase()).join("")}function Cy(){const{user:r,setUser:i,setRole:a}=ll(),{branches:c}=Ze(),[f,d]=x.useState(r?.name||""),[h,p]=x.useState(r?.role||"ADMIN"),[g,v]=x.useState(r?.branchId||c[0]?.id||1),[y]=x.useState(r?.email||"demo@example.com"),[w,j]=x.useState(null),b=x.useMemo(()=>c.map(D=>({value:D.id,label:`${D.code||""} ${D.name}`.trim()})),[c]),P=x.useMemo(()=>b.find(D=>D.value===g)?.label||"-",[b,g]),M=D=>{D.preventDefault(),i({...r,name:f,branchId:g,role:h}),a(h),alert("บันทึกข้อมูลโปรไฟล์เรียบร้อย (mock)")},F=D=>{const k=D.target.files?.[0];if(!k)return;const K=URL.createObjectURL(k);j(K)},G=()=>{localStorage.removeItem("role"),location.href="/"};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"relative w-16 h-16 rounded-full overflow-hidden glass flex items-center justify-center text-xl font-semibold",children:w?l.jsx("img",{src:w,alt:"avatar",className:"w-full h-full object-cover"}):ky(f||r?.name)}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold",children:f||r?.name}),l.jsxs("div",{className:"text-sm text-muted",children:[h," • ",P]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("label",{className:"btn btn-outline cursor-pointer",children:["อัปโหลดรูป",l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:F})]}),l.jsx("button",{className:"btn btn-primary",onClick:M,children:"บันทึก"})]})]})}),l.jsxs("form",{onSubmit:M,className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[l.jsxs(Le,{className:"p-6 xl:col-span-2",children:[l.jsx("div",{className:"h-title mb-4",children:"ข้อมูลผู้ใช้งาน"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"ชื่อที่แสดง"}),l.jsx("input",{className:"w-full glass rounded-2xl px-4 py-2 outline-none",value:f,onChange:D=>d(D.target.value),placeholder:"ชื่อ-นามสกุล"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"อีเมล"}),l.jsx("input",{className:"w-full glass rounded-2xl px-4 py-2 outline-none opacity-70",value:y,disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"สาขา (Branch)"}),l.jsx("select",{className:"w-full glass rounded-2xl px-4 py-2 outline-none",value:g,onChange:D=>v(Number(D.target.value)),children:b.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"Role (dev)"}),l.jsx("select",{className:"w-full glass rounded-2xl px-4 py-2 outline-none",value:h,onChange:D=>p(D.target.value),title:"Switch role for demo",children:rl.map(D=>l.jsx("option",{value:D,children:D},D))})]})]}),l.jsxs("div",{className:"mt-6 flex gap-2",children:[l.jsx("button",{type:"submit",className:"btn btn-primary",children:"บันทึกการเปลี่ยนแปลง"}),l.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>{d(r?.name||""),p(r?.role||"ADMIN"),v(r?.branchId||c[0]?.id||1)},children:"รีเซ็ต"})]})]}),l.jsxs("div",{className:"grid gap-6",children:[l.jsxs(Le,{className:"p-6",children:[l.jsx("div",{className:"h-title mb-4",children:"ความปลอดภัย"}),l.jsx("div",{className:"grid gap-3",children:l.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>alert("ยังไม่เชื่อมต่อ backend — ทำหน้าเปลี่ยนรหัสผ่านได้ภายหลัง"),children:"เปลี่ยนรหัสผ่าน (เร็ว ๆ นี้)"})})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("div",{className:"h-title mb-3",children:"ออกจากระบบ"}),l.jsx("p",{className:"text-sm text-muted mb-4",children:"สำหรับเดโมจะเคลียร์ค่า role ใน localStorage และโหลดหน้าใหม่"}),l.jsx("button",{type:"button",className:"btn btn-outline",onClick:G,children:"ออกจากระบบ (mock)"})]})]})]})]})}function by(){return l.jsx("div",{className:"text-muted",children:"ไม่พบหน้าที่ต้องการ"})}const Ey=[{id:1,name:"Admin",email:"admin@example.com",role:"ADMIN",branchId:1,active:!0},{id:2,name:"Staff ชลิน",email:"staff1@example.com",role:"STAFF",branchId:2,active:!0},{id:3,name:"Consign ทีม",email:"consign@example.com",role:"CONSIGNMENT",branchId:null,active:!0},{id:4,name:"Quote View",email:"quote@example.com",role:"QUOTE_VIEWER",branchId:null,active:!0}],Py=Ko((r,i)=>({users:Ey,updateUser:(a,c)=>r(f=>({users:f.users.map(d=>d.id===a?{...d,...c}:d)})),deleteUser:a=>r(c=>({users:c.users.filter(f=>f.id!==a)}))}));function Ry({role:r}){const i={ADMIN:"bg-purple-100 text-purple-900",STAFF:"bg-blue-100 text-blue-900",CONSIGNMENT:"bg-emerald-100 text-emerald-900",QUOTE_VIEWER:"bg-slate-200 text-slate-900"};return l.jsx("span",{className:`px-2 py-0.5 rounded-xl text-xs ${i[r]||"bg-slate-100 text-slate-900"}`,children:r})}function Ly({title:r,children:i}){return l.jsxs(Le,{className:"p-5",children:[l.jsx("div",{className:"h-title mb-3",children:r}),i]})}function Dy(){const{user:r}=ll(),i=r?.role==="ADMIN",{users:a,updateUser:c,deleteUser:f}=Py(),{branches:d}=Ze();if(!i)return l.jsxs(Le,{className:"p-6",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"403 – Unauthorized"}),l.jsx("div",{className:"text-sm text-muted",children:"หน้านี้สำหรับผู้ดูแลระบบ (ADMIN) เท่านั้น"})]});const h=x.useMemo(()=>Object.fromEntries(d.map(k=>[k.id,`${k.code||""} ${k.name}`.trim()])),[d]),[p,g]=x.useState(""),[v,y]=x.useState("ALL"),[w,j]=x.useState("ALL"),b=x.useMemo(()=>a.filter(k=>{const K=!p||k.name.toLowerCase().includes(p.toLowerCase())||k.email.toLowerCase().includes(p.toLowerCase()),Y=v==="ALL"||k.role===v,N=w==="ALL"||w==="NULL"&&(k.branchId===null||k.branchId===void 0)||String(k.branchId)===String(w);return K&&Y&&N}),[a,p,v,w]),[P,M]=x.useState(null),[F,G]=x.useState(null),D=[{key:"name",header:"ชื่อ"},{key:"email",header:"อีเมล"},{key:"role",header:"Role",render:k=>l.jsx(Ry,{role:k})},{key:"branchId",header:"สาขา",render:k=>h[k]||"-"},{key:"active",header:"สถานะ",render:k=>k?l.jsx("span",{className:"px-2 py-0.5 rounded-xl bg-emerald-100 text-emerald-900 text-xs",children:"Active"}):l.jsx("span",{className:"px-2 py-0.5 rounded-xl bg-slate-200 text-slate-900 text-xs",children:"Disabled"})},{key:"actions",header:"การทำงาน",render:(k,K)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>M(K),title:"แก้ไข",children:l.jsx(Ma,{size:16})}),l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>G(K),title:"ลบ",children:l.jsx(Xo,{size:16})})]})}];return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Ly,{title:"ค้นหา / กรอง",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"ค้นหาชื่อหรืออีเมล…",value:p,onChange:k=>g(k.target.value)}),l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:v,onChange:k=>y(k.target.value),children:[l.jsx("option",{value:"ALL",children:"Role: ทุกประเภท"}),rl.map(k=>l.jsx("option",{value:k,children:k},k))]}),l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:w,onChange:k=>j(k.target.value),children:[l.jsx("option",{value:"ALL",children:"สาขา: ทั้งหมด"}),l.jsx("option",{value:"NULL",children:"— ไม่มีสาขา —"}),d.map(k=>l.jsxs("option",{value:k.id,children:[k.code||""," ",k.name]},k.id))]})]})}),l.jsxs(Le,{className:"p-5",children:[l.jsx("div",{className:"mb-3 h-title",children:"ผู้ใช้งานทั้งหมด"}),l.jsx(wt,{columns:D,data:b.map(k=>({...k,actions:""}))})]}),P&&l.jsx(_y,{user:P,branches:d,onClose:()=>M(null),onSave:k=>{c(P.id,k),M(null)}}),F&&l.jsx(My,{user:F,onClose:()=>G(null),onConfirm:()=>{f(F.id),G(null)}})]})}function Uf({title:r,children:i,actions:a}){return l.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40"}),l.jsxs("div",{className:"relative z-10 w-[95vw] max-w-xl card p-5",children:[l.jsx("div",{className:"h-title mb-3",children:r}),l.jsx("div",{className:"grid gap-4",children:i}),l.jsx("div",{className:"mt-4 flex justify-end gap-2",children:a})]})]})}function _y({user:r,branches:i,onClose:a,onSave:c}){const[f,d]=x.useState(r.name),[h,p]=x.useState(r.email),[g,v]=x.useState(r.role),[y,w]=x.useState(r.branchId??""),[j,b]=x.useState(!!r.active);return l.jsx(Uf,{title:"แก้ไขผู้ใช้งาน",actions:l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"btn btn-outline",onClick:a,children:"ยกเลิก"}),l.jsx("button",{className:"btn btn-primary",onClick:()=>c({name:f,email:h,role:g,branchId:y===""?null:Number(y),active:j}),children:"บันทึก"})]}),children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"ชื่อ"}),l.jsx("input",{className:"w-full glass rounded-2xl px-4 py-2",value:f,onChange:P=>d(P.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"อีเมล"}),l.jsx("input",{className:"w-full glass rounded-2xl px-4 py-2",value:h,onChange:P=>p(P.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"Role"}),l.jsx("select",{className:"w-full glass rounded-2xl px-4 py-2",value:g,onChange:P=>v(P.target.value),children:rl.map(P=>l.jsx("option",{value:P,children:P},P))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-muted mb-1",children:"สาขา (เว้นว่างถ้าไม่มี)"}),l.jsxs("select",{className:"w-full glass rounded-2xl px-4 py-2",value:y===null?"":y,onChange:P=>w(P.target.value===""?"":Number(P.target.value)),children:[l.jsx("option",{value:"",children:"— ไม่มีสาขา —"}),i.map(P=>l.jsxs("option",{value:P.id,children:[P.code||""," ",P.name]},P.id))]})]}),l.jsx("div",{className:"md:col-span-2",children:l.jsxs("label",{className:"inline-flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:j,onChange:P=>b(P.target.checked)}),l.jsx("span",{className:"text-sm",children:"Active"})]})})]})})}function My({user:r,onClose:i,onConfirm:a}){return l.jsxs(Uf,{title:"ยืนยันการลบผู้ใช้",actions:l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"btn btn-outline",onClick:i,children:"ยกเลิก"}),l.jsx("button",{className:"btn btn-primary",onClick:a,children:"ลบ"})]}),children:[l.jsxs("p",{className:"text-sm",children:["คุณต้องการลบผู้ใช้ ",l.jsx("span",{className:"font-medium",children:r.name})," (",r.email,") ใช่หรือไม่?"]}),l.jsx("p",{className:"text-xs text-muted",children:"การลบนี้เป็นแบบ mock — ยังไม่เชื่อมต่อ backend"})]})}function Iy({kind:r,setKind:i}){const a=[{key:"delivery",label:"Template Delivery"},{key:"invoice",label:"Template Invoice"},{key:"receipt",label:"Template Receipt"}];return l.jsx("div",{className:"flex gap-2",children:a.map(c=>l.jsx("button",{className:`btn ${r===c.key?"btn-primary":"btn-outline"}`,onClick:()=>i(c.key),children:c.label},c.key))})}const Ty=[{value:"CHALIN_CLOTHES",label:"Chalin Clothes"},{value:"SUKANYA_WIWITPHORN",label:"นาง สุกัญญา วิวิธพร"}],Oy=[{value:"F1_ITEMS",label:"F1: รายการต่อสินค้า"},{value:"F2_GROUP_BY_CATEGORY",label:"F2: รวมตามหมวด (แนะนำ)"}],zy=[{value:"B1_MONTHLY_DESC",label:"B1: แถวสรุป (ค่าขายสินค้า (เดือน/ปี))"},{value:"B2_CONSIGNMENT_MONTH",label:"B2: แถวสรุป (Consignment / (เดือน))"},{value:"B3_GROUP_BY_CATEGORY",label:"B3: รวมตามหมวด (แนะนำ)"}],Fy=[{value:"ITEMS_SUMMARY",label:"สรุปรายการอย่างย่อ"}],$y=[{value:"CHALISA",label:"ลงชื่อผู้ส่ง: Chalisa / ผู้รับ: วันนี้"},{value:"SUKANYA",label:"ลงชื่อผู้ส่ง: สุกัญญา / ผู้รับ: วันนี้"}];function Ay({kind:r,initial:i,onClose:a,onSave:c}){const f=!i?.id,[d,h]=x.useState(()=>i||{name:"",head:{type:"CHALIN_CLOTHES",showTaxId:!0,logo:null},body:r==="delivery"?{type:"F2_GROUP_BY_CATEGORY",columns:["no","code","name","qty","unitPrice","amount"]}:r==="invoice"?{type:"B3_GROUP_BY_CATEGORY",columns:["no","code","desc","qty","unitPrice","amount"]}:{type:"ITEMS_SUMMARY",columns:["desc","amount"]},footer:{type:"CHALISA",showReceiverToday:!0,notes:""},options:{paper:r==="receipt"?"A5":"A4",currency:"THB"}}),p=(j,b)=>h(P=>({...P,[j]:b})),g=j=>b=>p("head",{...d.head,[j]:b.target.type==="checkbox"?b.target.checked:b.target.value}),v=j=>b=>p("footer",{...d.footer,[j]:b.target.type==="checkbox"?b.target.checked:b.target.value}),y=j=>p("body",{...d.body,type:j.target.value}),w=r==="delivery"?Oy:r==="invoice"?zy:Fy;return l.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:a}),l.jsxs("div",{className:"relative z-10 card p-5 w-[96vw] max-w-3xl",children:[l.jsx("div",{className:"h-title mb-3",children:f?"เพิ่ม Template":"แก้ไข Template"}),l.jsxs("div",{className:"grid gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ชื่อ Template"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.name,onChange:j=>p("name",j.target.value),placeholder:"เช่น Delivery – F2/Chalisa (default)"})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsx("div",{className:"font-semibold mb-3",children:"ส่วนหัว (Head)"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ผู้ส่ง"}),l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.head?.type||"CHALIN_CLOTHES",onChange:g("type"),children:Ty.map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!d.head?.showTaxId,onChange:g("showTaxId")}),"แสดง Tax ID ในส่วนหัว"]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"โลโก้ (URL)"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.head?.logo||"",onChange:g("logo"),placeholder:"https://..."})]})]})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsx("div",{className:"font-semibold mb-3",children:"ส่วนเนื้อหา (Body)"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"รูปแบบ"}),l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.body?.type||"",onChange:y,children:w.map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm text-muted",children:"คอลัมน์ (คั่นด้วย comma)"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:(d.body?.columns||[]).join(","),onChange:j=>p("body",{...d.body,columns:j.target.value.split(",").map(b=>b.trim()).filter(Boolean)}),placeholder:"เช่น no,code,name,qty,unitPrice,amount"})]})]})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsx("div",{className:"font-semibold mb-3",children:"ส่วนท้าย (Footer)"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ผู้ลงชื่อ"}),l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.footer?.type||"CHALISA",onChange:v("type"),children:$y.map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!d.footer?.showReceiverToday,onChange:v("showReceiverToday")}),'แสดงช่อง "ผู้รับสินค้า: วันนี้"']}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:"text-sm text-muted",children:"หมายเหตุ"}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.footer?.notes||"",onChange:v("notes"),placeholder:"ข้อความท้ายใบ..."})]})]})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsx("div",{className:"font-semibold mb-3",children:"ตัวเลือก (Options)"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"ขนาดกระดาษ"}),l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.options?.paper||"A4",onChange:j=>p("options",{...d.options,paper:j.target.value}),children:[l.jsx("option",{value:"A4",children:"A4"}),l.jsx("option",{value:"A5",children:"A5"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted",children:"สกุลเงิน"}),l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none w-full",value:d.options?.currency||"THB",onChange:j=>p("options",{...d.options,currency:j.target.value}),children:[l.jsx("option",{value:"THB",children:"THB"}),l.jsx("option",{value:"USD",children:"USD"})]})]})]})]})]}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx("button",{className:"btn btn-outline",onClick:a,children:"ยกเลิก"}),l.jsx("button",{className:"btn btn-primary",onClick:()=>c(d),children:f?"เพิ่ม Template":"บันทึก"})]})]})]})}function Uy(){const{templates:r={delivery:[],invoice:[],receipt:[]},initDefaultTemplates:i,createTemplate:a,updateTemplate:c,deleteTemplate:f,consignmentDocRefs:d=[],consignmentShops:h=[]}=Ze(),[p,g]=x.useState("delivery"),[v,y]=x.useState(""),[w,j]=x.useState(null);x.useEffect(()=>{!r?.delivery?.length&&typeof i=="function"&&i()},[r,i]);const b=r?.[p]||[],P=x.useMemo(()=>{const D=v.trim().toLowerCase();return D?b.filter(k=>(k.name||"").toLowerCase().includes(D)):b},[v,b]),M=D=>d.filter(k=>p==="delivery"&&k.deliveryTemplateId===D||p==="invoice"&&k.invoiceTemplateId===D||p==="receipt"&&k.receiptTemplateId===D).length,F=[{key:"name",header:"ชื่อ Template"},{key:"head",header:"Head",render:(D,k)=>k.head?.type},{key:"body",header:"Body",render:(D,k)=>k.body?.type},{key:"footer",header:"Footer",render:(D,k)=>k.footer?.type},{key:"used",header:"ใช้โดยร้าน (นับ)",render:(D,k)=>M(k.id)},{key:"tools",header:"เครื่องมือ",render:(D,k)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>j(k),children:l.jsx(Ma,{size:16})}),l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>alert("Preview (จะเชื่อมกับ doc preview/paper print)"),children:l.jsx($f,{size:16})}),l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>{confirm("ลบ Template นี้?")&&f(p,k.id)},children:l.jsx(Xo,{size:16})})]})}],G=D=>{w?.id?c(p,w.id,D):a(p,D),j(null)};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsx(Iy,{kind:p,setKind:g}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"ค้นหา template…",value:v,onChange:D=>y(D.target.value)}),l.jsxs("button",{className:"btn btn-primary",onClick:()=>j({}),children:[l.jsx(ls,{className:"mr-2",size:16})," เพิ่ม Template"]})]})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:F,data:P.map(D=>({...D,used:""}))})}),w&&l.jsx(Ay,{kind:p,initial:w?.id?w:null,onClose:()=>j(null),onSave:G})]})}function By(){const{branches:r=[],products:i=[],addBranchDelivery:a}=Ze(),[c,f]=x.useState(r[0]?.id||null),[d,h]=x.useState(Kt().format("YYYY-MM-DD")),[p,g]=x.useState(""),[v,y]=x.useState([]),w=x.useMemo(()=>new Map(i.map(k=>[k.id,k])),[i]),j=k=>{if(k.key!=="Enter")return;const K=p.trim().toLowerCase();if(!K)return;const Y=i.find(N=>(N.sku||"").toLowerCase()===K||(N.name||"").toLowerCase()===K);if(Y){const N=v.findIndex($=>$.productId===Y.id);if(N>=0){const $=[...v];$[N]={...$[N],qty:(Number($[N].qty)||0)+1},y($)}else y([...v,{productId:Y.id,qty:1,note:""}]);g("")}else alert("ไม่พบสินค้า: "+K)},b=[{key:"sku",header:"SKU"},{key:"name",header:"ชื่อสินค้า"},{key:"qty",header:"จำนวน",render:(k,K,Y)=>l.jsx("input",{type:"number",min:"0",className:"glass rounded-xl px-2 py-1 w-24 text-right",value:K.qty,onChange:N=>M(Y,{qty:Number(N.target.value)||0})})},{key:"note",header:"หมายเหตุ",render:(k,K,Y)=>l.jsx("input",{className:"glass rounded-xl px-2 py-1 w-48",value:K.note||"",onChange:N=>M(Y,{note:N.target.value})})},{key:"tools",header:"ลบ",render:(k,K,Y)=>l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>F(Y),children:"ลบ"})}],P=v.map(k=>{const K=w.get(k.productId)||{};return{...k,sku:K.sku,name:K.name,tools:""}}),M=(k,K)=>{y(Y=>Y.map((N,$)=>$===k?{...N,...K}:N))},F=k=>y(K=>K.filter((Y,N)=>N!==k)),G=c&&v.length>0&&v.every(k=>Number(k.qty)>0),D=()=>{if(!G)return;const k={type:"BRANCH_DELIVERY",date:d,branchId:c,lines:v.map(K=>({productId:K.productId,qty:Number(K.qty)||0,note:K.note||""})),note:""};typeof a=="function"&&a(k),alert("บันทึกใบส่งของสาขา (mock)"),y([])};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-3 items-center",children:[l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:c||"",onChange:k=>f(Number(k.target.value)||null),children:r.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))}),l.jsx("input",{type:"date",className:"glass rounded-2xl px-4 py-2 outline-none",value:d,onChange:k=>h(k.target.value)}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"สแกน/ค้นหา SKU หรือชื่อ…",value:p,onChange:k=>g(k.target.value),onKeyDown:j}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{className:"btn btn-outline",onClick:()=>y([]),children:"ล้าง"}),l.jsx("button",{className:"btn btn-primary",disabled:!G,onClick:D,children:"บันทึก & ออกใบส่ง"})]})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:b,data:P})})]})}function Hy(){const{branches:r=[],products:i=[],addBranchSale:a}=Ze(),[c,f]=x.useState(r[0]?.id||null),[d,h]=x.useState(""),[p,g]=x.useState(Kt().format("YYYY-MM-DD")),[v,y]=x.useState("cash"),[w,j]=x.useState([]),b=x.useMemo(()=>new Map(i.map(N=>[N.id,N])),[i]),P=N=>{if(N.key!=="Enter")return;const $=d.trim().toLowerCase();if(!$)return;const X=i.find(U=>(U.sku||"").toLowerCase()===$||(U.name||"").toLowerCase()===$);if(X){const U=w.findIndex(T=>T.productId===X.id);if(U>=0){const T=[...w];T[U]={...T[U],qty:(Number(T[U].qty)||0)+1},j(T)}else j([...w,{productId:X.id,qty:1,price:Number(X.salePrice||0)}]);h("")}else alert("ไม่พบสินค้า: "+$)},M=(N,$)=>j(X=>X.map((U,T)=>T===N?{...U,...$}:U)),F=N=>j($=>$.filter((X,U)=>U!==N)),G=[{key:"sku",header:"SKU"},{key:"name",header:"ชื่อสินค้า"},{key:"price",header:"ราคา/ชิ้น",render:(N,$,X)=>l.jsx("input",{type:"number",min:"0",step:"0.01",className:"glass rounded-xl px-2 py-1 w-28 text-right",value:$.price,onChange:U=>M(X,{price:Number(U.target.value)||0})})},{key:"qty",header:"จำนวน",render:(N,$,X)=>l.jsx("input",{type:"number",min:"0",className:"glass rounded-xl px-2 py-1 w-20 text-right",value:$.qty,onChange:U=>M(X,{qty:Number(U.target.value)||0})})},{key:"amount",header:"รวม",render:(N,$)=>(Number($.price||0)*Number($.qty||0)).toLocaleString(void 0,{minimumFractionDigits:2})},{key:"tools",header:"ลบ",render:(N,$,X)=>l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>F(X),children:"ลบ"})}],D=w.map(N=>{const $=b.get(N.productId)||{};return{...N,sku:$.sku,name:$.name,amount:Number(N.price||0)*Number(N.qty||0),tools:""}}),k=x.useMemo(()=>({sum:D.reduce(($,X)=>$+Number(X.amount||0),0)}),[D]),K=c&&w.length>0&&w.every(N=>Number(N.qty)>0),Y=()=>{if(!K)return;const N={type:"BRANCH_SALE",date:p,branchId:c,payMethod:v,lines:w.map($=>({productId:$.productId,qty:Number($.qty)||0,price:Number($.price)||0})),amount:k.sum};typeof a=="function"&&a(N),alert("บันทึกการขายหน้าร้าน (mock)"),j([])};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-3 items-center",children:[l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:c||"",onChange:N=>f(Number(N.target.value)||null),children:r.map(N=>l.jsx("option",{value:N.id,children:N.name},N.id))}),l.jsx("input",{type:"date",className:"glass rounded-2xl px-4 py-2 outline-none",value:p,onChange:N=>g(N.target.value)}),l.jsxs("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:v,onChange:N=>y(N.target.value),children:[l.jsx("option",{value:"cash",children:"เงินสด"}),l.jsx("option",{value:"transfer",children:"โอน"}),l.jsx("option",{value:"promptpay",children:"พร้อมเพย์"}),l.jsx("option",{value:"card",children:"บัตร"})]}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"สแกน/ค้นหา SKU หรือชื่อ…",value:d,onChange:N=>h(N.target.value),onKeyDown:P}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{className:"btn btn-outline",onClick:()=>j([]),children:"ล้าง"}),l.jsx("button",{className:"btn btn-primary",disabled:!K,onClick:Y,children:"บันทึกการขาย & พิมพ์ใบเสร็จ"})]})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:G,data:D})}),l.jsx(Le,{className:"p-5",children:l.jsx("div",{className:"flex justify-end gap-6 text-lg",children:l.jsxs("div",{children:["ยอดสุทธิ: ",l.jsx("span",{className:"font-semibold",children:k.sum.toLocaleString(void 0,{minimumFractionDigits:2})})]})})})]})}function Zo({categoryOverride:r,shop:i}){return r?.commissionPct!=null&&r.commissionPct!==""?Number(r.commissionPct):i?.commissionPct!=null&&i.commissionPct!==""?Number(i.commissionPct):0}function Bf({product:r,category:i,shop:a,categoryOverride:c}){if(i?.netUnitPrice!=null&&i.netUnitPrice!=="")return Number(i.netUnitPrice);const f=Zo({categoryOverride:c,shop:a}),d=Number(r.salePrice||r.basePrice||0);return Math.max(0,d*(1-f/100))}function Vy(){const{consignmentShops:r=[],products:i=[],consignmentCategories:a=[],productConsignmentMap:c=[],consignmentCategoryOverrides:f=[],addConsignmentDelivery:d}=Ze(),[h,p]=x.useState(r[0]?.id||null),[g,v]=x.useState(Kt().format("YYYY-MM-DD")),[y,w]=x.useState(""),[j,b]=x.useState([]),P=x.useMemo(()=>new Map(i.map(X=>[X.id,X])),[i]),M=x.useMemo(()=>{const X=new Map;for(const U of c)U.shopId===h&&X.set(U.productId,U.categoryId);return X},[c,h]),F=X=>{if(X.key!=="Enter")return;const U=y.trim().toLowerCase();if(!U)return;const T=i.find(B=>(B.sku||"").toLowerCase()===U||(B.name||"").toLowerCase()===U);if(T){const B=j.findIndex(ce=>ce.productId===T.id);if(B>=0){const ce=[...j];ce[B]={...ce[B],qty:(Number(ce[B].qty)||0)+1},b(ce)}else b([...j,{productId:T.id,qty:1}]);w("")}else alert("ไม่พบสินค้า: "+U)},G=[{key:"sku",header:"SKU"},{key:"name",header:"ชื่อสินค้า"},{key:"category",header:"หมวด (ร้าน)"},{key:"qty",header:"จำนวน",render:(X,U,T)=>l.jsx("input",{type:"number",min:"0",className:"glass rounded-xl px-2 py-1 w-24 text-right",value:U.qty,onChange:B=>K(T,{qty:Number(B.target.value)||0})})},{key:"netUnit",header:"Net/ชิ้น"},{key:"amountNet",header:"รวมสุทธิ"},{key:"commissionPct",header:"คอม (%)"},{key:"commissionAmount",header:"คอม (บาท)"},{key:"tools",header:"ลบ",render:(X,U,T)=>l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>Y(T),children:"ลบ"})}],D=j.map(X=>{const U=P.get(X.productId)||{},T=M.get(X.productId),B=a.find(C=>C.id===T),ce=f.find(C=>C.shopId===h&&C.categoryId===T),me=r.find(C=>C.id===h),le=Bf({product:U,category:B,shop:me,categoryOverride:ce}),Z=Number(X.qty)||0,Q=le*Z,ne=Zo({categoryOverride:ce,shop:me}),W=Number(U.salePrice||U.basePrice||0)*Z-Q;return{...X,sku:U.sku,name:U.name,category:B?.name||"-",netUnit:le,amountNet:Q,commissionPct:ne,commissionAmount:W,tools:""}}),k=x.useMemo(()=>{let X=0,U=0;for(const T of D)X+=Number(T.amountNet||0),U+=Number(T.commissionAmount||0);return{net:X,com:U}},[D]),K=(X,U)=>b(T=>T.map((B,ce)=>ce===X?{...B,...U}:B)),Y=X=>b(U=>U.filter((T,B)=>B!==X)),N=h&&j.length>0&&j.every(X=>Number(X.qty)>0),$=()=>{if(!N)return;const X={type:"CONSIGNMENT_DELIVERY",date:g,shopId:h,lines:j.map(U=>({productId:U.productId,qty:Number(U.qty)||0})),totals:k};typeof d=="function"&&d(X),alert("บันทึกใบส่งฝากขาย (mock)"),b([])};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-3 items-center",children:[l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:h||"",onChange:X=>p(Number(X.target.value)||null),children:r.map(X=>l.jsx("option",{value:X.id,children:X.nameInternal||X.name},X.id))}),l.jsx("input",{type:"date",className:"glass rounded-2xl px-4 py-2 outline-none",value:g,onChange:X=>v(X.target.value)}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"สแกน/ค้นหา SKU หรือชื่อ…",value:y,onChange:X=>w(X.target.value),onKeyDown:F}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{className:"btn btn-outline",onClick:()=>b([]),children:"ล้าง"}),l.jsx("button",{className:"btn btn-primary",disabled:!N,onClick:$,children:"บันทึก & ออกใบส่ง"})]})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:G,data:D})}),l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"flex justify-end gap-8 text-lg",children:[l.jsxs("div",{children:["คอมรวม: ",l.jsx("span",{className:"font-semibold",children:k.com.toLocaleString(void 0,{minimumFractionDigits:2})})]}),l.jsxs("div",{children:["สุทธิรวม: ",l.jsx("span",{className:"font-semibold",children:k.net.toLocaleString(void 0,{minimumFractionDigits:2})})]})]})})]})}function Wy(){const{consignmentShops:r=[],products:i=[],consignmentCategories:a=[],productConsignmentMap:c=[],consignmentCategoryOverrides:f=[],postConsignmentSales:d}=Ze(),[h,p]=x.useState(r[0]?.id||null),[g,v]=x.useState(Kt().format("YYYY-MM-DD")),[y,w]=x.useState(""),[j,b]=x.useState([]),P=x.useMemo(()=>new Map(i.map(U=>[U.id,U])),[i]),M=x.useMemo(()=>r.find(U=>U.id===h),[r,h]),F=x.useMemo(()=>{const U=new Map;for(const T of c)T.shopId===h&&U.set(T.productId,T.categoryId);return U},[c,h]),G=U=>{if(U.key!=="Enter")return;const T=y.trim().toLowerCase();if(!T)return;const B=i.find(ce=>(ce.sku||"").toLowerCase()===T||(ce.name||"").toLowerCase()===T);if(B){const ce=j.findIndex(me=>me.productId===B.id);if(ce>=0){const me=[...j];me[ce]={...me[ce],qty:(Number(me[ce].qty)||0)+1},b(me)}else b([...j,{productId:B.id,qty:1,price:Number(B.salePrice||0)}]);w("")}else alert("ไม่พบสินค้า: "+T)},D=(U,T)=>b(B=>B.map((ce,me)=>me===U?{...ce,...T}:ce)),k=U=>b(T=>T.filter((B,ce)=>ce!==U)),K=[{key:"sku",header:"SKU"},{key:"name",header:"ชื่อสินค้า"},{key:"category",header:"หมวด (ร้าน)"},{key:"price",header:"ราคาขาย/ชิ้น",render:(U,T,B)=>l.jsx("input",{type:"number",min:"0",step:"0.01",className:"glass rounded-xl px-2 py-1 w-28 text-right",value:T.price,onChange:ce=>D(B,{price:Number(ce.target.value)||0})})},{key:"qty",header:"จำนวน",render:(U,T,B)=>l.jsx("input",{type:"number",min:"0",className:"glass rounded-xl px-2 py-1 w-20 text-right",value:T.qty,onChange:ce=>D(B,{qty:Number(ce.target.value)||0})})},{key:"netUnit",header:"Net/ชิ้น (ตามคอม)"},{key:"amountNet",header:"รวมสุทธิ"},{key:"commissionPct",header:"คอม (%)"},{key:"commissionAmount",header:"คอม (บาท)"},{key:"tools",header:"ลบ",render:(U,T,B)=>l.jsx("button",{className:"btn btn-outline px-2 py-1",onClick:()=>k(B),children:"ลบ"})}],Y=j.map(U=>{const T=P.get(U.productId)||{},B=F.get(U.productId),ce=a.find(C=>C.id===B),me=f.find(C=>C.shopId===h&&C.categoryId===B),le=Zo({categoryOverride:me,shop:M}),Z=Number(U.price??T.salePrice??T.basePrice??0),Q=Number(U.qty)||0,ne=Bf({product:{...T,salePrice:Z},category:ce,shop:M,categoryOverride:me}),O=ne*Q,W=Z*Q-O;return{...U,sku:T.sku,name:T.name,category:ce?.name||"-",netUnit:ne,amountNet:O,commissionPct:le,commissionAmount:W,tools:""}}),N=x.useMemo(()=>{let U=0,T=0;for(const B of Y)U+=Number(B.amountNet||0),T+=Number(B.commissionAmount||0);return{net:U,com:T}},[Y]),$=h&&j.length>0&&j.every(U=>Number(U.qty)>0),X=()=>{if(!$)return;const U={type:"CONSIGNMENT_SALES",date:g,shopId:h,lines:j.map(T=>({productId:T.productId,qty:Number(T.qty)||0,price:Number(T.price)||0})),totals:N};typeof d=="function"&&d(U),alert("โพสต์ยอดขายฝากขาย (mock)"),b([])};return l.jsxs("div",{className:"grid gap-6",children:[l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-3 items-center",children:[l.jsx("select",{className:"glass rounded-2xl px-4 py-2 outline-none",value:h||"",onChange:U=>p(Number(U.target.value)||null),children:r.map(U=>l.jsx("option",{value:U.id,children:U.nameInternal||U.name},U.id))}),l.jsx("input",{type:"date",className:"glass rounded-2xl px-4 py-2 outline-none",value:g,onChange:U=>v(U.target.value)}),l.jsx("input",{className:"glass rounded-2xl px-4 py-2 outline-none",placeholder:"สแกน/ค้นหา SKU หรือชื่อ…",value:y,onChange:U=>w(U.target.value),onKeyDown:G}),l.jsxs("div",{className:"flex gap-2 justify-end xl:col-span-2",children:[l.jsx("button",{className:"btn btn-outline",onClick:()=>b([]),children:"ล้าง"}),l.jsx("button",{className:"btn btn-primary",disabled:!$,onClick:X,children:"โพสต์ยอดขาย"})]})]})}),l.jsx(Le,{className:"p-0",children:l.jsx(wt,{columns:K,data:Y})}),l.jsx(Le,{className:"p-5",children:l.jsxs("div",{className:"flex justify-end gap-8 text-lg",children:[l.jsxs("div",{children:["คอมรวม: ",l.jsx("span",{className:"font-semibold",children:N.com.toLocaleString(void 0,{minimumFractionDigits:2})})]}),l.jsxs("div",{children:["สุทธิรวม: ",l.jsx("span",{className:"font-semibold",children:N.net.toLocaleString(void 0,{minimumFractionDigits:2})})]})]})})]})}function Yy(){const{loadDataset:r,resetAll:i}=Ze(),[a,c]=x.useState(!1),f=async()=>{const h=await(await fetch("/src/store/fixtures.full-demo.json")).json();i(),r(h),c(!0),alert("โหลดข้อมูลจำลอง Full Demo เรียบร้อย")};return l.jsxs("div",{className:"p-6 grid gap-4",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Dev Seeder"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-primary",onClick:f,children:"โหลดข้อมูลจำลอง (Full Demo)"}),l.jsx("button",{className:"btn btn-outline",onClick:()=>{i(),c(!1)},children:"ล้างข้อมูล"})]}),l.jsx("div",{className:"opacity-70",children:a?"✅ โหลดแล้ว":"ยังไม่โหลด"})]})}function Qy(){const r="px-3 py-2 rounded-xl hover:bg-white/10",i=({isActive:a})=>a?`${r} bg-white/10 font-semibold`:r;return l.jsxs("div",{className:"grid md:grid-cols-[220px_1fr] gap-4",children:[l.jsxs("aside",{className:"glass rounded-2xl p-3 sticky top-4 h-fit",children:[l.jsx("div",{className:"text-sm opacity-70 mb-2",children:"หมวดเอกสาร"}),l.jsxs("nav",{className:"grid gap-1",children:[l.jsx(rr,{className:i,to:"deliveries",children:"ใบส่งสินค้า"}),l.jsx(rr,{className:i,to:"consales",children:"ยอดขายฝากขาย"}),l.jsx(rr,{className:i,to:"invoices",children:"ใบวางบิล"}),l.jsx(rr,{className:i,to:"receipts",children:"ใบเสร็จรับเงิน"}),l.jsx(rr,{className:i,to:"quotes",children:"ใบเสนอราคา"})]})]}),l.jsx("main",{className:"min-w-0",children:l.jsx("div",{className:"glass rounded-2xl p-4",children:l.jsx(Rf,{})})})]})}function Ky(){const{consignmentDeliveries:r=[],consignmentShops:i=[],branches:a=[]}=Ze(),c=Object.fromEntries(i.map(d=>[d.id,d.nameInternal])),f=Object.fromEntries(a.map(d=>[d.id,d.name]));return l.jsxs("div",{className:"grid gap-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"ใบส่งสินค้า"}),l.jsx("div",{className:"glass rounded-2xl p-3 overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left opacity-70",children:[l.jsx("th",{className:"py-2",children:"เลขที่"}),l.jsx("th",{children:"วันที่"}),l.jsx("th",{children:"ปลายทาง"}),l.jsx("th",{children:"จำนวนรายการ"}),l.jsx("th",{})]})}),l.jsxs("tbody",{children:[r.map(d=>l.jsxs("tr",{className:"border-t border-white/10",children:[l.jsx("td",{className:"py-2",children:d.docNo}),l.jsx("td",{children:d.date}),l.jsx("td",{children:d.shopId?c[d.shopId]:d.branchId?f[d.branchId]:"-"}),l.jsx("td",{children:d.lines?.length||0}),l.jsx("td",{children:l.jsx(Ln,{className:"btn btn-outline btn-xs",to:`/docs/delivery/${d.id}`,children:"ดู/พิมพ์"})})]},d.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"py-8 text-center opacity-60",children:"ไม่มีข้อมูล"})})]})]})})]})}function qy(){const{invoices:r=[],consignmentShops:i=[],branches:a=[]}=Ze(),c=Object.fromEntries(i.map(d=>[d.id,d.nameInternal])),f=Object.fromEntries(a.map(d=>[d.id,d.name]));return l.jsxs("div",{className:"grid gap-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"ใบวางบิล"}),l.jsx("div",{className:"glass rounded-2xl p-3 overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left opacity-70",children:[l.jsx("th",{className:"py-2",children:"เลขที่"}),l.jsx("th",{children:"วันที่"}),l.jsx("th",{children:"คู่ค้า"}),l.jsx("th",{children:"ยอดสุทธิ"}),l.jsx("th",{children:"สถานะ"}),l.jsx("th",{})]})}),l.jsxs("tbody",{children:[r.map(d=>l.jsxs("tr",{className:"border-t border-white/10",children:[l.jsx("td",{className:"py-2",children:d.docNo}),l.jsx("td",{children:d.date}),l.jsx("td",{children:d.shopId?c[d.shopId]:d.branchId?f[d.branchId]:"-"}),l.jsx("td",{children:(d.totals?.net??d.totals?.gross??0).toLocaleString(void 0,{minimumFractionDigits:2})}),l.jsx("td",{children:d.status||"-"}),l.jsx("td",{children:l.jsx(Ln,{className:"btn btn-outline btn-xs",to:`/docs/invoice/${d.id}`,children:"ดู/พิมพ์"})})]},d.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"py-8 text-center opacity-60",children:"ไม่มีข้อมูล"})})]})]})})]})}function Gy(){const{consignmentSales:r=[],consignmentShops:i=[]}=Ze(),a=Object.fromEntries(i.map(c=>[c.id,c.nameInternal]));return l.jsxs("div",{className:"grid gap-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"ยอดขายฝากขาย"}),l.jsx("div",{className:"glass rounded-2xl p-3 overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left opacity-70",children:[l.jsx("th",{className:"py-2",children:"เลขที่"}),l.jsx("th",{children:"วันที่"}),l.jsx("th",{children:"ร้าน"}),l.jsx("th",{children:"ยอดสุทธิ"}),l.jsx("th",{children:"สถานะ"}),l.jsx("th",{})]})}),l.jsxs("tbody",{children:[r.map(c=>l.jsxs("tr",{className:"border-t border-white/10",children:[l.jsx("td",{className:"py-2",children:c.docNo}),l.jsx("td",{children:c.date}),l.jsx("td",{children:a[c.shopId]||"-"}),l.jsx("td",{children:Number(c.totals?.net||0).toLocaleString(void 0,{minimumFractionDigits:2})}),l.jsx("td",{children:c.status||"-"}),l.jsx("td",{children:l.jsx(Ln,{className:"btn btn-outline btn-xs",to:`/docs/consale/${c.id}`,children:"ดู/พิมพ์"})})]},c.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"py-8 text-center opacity-60",children:"ไม่มีข้อมูล"})})]})]})})]})}function Xy(){const{receipts:r=[],consignmentShops:i=[],branches:a=[]}=Ze(),c=Object.fromEntries(i.map(d=>[d.id,d.nameInternal])),f=Object.fromEntries(a.map(d=>[d.id,d.name]));return l.jsxs("div",{className:"grid gap-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"ใบเสร็จรับเงิน"}),l.jsx("div",{className:"glass rounded-2xl p-3 overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left opacity-70",children:[l.jsx("th",{className:"py-2",children:"เลขที่"}),l.jsx("th",{children:"วันที่"}),l.jsx("th",{children:"คู่ค้า"}),l.jsx("th",{children:"จำนวนเงิน"}),l.jsx("th",{children:"สถานะ"}),l.jsx("th",{})]})}),l.jsxs("tbody",{children:[r.map(d=>l.jsxs("tr",{className:"border-t border-white/10",children:[l.jsx("td",{className:"py-2",children:d.docNo}),l.jsx("td",{children:d.date}),l.jsx("td",{children:d.shopId?c[d.shopId]:d.branchId?f[d.branchId]:"-"}),l.jsx("td",{children:(d.totals?.amount??0).toLocaleString(void 0,{minimumFractionDigits:2})}),l.jsx("td",{children:d.status||"-"}),l.jsx("td",{children:l.jsx(Ln,{className:"btn btn-outline btn-xs",to:`/docs/receipt/${d.id}`,children:"ดู/พิมพ์"})})]},d.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"py-8 text-center opacity-60",children:"ไม่มีข้อมูล"})})]})]})})]})}function Jy(){const{quotes:r=[],prospects:i=[]}=Ze(),a=Object.fromEntries(i.map(c=>[c.id,c.name]));return l.jsxs("div",{className:"grid gap-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"ใบเสนอราคา"}),l.jsx("div",{className:"glass rounded-2xl p-3 overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left opacity-70",children:[l.jsx("th",{className:"py-2",children:"เลขที่"}),l.jsx("th",{children:"วันที่"}),l.jsx("th",{children:"คู่ค้า"}),l.jsx("th",{children:"โหมด"}),l.jsx("th",{children:"ยอดสุทธิ"}),l.jsx("th",{children:"สถานะ"}),l.jsx("th",{})]})}),l.jsxs("tbody",{children:[r.map(c=>l.jsxs("tr",{className:"border-t border-white/10",children:[l.jsx("td",{className:"py-2",children:c.docNo}),l.jsx("td",{children:c.date}),l.jsx("td",{children:a[c.prospectId]||"-"}),l.jsx("td",{children:c.mode}),l.jsx("td",{children:(c.totals?.net??c.totals?.gross??0).toLocaleString(void 0,{minimumFractionDigits:2})}),l.jsx("td",{children:c.status}),l.jsx("td",{children:l.jsx(Ln,{className:"btn btn-outline btn-xs",to:`/docs/quote/${c.id}`,children:"ดู/พิมพ์"})})]},c.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"py-8 text-center opacity-60",children:"ไม่มีข้อมูล"})})]})]})})]})}function Zy({children:r}){return l.jsx("div",{className:"a4-page bg-white text-black p-8 mx-auto shadow-xl rounded-xl print:shadow-none print:rounded-none w-[794px] max-w-full",children:r})}function ex(){const{kind:r,id:i}=Wp(),{products:a=[],quotes:c=[],invoices:f=[],receipts:d=[],consignmentDeliveries:h=[],consignmentSales:p=[],consignmentShops:g=[],branches:v=[]}=Ze(),y=D=>Object.fromEntries(D.map(k=>[String(k.id),k])),w=y(a),j=y(g),b=y(v);let P,M="Document";if(r==="delivery"&&(P=h.find(D=>String(D.id)===i),M="ใบส่งสินค้า"),r==="invoice"&&(P=f.find(D=>String(D.id)===i),M="ใบวางบิล"),r==="receipt"&&(P=d.find(D=>String(D.id)===i),M="ใบเสร็จรับเงิน"),r==="quote"&&(P=c.find(D=>String(D.id)===i),M="ใบเสนอราคา"),r==="consale"&&(P=p.find(D=>String(D.id)===i),M="สรุปยอดขายฝากขาย"),!P)return l.jsx("div",{className:"p-6",children:"ไม่พบเอกสาร"});const F=P.shopId?j[String(P.shopId)]?.nameInternal:P.branchId?b[String(P.branchId)]?.name:"-",G=P.lines||[];return l.jsxs("div",{className:"grid gap-4",children:[l.jsx("div",{className:"no-print flex gap-2",children:l.jsx("button",{className:"btn",onClick:()=>window.print(),children:"พิมพ์"})}),l.jsx("div",{className:"print-root",children:l.jsxs(Zy,{children:[l.jsxs("header",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:M}),l.jsxs("div",{className:"text-sm",children:["เลขที่: ",P.docNo]}),l.jsxs("div",{className:"text-sm",children:["วันที่: ",P.date]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-semibold",children:"คู่ค้า/ปลายทาง"}),l.jsx("div",{children:F||"-"})]})]}),l.jsx("section",{className:"mt-6",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"border-b border-gray-300",children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{className:"py-2",children:"ลำดับ"}),l.jsx("th",{children:"สินค้า"}),l.jsx("th",{className:"text-right",children:"จำนวน"}),r!=="delivery"&&l.jsx("th",{className:"text-right",children:"ราคา/ชิ้น"}),r!=="delivery"&&l.jsx("th",{className:"text-right",children:"รวม"})]})}),l.jsxs("tbody",{children:[G.map((D,k)=>{const K=w[String(D.productId)],Y=D.name||K?.name||`#${D.productId}`,N=D.qty??1,$=D.unitPrice??D.priceOffer??K?.salePrice??0,X=D.amount??$*N;return l.jsxs("tr",{className:"border-b border-gray-100",children:[l.jsx("td",{className:"py-2",children:k+1}),l.jsx("td",{children:Y}),l.jsx("td",{className:"text-right",children:N}),r!=="delivery"&&l.jsx("td",{className:"text-right",children:$.toLocaleString()}),r!=="delivery"&&l.jsx("td",{className:"text-right",children:X.toLocaleString()})]},k)}),G.length===0&&l.jsx("tr",{children:l.jsx("td",{className:"py-4 italic text-gray-500",colSpan:5,children:"ไม่มีรายการ"})})]})]})}),l.jsxs("footer",{className:"mt-6 text-right space-y-1",children:[P.totals?.gross!==void 0&&l.jsxs("div",{children:["ยอดรวม (Gross): ",l.jsx("b",{children:Number(P.totals.gross).toLocaleString(void 0,{minimumFractionDigits:2})})]}),P.totals?.commission!==void 0&&l.jsxs("div",{children:["ค่าคอมมิชชั่น: ",l.jsx("b",{children:Number(P.totals.commission).toLocaleString(void 0,{minimumFractionDigits:2})})]}),P.totals?.net!==void 0&&l.jsxs("div",{children:["ยอดสุทธิ (Net): ",l.jsx("b",{children:Number(P.totals.net).toLocaleString(void 0,{minimumFractionDigits:2})})]}),r==="receipt"&&P.totals?.amount!==void 0&&l.jsxs("div",{children:["จำนวนเงินรับชำระ: ",l.jsx("b",{children:Number(P.totals.amount).toLocaleString(void 0,{minimumFractionDigits:2})})]}),l.jsxs("div",{className:"mt-10 grid grid-cols-2 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"h-16"}),l.jsx("div",{className:"border-t border-gray-400 inline-block px-8",children:"ผู้รับสินค้า / ผู้รับเงิน"}),l.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"ลงชื่อ & วันที่"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"h-16"}),l.jsx("div",{className:"border-t border-gray-400 inline-block px-8",children:"ผู้ส่งสินค้า / ผู้จัดทำ"}),l.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"ลงชื่อ & วันที่"})]})]})]})]})})]})}function tx(){return l.jsx(Af,{defaultScope:"consignment"})}const nx=[{path:"/",element:l.jsx(Kg,{}),errorElement:l.jsx(by,{}),children:[{index:!0,element:l.jsx(sy,{})},{path:"users",element:l.jsx(Dy,{})},{path:"products",element:l.jsx(iy,{})},{path:"consignment/categories",element:l.jsx(oy,{})},{path:"branches",element:l.jsx(cy,{})},{path:"consignment-shops",element:l.jsx(fy,{})},{path:"inventory",element:l.jsx(Af,{})},{path:"inventory/count",element:l.jsx(py,{})},{path:"consignment/inventory",element:l.jsx(tx,{})},{path:"purchases",element:l.jsx(Ny,{})},{path:"branches/delivery",element:l.jsx(By,{})},{path:"branches/sales",element:l.jsx(Hy,{})},{path:"consignment/delivery",element:l.jsx(Vy,{})},{path:"consignment/sales",element:l.jsx(Wy,{})},{path:"quotes",element:l.jsx(jy,{})},{path:"settings",element:l.jsx(Sy,{})},{path:"settings/templates",element:l.jsx(Uy,{})},{path:"profile",element:l.jsx(Cy,{})},{path:"dev/seeder",element:l.jsx(Yy,{})}]},{path:"docs",element:l.jsx(Qy,{}),children:[{index:!0,element:l.jsx("div",{className:"p-6",children:"เลือกประเภทเอกสารจากเมนูด้านซ้าย"})},{path:"deliveries",element:l.jsx(Ky,{})},{path:"consales",element:l.jsx(Gy,{})},{path:"invoices",element:l.jsx(qy,{})},{path:"receipts",element:l.jsx(Xy,{})},{path:"quotes",element:l.jsx(Jy,{})},{path:":kind/:id",element:l.jsx(ex,{})}]}],rx=Iv(nx,Yv);function lx(){return l.jsx(Wv,{router:rx})}Mh.createRoot(document.getElementById("root")).render(l.jsx(lx,{}));
